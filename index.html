<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ÿ®Ÿäÿ¶ÿ© ÿßŸÑÿ™ÿπŸÑŸÖ ÿßŸÑŸÇÿßÿ¶ŸÖÿ© ÿπŸÑŸâ ÿ≠ÿ¥ÿØ ÿßŸÑŸÖÿµÿßÿØÿ± ŸÑŸÖŸÇÿ±ÿ± ÿßŸÑŸÅŸÑÿ≥ŸÅÿ©</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Tajawal:wght@300;400;500;700;800;900&display=swap" rel="stylesheet">
    <script type="module" src="https://cdn.jsdelivr.net/npm/ionicons@7.4.0/dist/ionicons/ionicons.esm.js"></script>
    <script nomodule src="https://cdn.jsdelivr.net/npm/ionicons@7.4.0/dist/ionicons/ionicons.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
    <style>
        * {
            box-sizing: border-box;
        }
        
        /* Smooth Scrolling */
        html {
            scroll-behavior: smooth;
        }
        
        body {
            font-family: 'Tajawal', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            position: relative;
            overflow-x: hidden;
        }
        
        /* Background Animation */
        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,%3Csvg width="60" height="60" viewBox="0 0 60 60" xmlns="http://www.w3.org/2000/svg"%3E%3Cg fill="none" fill-rule="evenodd"%3E%3Cg fill="%239C92AC" fill-opacity="0.05"%3E%3Cpath d="M36 34v-4h-2v4h-4v2h4v4h2v-4h4v-2h-4zm0-30V0h-2v4h-4v2h4v4h2V6h4V4h-4zM6 34v-4H4v4H0v2h4v4h2v-4h4v-2H6zM6 4V0H4v4H0v2h4v4h2V6h4V4H6z"/%3E%3C/g%3E%3C/g%3E%3C/svg%3E');
            pointer-events: none;
            animation: float 20s ease-in-out infinite;
        }
        
        @keyframes float {
            0%, 100% { transform: translateY(0px) translateX(0px); }
            33% { transform: translateY(-20px) translateX(-10px); }
            66% { transform: translateY(20px) translateX(10px); }
        }
        
        .screen {
            display: none;
            min-height: 100vh;
            justify-content: center;
            position: relative;
            padding-top: 6rem;
            padding-bottom: 6rem;
            animation: screenIn 0.5s ease-out;
            opacity: 0;
            transition: opacity 0.3s ease-in-out;
        }
        
        .screen.active {
            display: flex;
            opacity: 1;
        }
        
        @keyframes screenIn {
            from {
                opacity: 0;
                transform: translateY(30px) scale(0.95);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .fade-in {
            animation: fadeIn 0.8s ease-out;
        }
        
        @keyframes fadeIn {
            from {
                opacity: 0;
                transform: translateY(30px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }
        
        /* Glass Morphism Effect */
        .glass-card {
            background: rgba(255, 255, 255, 0.95);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            border-radius: 24px;
            border: 1px solid rgba(255, 255, 255, 0.18);
            box-shadow: 0 25px 45px rgba(0, 0, 0, 0.1),
                        0 0 20px rgba(255, 255, 255, 0.5) inset;
        }
        
        /* Enhanced Header */
        .header-gradient {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            box-shadow: 0 10px 30px rgba(118, 75, 162, 0.3);
        }
        
        /* Option Cards with Hover Effect */
        .option-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-style: preserve-3d;
            position: relative;
            overflow: hidden;
        }
        
        .option-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }
        
        .option-card:hover::before {
            left: 100%;
        }
        
        .option-card:hover {
            transform: translateY(-8px) rotateX(5deg);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        .option-card.selected {
            transform: scale(1.05);
            box-shadow: 0 20px 40px rgba(102, 126, 234, 0.3);
            background: linear-gradient(135deg, #667eea15 0%, #764ba215 100%);
            border: 2px solid #667eea;
        }
        
        /* Button Styles */
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 16px 40px;
            border-radius: 50px;
            font-weight: 600;
            font-size: 18px;
            transition: all 0.3s ease;
            box-shadow: 0 10px 25px rgba(118, 75, 162, 0.3);
            position: relative;
            overflow: hidden;
        }
        
        .btn-primary::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.2), transparent);
            transition: left 0.5s;
        }
        
        .btn-primary:hover::before {
            left: 100%;
        }
        
        .btn-primary:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(118, 75, 162, 0.4);
        }
        
        /* Icon Animations */
        .icon-float {
            animation: iconFloat 3s ease-in-out infinite;
        }
        
        @keyframes iconFloat {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-10px); }
        }
        
        /* Pulse Animation for Important Elements */
        .pulse-glow {
            animation: pulseGlow 2s ease-in-out infinite;
        }
        
        @keyframes pulseGlow {
            0%, 100% {
                box-shadow: 0 0 20px rgba(102, 126, 234, 0.5);
            }
            50% {
                box-shadow: 0 0 40px rgba(102, 126, 234, 0.8);
            }
        }
        
        /* Modal Styles Enhanced */
        .modal-overlay {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(0, 0, 0, 0.7);
            backdrop-filter: blur(10px);
            display: flex;
            align-items: center;
            justify-content: center;
            z-index: 1000;
            opacity: 0;
            visibility: hidden;
            transition: all 0.3s ease-in-out;
        }
        
        .modal-overlay.active {
            opacity: 1;
            visibility: visible;
        }
        
        .modal-content {
            background: linear-gradient(135deg, #ffffff 0%, #f8f9ff 100%);
            padding: 2.5rem;
            border-radius: 24px;
            width: 90%;
            max-width: 500px;
            box-shadow: 0 30px 60px rgba(0, 0, 0, 0.3);
            transform: scale(0.9) rotateX(10deg);
            transition: all 0.3s ease-in-out;
        }
        
        .modal-overlay.active .modal-content {
            transform: scale(1) rotateX(0deg);
        }
        
        /* Navigation Dots Enhanced */
        .nav-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.5);
            transition: all 0.3s ease;
            cursor: pointer;
            position: relative;
        }
        
        .nav-dot.active {
            background: white;
            transform: scale(1.3);
            box-shadow: 0 0 15px rgba(255, 255, 255, 0.8);
        }
        
        .nav-dot:hover:not(.active) {
            background: rgba(255, 255, 255, 0.8);
            transform: scale(1.1);
        }
        
        /* Gradient Text */
        .gradient-text {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        /* Loading Animation */
        @keyframes shimmer {
            0% { background-position: -1000px 0; }
            100% { background-position: 1000px 0; }
        }
        
        .shimmer {
            animation: shimmer 2s infinite;
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 1000px 100%;
        }

        /* --- Task Diagram Styles --- */
        .task-diagram-container {
            padding: 1.5rem;
            background: linear-gradient(135deg, #e0e7ff 0%, #dbeafe 100%);
            border: 2px solid #c7d2fe;
            border-radius: 20px;
        }
        .task-diagram {
            position: relative;
            max-width: 800px;
            margin: 0 auto;
        }
        .task-diagram::after {
            content: '';
            position: absolute;
            top: 40px;
            bottom: 40px;
            right: 39px;
            width: 6px;
            background: linear-gradient(180deg, #8b5cf6, #6366f1, #3b82f6);
            border-radius: 3px;
            z-index: 1;
            box-shadow: 0 0 10px rgba(139, 92, 246, 0.3);
        }
        .task-node {
            position: relative;
            padding-right: 100px; /* space for the icon */
            margin-bottom: 1.5rem;
            z-index: 2;
        }
        .task-node:last-child {
            margin-bottom: 0;
        }
        .task-header {
            background: linear-gradient(135deg, #ffffff 0%, #f8fafc 100%);
            padding: 1.25rem 1.5rem;
            border-radius: 16px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 4px 15px rgba(0,0,0,0.08);
            transition: all 0.3s ease;
            border: 2px solid #e2e8f0;
        }
        .task-header:hover {
            transform: translateY(-3px) translateX(3px);
            box-shadow: 0 10px 30px rgba(99, 102, 241, 0.15);
            border-color: #818cf8;
            background: linear-gradient(135deg, #fef3c7 0%, #fef08a 100%);
        }
        .task-icon {
            position: absolute;
            right: 0;
            top: 10px;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 2.5rem;
            border: 5px solid white;
            box-shadow: 0 0 0 4px #818cf8;
            transition: transform 0.3s ease;
        }
        .task-node.expanded .task-icon {
             transform: scale(1.1);
        }
        .task-points {
            position: absolute;
            top: -8px;
            left: -8px;
            background: #fbbf24; /* amber-400 */
            color: #4b5563; /* gray-700 */
            min-width: 36px;
            height: 36px;
            padding: 0 4px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.9rem;
            font-weight: bold;
            border: 3px solid white;
        }
        .task-title h3 {
            font-size: 1.5rem;
            font-weight: bold;
            color: #111827;
        }
        .task-title p {
            color: #6366f1;
            font-size: 0.95rem;
            font-weight: 600;
            transition: opacity 0.3s ease;
        }
        .expand-icon {
            font-size: 1.5rem;
            color: #9ca3af; /* gray-400 */
            transition: transform 0.3s ease;
        }
        .task-details {
            background: linear-gradient(135deg, #fefce8 0%, #fef3c7 100%);
            border-radius: 0 0 16px 16px;
            max-height: 0;
            overflow: hidden;
            transition: max-height 0.6s ease-out, padding 0.6s ease-out, opacity 0.5s ease-out;
            padding: 0 1.5rem;
            opacity: 0;
            margin-right: -100px;
            border-right: 2px solid #fbbf24;
            border-bottom: 2px solid #fbbf24;
            border-left: 2px solid #fbbf24;
        }
        .task-node.expanded .task-details {
            max-height: 1500px;
            padding: 2rem;
            opacity: 1;
        }
        .task-node.expanded .expand-icon {
            transform: rotate(180deg);
        }
        .task-node.expanded .task-title p {
            opacity: 0;
        }
        .prose ul {
            padding-right: 1.25rem;
        }
        .prose h4 {
            font-size: 1.125rem;
            margin-bottom: 0.5rem;
        }


        /* --- Loader --- */
        #loader {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 9999;
            transition: opacity 0.5s ease-out, visibility 0.5s ease-out;
        }
        .loader-icon {
            font-size: 5rem;
            color: white;
            animation: pulse 1.5s infinite ease-in-out;
        }
        .loader-text {
            color: white;
            margin-top: 1rem;
            font-size: 1.25rem;
            font-weight: 500;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.1); opacity: 0.8; }
        }
        
        /* Toast Notifications */
        .toast-container {
            position: fixed;
            top: 6rem;
            left: 50%;
            transform: translateX(-50%);
            z-index: 9999;
            display: flex;
            flex-direction: column;
            gap: 1rem;
            pointer-events: none;
        }
        
        .toast {
            background: white;
            padding: 1rem 1.5rem;
            border-radius: 12px;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 0.75rem;
            min-width: 300px;
            max-width: 500px;
            pointer-events: all;
            animation: toastSlideIn 0.4s cubic-bezier(0.68, -0.55, 0.265, 1.55);
            border-right: 4px solid;
        }
        
        .toast.success { border-color: #10b981; }
        .toast.error { border-color: #ef4444; }
        .toast.info { border-color: #3b82f6; }
        .toast.warning { border-color: #f59e0b; }
        
        @keyframes toastSlideIn {
            from {
                opacity: 0;
                transform: translateY(-100px) scale(0.8);
            }
            to {
                opacity: 1;
                transform: translateY(0) scale(1);
            }
        }
        
        .toast.toast-exit {
            animation: toastSlideOut 0.3s ease-in forwards;
        }
        
        @keyframes toastSlideOut {
            to {
                opacity: 0;
                transform: translateY(-30px) scale(0.9);
            }
        }
        
        /* Skeleton Loader */
        .skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: skeletonLoading 1.5s ease-in-out infinite;
            border-radius: 8px;
        }
        
        @keyframes skeletonLoading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        /* Better Focus States for Accessibility */
        *:focus-visible {
            outline: 3px solid #667eea;
            outline-offset: 3px;
            border-radius: 4px;
        }
        
        /* Screen Reader Only */
        .sr-only {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }
        
        /* Improved Mobile Responsiveness */
        @media (max-width: 768px) {
            .glass-card {
                border-radius: 16px;
                padding: 1.5rem !important;
            }
            
            .btn-primary {
                padding: 14px 32px;
                font-size: 16px;
            }
            
            .option-card {
                margin-bottom: 1rem;
            }
            
            .task-diagram-container {
                padding: 0.5rem;
            }
            
            .toast {
                min-width: 280px;
                max-width: calc(100vw - 2rem);
            }
        }
        
        /* Better Loading State */
        .btn-loading {
            position: relative;
            color: transparent !important;
            pointer-events: none;
        }
        
        .btn-loading::after {
            content: '';
            position: absolute;
            width: 20px;
            height: 20px;
            top: 50%;
            left: 50%;
            margin-left: -10px;
            margin-top: -10px;
            border: 3px solid rgba(255, 255, 255, 0.3);
            border-radius: 50%;
            border-top-color: white;
            animation: spin 0.8s linear infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* Improved Card Hover Effects */
        .option-card {
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            transform-style: preserve-3d;
            position: relative;
            overflow: hidden;
        }
        
        .option-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.3), transparent);
            transition: left 0.5s;
        }
        
        .option-card:hover::before {
            left: 100%;
        }
        
        .option-card:hover {
            transform: translateY(-8px) scale(1.02);
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.15);
        }
        
        .option-card:active {
            transform: translateY(-4px) scale(0.98);
        }
        
        /* Better Tooltip */
        [data-tooltip] {
            position: relative;
        }
        
        [data-tooltip]::after {
            content: attr(data-tooltip);
            position: absolute;
            bottom: 100%;
            left: 50%;
            transform: translateX(-50%) translateY(-8px);
            background: rgba(0, 0, 0, 0.9);
            color: white;
            padding: 8px 12px;
            border-radius: 8px;
            font-size: 14px;
            white-space: nowrap;
            opacity: 0;
            pointer-events: none;
            transition: all 0.3s ease;
            z-index: 1000;
        }
        
        [data-tooltip]:hover::after {
            opacity: 1;
            transform: translateX(-50%) translateY(-12px);
        }
        
        /* Help Button Tooltip - Position below button */
        #helpBtn[data-tooltip]::after {
            bottom: auto;
            top: 120%;
            transform: translateX(-50%);
        }
        
        #helpBtn[data-tooltip]:hover::after {
            transform: translateX(-50%) translateY(8px);
        }
        
        /* Progress Steps Indicator */
        .progress-steps {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 1rem;
            margin: 2rem auto;
            max-width: 800px;
            padding: 0 1rem;
        }
        
        .progress-step {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }
        
        .step-circle {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            transition: all 0.3s ease;
            position: relative;
        }
        
        .step-circle.active {
            background: linear-gradient(135deg, #667eea, #764ba2);
            box-shadow: 0 4px 15px rgba(102, 126, 234, 0.5);
            transform: scale(1.2);
        }
        
        .step-circle.completed {
            background: #10b981;
        }
        
        .step-line {
            width: 50px;
            height: 3px;
            background: rgba(255, 255, 255, 0.3);
            transition: all 0.3s ease;
        }
        
        .step-line.completed {
            background: #10b981;
        }
        
        @media (max-width: 768px) {
            .progress-steps {
                display: none;
            }
        }
        
        /* ===== Lesson Page Styles ===== */
        
        /* Lesson Title Banner */
        .lesson-title-banner {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 24px;
            padding: 3rem 2rem;
            margin-bottom: 3rem;
            position: relative;
            overflow: hidden;
            box-shadow: 0 20px 60px rgba(102, 126, 234, 0.4);
        }
        
        .lesson-title-banner::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -10%;
            width: 300px;
            height: 300px;
            background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 70%);
            border-radius: 50%;
            animation: float 6s ease-in-out infinite;
        }
        
        .lesson-title-banner::after {
            content: '';
            position: absolute;
            bottom: -30%;
            left: -5%;
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            border-radius: 50%;
            animation: float 8s ease-in-out infinite reverse;
        }
        
        /* Introduction Card */
        .intro-card {
            background: linear-gradient(135deg, #f5f7fa 0%, #c3cfe2 100%);
            border-radius: 20px;
            padding: 2.5rem;
            margin-bottom: 2.5rem;
            border-right: 6px solid #667eea;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            position: relative;
            overflow: hidden;
        }
        
        .intro-card::before {
            content: 'üìö';
            position: absolute;
            top: 20px;
            left: 20px;
            font-size: 4rem;
            opacity: 0.1;
        }
        
        /* Section Card */
        .section-card {
            background: white;
            border-radius: 20px;
            padding: 2rem;
            margin-bottom: 2rem;
            box-shadow: 0 10px 40px rgba(0,0,0,0.08);
            transition: all 0.4s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            border: 2px solid transparent;
        }
        
        .section-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 20px 60px rgba(102, 126, 234, 0.2);
            border-color: #667eea;
        }
        
        /* Section Header */
        .section-header {
            display: flex;
            align-items: center;
            gap: 1rem;
            margin-bottom: 1.5rem;
            padding-bottom: 1rem;
            border-bottom: 3px solid #f0f0f0;
        }
        
        .section-number {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            width: 50px;
            height: 50px;
            border-radius: 15px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.5rem;
            font-weight: bold;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }
        
        /* Definition Cards */
        .definition-card {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            border-radius: 16px;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            border-right: 5px solid #e17055;
            position: relative;
            transition: all 0.3s ease;
        }
        
        .definition-card:hover {
            transform: translateX(-5px);
            box-shadow: 0 10px 30px rgba(253, 203, 110, 0.4);
        }
        
        .definition-card::before {
            content: 'üìñ';
            position: absolute;
            top: 15px;
            left: 15px;
            font-size: 2rem;
            opacity: 0.3;
        }
        
        .term-label {
            background: rgba(225, 112, 85, 0.2);
            color: #d63031;
            padding: 0.4rem 1rem;
            border-radius: 50px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 0.8rem;
        }
        
        /* Fields/Issues Cards */
        .field-card {
            background: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%);
            border-radius: 16px;
            padding: 1.8rem;
            margin-bottom: 1.5rem;
            color: white;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .field-card:hover {
            transform: scale(1.02);
            box-shadow: 0 15px 40px rgba(108, 92, 231, 0.4);
        }
        
        .field-card::before {
            content: '';
            position: absolute;
            top: -50%;
            right: -20%;
            width: 200px;
            height: 200px;
            background: radial-gradient(circle, rgba(255,255,255,0.15) 0%, transparent 70%);
            border-radius: 50%;
        }
        
        .field-icon {
            background: rgba(255,255,255,0.2);
            width: 60px;
            height: 60px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 2rem;
            margin-bottom: 1rem;
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }
        
        /* Issue Cards */
        .issue-card {
            background: linear-gradient(135deg, #fd79a8 0%, #e84393 100%);
            border-radius: 16px;
            padding: 1.8rem;
            margin-bottom: 1.5rem;
            color: white;
            position: relative;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .issue-card:hover {
            transform: scale(1.02);
            box-shadow: 0 15px 40px rgba(232, 67, 147, 0.4);
        }
        
        .issue-card::before {
            content: '';
            position: absolute;
            bottom: -30%;
            left: -10%;
            width: 150px;
            height: 150px;
            background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
            border-radius: 50%;
        }
        
        /* Standards Cards */
        .standard-card {
            background: linear-gradient(135deg, #55efc4 0%, #00b894 100%);
            border-radius: 16px;
            padding: 1.8rem;
            margin-bottom: 1.5rem;
            color: white;
            position: relative;
            border-right: 5px solid #00cec9;
            transition: all 0.3s ease;
        }
        
        .standard-card:hover {
            transform: translateX(-5px);
            box-shadow: 0 15px 40px rgba(0, 184, 148, 0.4);
        }
        
        .standard-number {
            background: rgba(255,255,255,0.3);
            color: white;
            padding: 0.5rem 1.2rem;
            border-radius: 50px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 1rem;
            font-size: 1.1rem;
        }
        
        /* Elements Grid for Informed Consent */
        .elements-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 1.5rem;
            margin-top: 2rem;
        }
        
        .element-card {
            background: white;
            border-radius: 16px;
            padding: 1.5rem;
            box-shadow: 0 10px 30px rgba(0,0,0,0.1);
            transition: all 0.3s ease;
            border-top: 4px solid #667eea;
        }
        
        .element-card:hover {
            transform: translateY(-8px);
            box-shadow: 0 15px 50px rgba(102, 126, 234, 0.25);
        }
        
        .element-icon {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            width: 55px;
            height: 55px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8rem;
            margin-bottom: 1rem;
            color: white;
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.3);
        }
        
        .element-name {
            font-size: 1.3rem;
            font-weight: bold;
            color: #2d3436;
            margin-bottom: 0.8rem;
        }
        
        /* Diagram Container */
        .diagram-container {
            background: linear-gradient(135deg, #f8f9fa 0%, #e9ecef 100%);
            border-radius: 20px;
            padding: 2rem;
            margin: 2rem 0;
            border: 3px dashed #667eea;
            position: relative;
        }
        
        .diagram-title {
            text-align: center;
            font-size: 1.5rem;
            font-weight: bold;
            color: #667eea;
            margin-bottom: 1.5rem;
        }
        
        /* Flowchart Style */
        .flowchart {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 1rem;
        }
        
        .flowchart-item {
            background: white;
            padding: 1.2rem 2rem;
            border-radius: 50px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            font-weight: 600;
            color: #2d3436;
            position: relative;
            min-width: 250px;
            text-align: center;
        }
        
        .flowchart-arrow {
            color: #667eea;
            font-size: 2rem;
        }
        
        /* Timeline Style */
        .timeline {
            position: relative;
            padding: 2rem 0;
        }
        
        .timeline::before {
            content: '';
            position: absolute;
            left: 50%;
            top: 0;
            bottom: 0;
            width: 4px;
            background: linear-gradient(180deg, #667eea 0%, #764ba2 100%);
            transform: translateX(-50%);
        }
        
        .timeline-item {
            display: flex;
            align-items: center;
            margin-bottom: 2rem;
            position: relative;
        }
        
        .timeline-item:nth-child(odd) {
            flex-direction: row;
        }
        
        .timeline-item:nth-child(even) {
            flex-direction: row-reverse;
        }
        
        .timeline-content {
            flex: 1;
            background: white;
            padding: 1.5rem;
            border-radius: 16px;
            box-shadow: 0 5px 20px rgba(0,0,0,0.1);
            margin: 0 2rem;
        }
        
        .timeline-dot {
            width: 20px;
            height: 20px;
            background: #667eea;
            border-radius: 50%;
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            box-shadow: 0 0 0 8px rgba(102, 126, 234, 0.2);
            z-index: 1;
        }
        
        /* Connection Diagram */
        .connection-diagram {
            display: flex;
            justify-content: space-around;
            align-items: center;
            flex-wrap: wrap;
            gap: 2rem;
            margin: 2rem 0;
        }
        
        .connection-node {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1.5rem 2rem;
            border-radius: 50%;
            width: 150px;
            height: 150px;
            display: flex;
            align-items: center;
            justify-content: center;
            text-align: center;
            font-weight: bold;
            box-shadow: 0 10px 30px rgba(102, 126, 234, 0.3);
            position: relative;
        }
        
        /* Highlight Box */
        .highlight-box {
            background: linear-gradient(135deg, #ffeaa7 0%, #fdcb6e 100%);
            border-right: 5px solid #e17055;
            border-radius: 16px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            font-weight: 500;
        }
        
        .highlight-box::before {
            content: 'üí°';
            font-size: 2rem;
            margin-left: 0.5rem;
        }
        
        /* Info Box */
        .info-box {
            background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);
            color: white;
            border-radius: 16px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }
        
        .info-box::before {
            content: '‚ÑπÔ∏è';
            font-size: 2rem;
            margin-left: 0.5rem;
        }
        
        /* Responsive Design for Lesson */
        @media (max-width: 768px) {
            .lesson-title-banner {
                padding: 2rem 1.5rem;
            }
            
            .section-card {
                padding: 1.5rem;
            }
            
            .elements-grid {
                grid-template-columns: 1fr;
            }
            
            .timeline::before {
                left: 30px;
            }
            
            .timeline-item {
                flex-direction: row !important;
            }
            
            .timeline-content {
                margin: 0 0 0 60px;
            }
            
            .timeline-dot {
                left: 30px;
            }
            
            .connection-node {
                width: 120px;
                height: 120px;
                font-size: 0.9rem;
            }
        }
        /* Table of Contents Styling */
        .toc-link {
            scroll-margin-top: 100px; /* Offset for fixed headers */
        }
        
        .toc-link.active {
            background-color: rgb(243 232 255) !important; /* purple-100 */
            color: rgb(126 34 206) !important; /* purple-700 */
            border-right-color: rgb(168 85 247) !important; /* purple-500 */
            font-weight: 600;
        }
        
        /* Smooth scroll offset for headings */
        h2[id] {
            scroll-margin-top: 100px;
        }
        
        /* Desktop ToC scrollbar styling */
        #tocDesktop::-webkit-scrollbar {
            width: 6px;
        }
        
        #tocDesktop::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        #tocDesktop::-webkit-scrollbar-thumb {
            background: #a855f7;
            border-radius: 10px;
        }
        
        #tocDesktop::-webkit-scrollbar-thumb:hover {
            background: #9333ea;
        }
        
        /* Mobile ToC scrollbar styling */
        #tocMobilePanel::-webkit-scrollbar {
            width: 6px;
        }
        
        #tocMobilePanel::-webkit-scrollbar-track {
            background: #f1f1f1;
            border-radius: 10px;
        }
        
        #tocMobilePanel::-webkit-scrollbar-thumb {
            background: #a855f7;
            border-radius: 10px;
        }
        
        #tocMobilePanel::-webkit-scrollbar-thumb:hover {
            background: #9333ea;
        }
    </style>
</head>
<body>

    <!-- Toast Notifications Container -->
    <div id="toastContainer" class="toast-container"></div>
    
    <!-- Loader -->
    <div id="loader">
        <ion-icon name="library-outline" class="loader-icon"></ion-icon>
        <p class="loader-text">ÿ¨ÿßÿ±Ÿä ÿ•ÿπÿØÿßÿØ ÿ®Ÿäÿ¶ÿ© ÿßŸÑÿ™ÿπŸÑŸÖ...</p>
    </div>
    

    <!-- Screen 1: Login Screen -->
    <div id="loginScreen" class="screen active flex-col" style="padding-top: 0; align-items: center;">
        <header class="absolute top-0 left-0 right-0 header-gradient text-white p-4 h-20 flex items-center justify-center z-10">
            <div class="flex items-center gap-3">
                <ion-icon name="log-in" class="text-3xl"></ion-icon>
                <h1 class="text-2xl font-bold">ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ</h1>
            </div>
        </header>
        <div class="text-center max-w-md w-full mx-auto fade-in p-8 pt-32">
            <div class="glass-card p-12 relative overflow-hidden">
                <div class="absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-purple-300 to-pink-300 rounded-full filter blur-3xl opacity-20 -z-10"></div>
                <div class="absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-tr from-blue-300 to-cyan-300 rounded-full filter blur-3xl opacity-20 -z-10"></div>
                
                <h1 class="text-4xl font-bold gradient-text mb-8">ÿ£ŸáŸÑÿßŸã ÿ®ŸÉ</h1>
                
                <form id="loginForm" class="space-y-6">
                    <fieldset id="loginFieldset" disabled>
                        <div>
                            <label for="username" class="sr-only">ÿßÿ≥ŸÖ ÿßŸÑÿ∑ÿßŸÑÿ®</label>
                            <div class="relative">
                                <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                    <ion-icon name="person-circle" class="text-gray-400 text-xl"></ion-icon>
                                </div>
                                <input type="text" id="username" name="username" placeholder="ÿßÿ≥ŸÖ ÿßŸÑÿ∑ÿßŸÑÿ®" required
                                       class="w-full pl-3 pr-10 py-3 text-lg bg-gray-50 border border-gray-300 rounded-full focus:ring-purple-500 focus:border-purple-500 transition">
                            </div>
                        </div>
                        <div>
                            <label for="password" class="sr-only">ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±</label>
                            <div class="relative">
                                <div class="absolute inset-y-0 right-0 pr-3 flex items-center pointer-events-none">
                                    <ion-icon name="lock-closed" class="text-gray-400 text-xl"></ion-icon>
                                </div>
                                <input type="password" id="password" name="password" placeholder="ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±" required
                                       class="w-full pl-3 pr-10 py-3 text-lg bg-gray-50 border border-gray-300 rounded-full focus:ring-purple-500 focus:border-purple-500 transition">
                            </div>
                        </div>
                    </fieldset>
                    <p id="loginStatus" class="text-gray-600 text-sm h-5">ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÖŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ ÿßŸÑÿ∑ŸÑÿßÿ®...</p>
                    <button type="submit" id="loginButton" class="btn-primary w-full group">
                        <span id="loginButtonText" class="flex items-center justify-center gap-2">
                            ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ
                            <ion-icon name="arrow-back" class="text-2xl group-hover:translate-x-[-5px] transition-transform"></ion-icon>
                        </span>
                    </button>
                </form>
            </div>
        </div>
    </div>

    <!-- Screen 2: Splash Screen -->
    <div id="splashScreen" class="screen flex-col" style="padding-top: 0; align-items: center;">
        <header class="absolute top-0 left-0 right-0 header-gradient text-white p-4 h-20 flex items-center justify-center z-10">
            <div class="flex items-center gap-3">
                <ion-icon name="home" class="text-3xl"></ion-icon>
                <h1 class="text-2xl font-bold">ÿßŸÑÿµŸÅÿ≠ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ©</h1>
            </div>
        </header>
        <div class="text-center max-w-4xl w-full mx-auto fade-in p-8 pt-32">
            <div class="glass-card p-12 relative overflow-hidden">
                <div class="absolute top-0 right-0 w-64 h-64 bg-gradient-to-br from-purple-300 to-pink-300 rounded-full filter blur-3xl opacity-20 -z-10"></div>
                <div class="absolute bottom-0 left-0 w-64 h-64 bg-gradient-to-tr from-blue-300 to-cyan-300 rounded-full filter blur-3xl opacity-20 -z-10"></div>
                
                <img src="https://i.ibb.co/4RkPFhGy/image.png" alt="ÿ¥ÿπÿßÿ± ÿßŸÑÿ¨ÿßŸÖÿπÿ©" class="w-32 h-32 rounded-full shadow-2xl border-4 border-white mx-auto mb-8 icon-float">
                
                <div class="mb-8">
                    <ion-icon name="school" class="text-8xl gradient-text icon-float"></ion-icon>
                </div>
                
                <h1 class="text-5xl md:text-6xl font-bold gradient-text mb-6 leading-relaxed" id="welcome-title">
                    ÿ®Ÿäÿ¶ÿ© ÿßŸÑÿ™ÿπŸÑŸÖ ÿßŸÑŸÇÿßÿ¶ŸÖÿ© ÿπŸÑŸâ ÿ≠ÿ¥ÿØ ÿßŸÑŸÖÿµÿßÿØÿ±
                </h1>
                <h2 class="text-3xl font-semibold text-gray-700 mb-6">
                    ŸÖŸÇÿ±ÿ± ÿßŸÑŸÅŸÑÿ≥ŸÅÿ©
                </h2>
                <p class="text-xl md:text-2xl text-gray-600 mb-6 leading-relaxed">
                    ÿ£ÿ´ÿ± ÿßŸÑÿ™ŸÅÿßÿπŸÑ ÿ®ŸäŸÜ ŸÜŸÖÿ∑Ÿä ÿ≠ÿ¥ÿØ ÿßŸÑŸÖÿµÿßÿØÿ± Ÿàÿ≤ŸÖŸÜŸá ŸÅŸä ÿ™ŸÜŸÖŸäÿ© ŸÖŸáÿßÿ±ÿßÿ™ ÿ≠ŸÑ ÿßŸÑŸÖÿ¥ŸÉŸÑÿßÿ™ ŸàÿßŸÑÿ™ÿØŸÅŸÇ ÿßŸÑÿ∞ŸáŸÜŸä
                </p>
                <div class="bg-gradient-to-r from-purple-100 to-pink-100 p-4 rounded-2xl">
                    <p class="text-lg text-gray-700 font-semibold">
                        <ion-icon name="person-circle" class="text-2xl align-middle ml-2"></ion-icon>
                        ÿßŸÑÿ®ÿßÿ≠ÿ´ / ÿßÿ≥ŸÑÿßŸÖ ŸÖÿ≠ŸÖÿØ ÿπÿ®ÿØ ÿßŸÑŸÜÿ®Ÿä ÿßÿ≠ŸÖÿØ ÿßŸÑÿØÿ®ÿ±ŸÉŸä
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Screen 3: Pre-Test Link Screen -->
    <div id="preTestLinkScreen" class="screen flex-col">
        <header class="absolute top-0 left-0 right-0 header-gradient text-white p-4 h-20 flex items-center justify-center z-10">
            <div class="flex items-center gap-3">
                <ion-icon name="clipboard-outline" class="text-3xl"></ion-icon>
                <h1 class="text-2xl font-bold">ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑŸÇÿ®ŸÑŸä</h1>
            </div>
        </header>
        <div class="max-w-7xl w-full mx-auto fade-in p-8">
            <div class="glass-card p-8 md:p-12">
                <div class="grid md:grid-cols-2 gap-8 items-center">
                    <!-- Right Side: Instructions -->
                    <div>
                        <div class="flex items-center gap-3 mb-6">
                            <ion-icon name="information-circle" class="text-4xl text-purple-600"></ion-icon>
                            <h2 class="text-3xl font-bold gradient-text">ÿ™ÿπŸÑŸäŸÖÿßÿ™ ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑŸÇÿ®ŸÑŸä</h2>
                        </div>
                        <div class="bg-gradient-to-br from-purple-50 to-pink-50 p-8 rounded-2xl border-r-4 border-purple-500">
                            <p class="text-xl text-gray-700 leading-relaxed mb-4">
                                <ion-icon name="checkmark-circle" class="text-green-500 text-2xl align-middle ml-2"></ion-icon>
                                ÿπÿ≤Ÿäÿ≤Ÿä ÿßŸÑÿ∑ÿßŸÑÿ® / ÿπÿ≤Ÿäÿ≤ÿ™Ÿä ÿßŸÑÿ∑ÿßŸÑÿ®ÿ©
                            </p>
                            <p class="text-lg text-gray-600 leading-relaxed">
                                ŸÇŸÖ ÿ®ÿßŸÑÿØÿÆŸàŸÑ ÿ•ŸÑŸâ ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ± Ÿàÿ™ÿ≥ÿ¨ŸäŸÑ ÿ®ŸäÿßŸÜÿßÿ™ŸÉ ŸàÿßŸÑÿ•ÿ¨ÿßÿ®ÿ© ÿπŸÜ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿ®ÿØŸÇÿ©.
                            </p>
                        </div>
                        <div class="bg-amber-50 border-r-4 border-amber-400 p-4 rounded-xl mt-6">
                            <p class="text-gray-700 flex items-start gap-2">
                                <ion-icon name="alert-circle" class="text-amber-500 text-xl flex-shrink-0 mt-1"></ion-icon>
                                ÿßÿÆÿ™ÿ± ÿßŸÑÿ∑ÿ±ŸäŸÇÿ© ÿßŸÑÿ™Ÿä ÿ™ŸÅÿ∂ŸÑŸáÿß ŸÑÿπÿ±ÿ∂ ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ±.
                            </p>
                        </div>
                        <div class="text-center mt-8 flex flex-col sm:flex-row gap-4 justify-center">
                           <button onclick="openTestModal()" 
                                   class="inline-flex items-center justify-center gap-2 bg-gradient-to-r from-purple-600 to-indigo-600 hover:from-purple-700 hover:to-indigo-700 text-white px-8 py-4 rounded-full font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1">
                                <ion-icon name="scan-outline" class="text-xl"></ion-icon>
                                ÿπÿ±ÿ∂ ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ± ŸáŸÜÿß
                            </button>
                            <a href="https://forms.gle/44Ctc2M6VnJLenNB8" target="_blank" 
                               class="inline-flex items-center justify-center gap-2 bg-gradient-to-r from-gray-700 to-gray-800 hover:from-gray-800 hover:to-gray-900 text-white px-8 py-4 rounded-full font-semibold transition-all duration-300 shadow-lg hover:shadow-xl transform hover:-translate-y-1">
                                <ion-icon name="open-outline" class="text-xl"></ion-icon>
                                ŸÅÿ™ÿ≠ ŸÅŸä ŸÜÿßŸÅÿ∞ÿ© ÿ¨ÿØŸäÿØÿ©
                            </a>
                        </div>
                    </div>
                    
                    <!-- Left Side: Image Placeholder -->
                    <div class="rounded-2xl flex items-center justify-center p-8 bg-gradient-to-br from-purple-50 to-pink-50">
                       <ion-icon name="clipboard-outline" class="text-9xl text-purple-300 icon-float"></ion-icon>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Screen 4: Objectives Screen -->
    <div id="objectivesScreen" class="screen flex-col">
        <header class="absolute top-0 left-0 right-0 header-gradient text-white p-4 h-20 flex items-center justify-center z-10">
            <div class="flex items-center gap-3">
                <ion-icon name="flag" class="text-3xl"></ion-icon>
                <h1 class="text-2xl font-bold">ÿßŸÑÿ£ŸáÿØÿßŸÅ ÿßŸÑÿ™ÿπŸÑŸäŸÖŸäÿ©</h1>
            </div>
        </header>
        <div class="max-w-6xl w-full mx-auto fade-in p-8">
            <div class="glass-card p-8 md:p-12">
                <div class="text-center mb-12">
                    <div class="relative inline-block">
                        <ion-icon name="trophy" class="text-8xl gradient-text icon-float"></ion-icon>
                        <div class="absolute -top-2 -right-2 w-8 h-8 bg-yellow-400 rounded-full animate-pulse flex items-center justify-center">
                            <span class="text-white font-bold text-sm">5</span>
                        </div>
                    </div>
                    <h1 class="text-4xl md:text-5xl font-bold gradient-text mb-4 mt-6">ÿßŸÑÿ£ŸáÿØÿßŸÅ ÿßŸÑÿ™ÿπŸÑŸäŸÖŸäÿ© ŸÑŸÑŸàÿ≠ÿØÿ©</h1>
                    <p class="text-xl text-gray-600 leading-relaxed max-w-3xl mx-auto">
                        <ion-icon name="book" class="text-2xl align-middle ml-2"></ion-icon>
                        ŸÖŸÜ ÿßŸÑŸÖÿ™ŸàŸÇÿπ ÿπÿ≤Ÿäÿ≤Ÿä ÿßŸÑÿ∑ÿßŸÑÿ® ÿ®ÿπÿØ ÿ£ŸÜ ÿ™ŸÜÿ™ŸáŸä ŸÖŸÜ ÿØÿ±ÿßÿ≥ÿ© Ÿáÿ∞ÿß ÿßŸÑŸÅÿµŸÑ ÿ£ŸÜ ÿ™ŸÉŸàŸÜ ŸÇÿßÿØÿ±Ÿãÿß ÿπŸÑŸä ÿ£ŸÜ:
                    </p>
                </div>
                
                <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-12" id="objectivesContainer">
                    <!-- Objectives will be rendered here dynamically -->
                </div>

                <div class="text-center" style="display: none;">
                    <button onclick="navigateNext()" class="btn-primary">
                        <span class="flex items-center justify-center gap-2">
                            ŸÖÿ™ÿßÿ®ÿπÿ© ÿ•ŸÑŸâ ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ© ÿßŸÑÿ™ÿ¨ÿ±Ÿäÿ®Ÿäÿ©
                            <ion-icon name="arrow-back-circle-outline" class="text-2xl"></ion-icon>
                        </span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Screen 5: Group Selection Screen -->
    <div id="groupSelectionScreen" class="screen flex-col">
        <header class="absolute top-0 left-0 right-0 header-gradient text-white p-4 h-20 flex items-center justify-center z-10">
            <div class="flex items-center gap-3">
                <ion-icon name="grid" class="text-3xl"></ion-icon>
                <h1 class="text-2xl font-bold">ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ© ÿßŸÑÿ™ÿ¨ÿ±Ÿäÿ®Ÿäÿ©</h1>
            </div>
        </header>
        <div class="max-w-7xl w-full mx-auto fade-in p-8">
            <div class="text-center mb-12">
                <ion-icon name="rocket" class="text-8xl gradient-text icon-float"></ion-icon>
                <h1 class="text-4xl md:text-5xl font-bold text-white mb-4 mt-6 drop-shadow-lg">ÿßÿÆÿ™ÿ± ŸÖÿ¨ŸÖŸàÿπÿ™ŸÉ ÿßŸÑÿ™ÿ¨ÿ±Ÿäÿ®Ÿäÿ©</h1>
                <p class="text-xl text-white leading-relaxed max-w-3xl mx-auto mb-8 drop-shadow-md">
                    ÿßÿÆÿ™ÿ± ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ© ÿßŸÑÿ™Ÿä ÿ™ŸÜÿßÿ≥ÿ® ÿ£ÿ≥ŸÑŸàÿ® ÿ™ÿπŸÑŸÖŸÉ - ŸÉŸÑ ŸÖÿ¨ŸÖŸàÿπÿ© ÿ™ŸàŸÅÿ± ÿ™ÿ¨ÿ±ÿ®ÿ© ÿ™ÿπŸÑŸäŸÖŸäÿ© ŸÅÿ±ŸäÿØÿ©
                </p>
            </div>
            
            <div class="grid md:grid-cols-2 lg:grid-cols-4 gap-8 mb-12">
                <!-- Group 1: competitive-open -->
                <div onclick="selectGroup('competitive-open')" onkeypress="if(event.key === 'Enter') selectGroup('competitive-open')" role="button" tabindex="0" class="option-card glass-card p-6 cursor-pointer border-2 border-transparent group" data-groupkey="competitive-open" aria-label="ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ© ÿßŸÑÿ£ŸàŸÑŸâ: ÿ™ŸÜÿßŸÅÿ≥Ÿä ÿ®ÿØŸàŸÜ ÿ∂ÿ∫ÿ∑ ÿ≤ŸÖŸÜŸä">
                    <div class="text-center">
                        <div class="w-24 h-24 rounded-full bg-gradient-to-br from-orange-400 to-red-500 flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
                            <ion-icon name="medal" class="text-white text-5xl"></ion-icon>
                        </div>
                        <h3 class="text-2xl font-bold gradient-text mb-2">ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ© ÿßŸÑÿ£ŸàŸÑŸâ</h3>
                        <div class="bg-gradient-to-r from-orange-100 to-red-100 px-4 py-2 rounded-full mb-4">
                            <p class="text-lg font-semibold text-orange-700">ÿ™ŸÜÿßŸÅÿ≥Ÿä / ŸÖŸÅÿ™Ÿàÿ≠</p>
                        </div>
                        <p class="text-gray-600 leading-relaxed">
                            ÿπŸÖŸÑ <strong>ŸÅÿ±ÿØŸä</strong> ÿ®ŸÖÿ±ŸàŸÜÿ© ÿ™ÿßŸÖÿ©<br>
                            <span class="text-green-600 font-semibold">ŸÖŸàÿπÿØ ŸÜŸáÿßÿ¶Ÿä Ÿàÿßÿ≠ÿØ ŸÅŸÇÿ∑</span><br>
                            ŸÅŸä ŸÜŸáÿßŸäÿ© ÿßŸÑÿ™ÿ¨ÿ±ÿ®ÿ© (21 ŸäŸàŸÖ)
                        </p>
                    </div>
                </div>
                
                <!-- Group 2: competitive-fixed -->
                <div onclick="selectGroup('competitive-fixed')" onkeypress="if(event.key === 'Enter') selectGroup('competitive-fixed')" role="button" tabindex="0" class="option-card glass-card p-6 cursor-pointer border-2 border-transparent group" data-groupkey="competitive-fixed" aria-label="ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ© ÿßŸÑÿ´ÿßŸÜŸäÿ©: ÿ™ŸÜÿßŸÅÿ≥Ÿä ÿ®ÿ∂ÿ∫ÿ∑ ÿ≤ŸÖŸÜŸä">
                    <div class="text-center">
                        <div class="w-24 h-24 rounded-full bg-gradient-to-br from-amber-400 to-orange-500 flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
                            <ion-icon name="timer" class="text-white text-5xl"></ion-icon>
                        </div>
                        <h3 class="text-2xl font-bold gradient-text mb-2">ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ© ÿßŸÑÿ´ÿßŸÜŸäÿ©</h3>
                        <div class="bg-gradient-to-r from-amber-100 to-orange-100 px-4 py-2 rounded-full mb-4">
                            <p class="text-lg font-semibold text-amber-700">ÿ™ŸÜÿßŸÅÿ≥Ÿä / ŸÖŸÇŸäÿØ</p>
                        </div>
                        <p class="text-gray-600 leading-relaxed">
                            ÿπŸÖŸÑ <strong>ŸÅÿ±ÿØŸä</strong> ŸÖÿπ ÿ™ÿ≠ÿØŸä ÿ≤ŸÖŸÜŸä<br>
                            <span class="text-red-600 font-semibold">5 ŸÖŸàÿßÿπŸäÿØ ŸÜŸáÿßÿ¶Ÿäÿ© ÿµÿßÿ±ŸÖÿ©</span><br>
                            ŸÑŸÉŸÑ ŸÖŸáŸÖÿ© ŸÖŸàÿπÿØ ŸÖÿ≠ÿØÿØ
                        </p>
                    </div>
                </div>
                
                <!-- Group 3: collaborative-open -->
                <div onclick="selectGroup('collaborative-open')" onkeypress="if(event.key === 'Enter') selectGroup('collaborative-open')" role="button" tabindex="0" class="option-card glass-card p-6 cursor-pointer border-2 border-transparent group" data-groupkey="collaborative-open" aria-label="ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ© ÿßŸÑÿ´ÿßŸÑÿ´ÿ©: ÿ™ÿ¥ÿßÿ±ŸÉŸä ŸÖŸÅÿ™Ÿàÿ≠">
                    <div class="text-center">
                        <div class="w-24 h-24 rounded-full bg-gradient-to-br from-blue-400 to-cyan-500 flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
                            <ion-icon name="people-circle" class="text-white text-5xl"></ion-icon>
                        </div>
                        <h3 class="text-2xl font-bold gradient-text mb-2">ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ© ÿßŸÑÿ´ÿßŸÑÿ´ÿ©</h3>
                        <div class="bg-gradient-to-r from-blue-100 to-cyan-100 px-4 py-2 rounded-full mb-4">
                            <p class="text-lg font-semibold text-blue-700">ÿ™ÿ¥ÿßÿ±ŸÉŸä / ŸÖŸÅÿ™Ÿàÿ≠</p>
                        </div>
                        <p class="text-gray-600 leading-relaxed">
                            ÿπŸÖŸÑ <strong>ÿ¨ŸÖÿßÿπŸä</strong> ÿ®ŸÖÿ±ŸàŸÜÿ© ÿ™ÿßŸÖÿ©<br>
                            <span class="text-green-600 font-semibold">ŸÖŸàÿπÿØ ŸÜŸáÿßÿ¶Ÿä Ÿàÿßÿ≠ÿØ ŸÅŸÇÿ∑</span><br>
                            ÿ™ÿ≥ŸÑŸäŸÖ ÿ¨ŸÖÿßÿπŸä (21 ŸäŸàŸÖ)
                        </p>
                    </div>
                </div>
                
                <!-- Group 4: collaborative-fixed -->
                <div onclick="selectGroup('collaborative-fixed')" onkeypress="if(event.key === 'Enter') selectGroup('collaborative-fixed')" role="button" tabindex="0" class="option-card glass-card p-6 cursor-pointer border-2 border-transparent group" data-groupkey="collaborative-fixed" aria-label="ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ© ÿßŸÑÿ±ÿßÿ®ÿπÿ©: ÿ™ÿ¥ÿßÿ±ŸÉŸä ŸÖŸÇŸäÿØ">
                    <div class="text-center">
                        <div class="w-24 h-24 rounded-full bg-gradient-to-br from-teal-400 to-green-500 flex items-center justify-center mx-auto mb-4 group-hover:scale-110 transition-transform">
                            <ion-icon name="git-network" class="text-white text-5xl"></ion-icon>
                        </div>
                        <h3 class="text-2xl font-bold gradient-text mb-2">ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ© ÿßŸÑÿ±ÿßÿ®ÿπÿ©</h3>
                        <div class="bg-gradient-to-r from-teal-100 to-green-100 px-4 py-2 rounded-full mb-4">
                            <p class="text-lg font-semibold text-teal-700">ÿ™ÿ¥ÿßÿ±ŸÉŸä / ŸÖŸÇŸäÿØ</p>
                        </div>
                        <p class="text-gray-600 leading-relaxed">
                            ÿπŸÖŸÑ <strong>ÿ¨ŸÖÿßÿπŸä</strong> ŸÖÿπ ÿ™ÿ≠ÿØŸä ÿ≤ŸÖŸÜŸä<br>
                            <span class="text-red-600 font-semibold">5 ŸÖŸàÿßÿπŸäÿØ ŸÜŸáÿßÿ¶Ÿäÿ© ÿµÿßÿ±ŸÖÿ©</span><br>
                            ÿ™ÿ≥ŸÑŸäŸÖ ÿ¨ŸÖÿßÿπŸä ŸÖŸÜÿ∏ŸÖ
                        </p>
                    </div>
                </div>
            </div>
            
            <div class="text-center">
                <button onclick="confirmGroupSelection()" id="confirmGroupBtn" disabled 
                        class="btn-primary disabled:opacity-50 disabled:cursor-not-allowed">
                    <span class="flex items-center justify-center gap-2">
                        ÿ™ÿ£ŸÉŸäÿØ ÿßŸÑÿßÿÆÿ™Ÿäÿßÿ± ŸàÿßŸÑÿßŸÜÿ™ŸÇÿßŸÑ ŸÑŸÑŸÅÿµŸàŸÑ
                        <ion-icon name="checkmark-circle" class="text-2xl"></ion-icon>
                    </span>
                </button>
            </div>
        </div>
    </div>

    <!-- Screen 6: User Guide Screen -->
    <div id="guideScreen" class="screen flex-col">
        <header class="absolute top-0 left-0 right-0 header-gradient text-white p-4 h-20 flex items-center justify-center z-10">
            <div class="flex items-center gap-3">
                <ion-icon name="map" class="text-3xl"></ion-icon>
                <h1 class="text-2xl font-bold">ÿØŸÑŸäŸÑ ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ© ÿßŸÑÿ™ÿ¨ÿ±Ÿäÿ®Ÿäÿ©</h1>
            </div>
        </header>
        <div id="guideContent" class="max-w-7xl w-full mx-auto fade-in p-8">
            <!-- Content will be dynamically generated here -->
        </div>
    </div>

    <!-- Screen 7: Content Screen -->
    <div id="contentScreen" class="screen flex-col">
        <header class="absolute top-0 left-0 right-0 header-gradient text-white p-4 h-20 flex items-center justify-center z-10">
            <div class="flex items-center gap-3">
                <ion-icon name="book" class="text-3xl"></ion-icon>
                <h1 class="text-2xl font-bold">ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ ÿßŸÑÿ™ÿπŸÑŸäŸÖŸä</h1>
            </div>
        </header>
        <div class="max-w-6xl w-full mx-auto fade-in p-8">
            <div class="glass-card p-8 md:p-12">
                <div class="text-center mb-12">
                    <ion-icon name="documents" class="text-8xl gradient-text icon-float"></ion-icon>
                    <h1 class="text-4xl md:text-5xl font-bold gradient-text mb-4 mt-6">ŸÖÿ≠ÿ™ŸàŸâ ÿßŸÑŸàÿ≠ÿØÿ©</h1>
                    <p class="text-xl text-gray-600 leading-relaxed max-w-3xl mx-auto mb-8">
                        ÿßÿ≥ÿ™ŸÉÿ¥ŸÅ ÿßŸÑÿØÿ±ÿ≥ ÿßŸÑÿ™ŸÅÿßÿπŸÑŸä ÿßŸÑÿÆÿßÿµ ÿ®ÿßŸÑÿ£ÿÆŸÑÿßŸÇ ÿßŸÑÿ®ŸäŸàŸÑŸàÿ¨Ÿäÿ© ŸàÿßŸÑÿ∑ÿ®Ÿäÿ©
                    </p>
                </div>

                <div class="text-center">
                    <button onclick="showScreenById('lessonScreen')" class="btn-primary inline-flex items-center gap-3 group">
                        <ion-icon name="school" class="text-2xl group-hover:scale-110 transition-transform"></ion-icon>
                        <span>ÿßÿ®ÿØÿ£ ÿ±ÿ≠ŸÑÿ© ÿßŸÑÿ™ÿπŸÑŸÖ</span>
                        <ion-icon name="arrow-back" class="text-2xl group-hover:-translate-x-2 transition-transform"></ion-icon>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Screen 7.5: Lesson Screen -->
    <div id="lessonScreen" class="screen flex-col">
        <header class="absolute top-0 left-0 right-0 header-gradient text-white p-4 h-20 flex items-center justify-between z-10 px-8">
            <button onclick="showScreenById('contentScreen')" class="text-white hover:bg-white/20 rounded-full p-2 transition-all">
                <ion-icon name="arrow-forward" class="text-2xl"></ion-icon>
            </button>
            <div class="flex items-center gap-3">
                <ion-icon name="book-outline" class="text-3xl"></ion-icon>
                <h1 class="text-2xl font-bold">ÿ¥ÿ±ÿ≠ ÿßŸÑÿØÿ±ÿ≥ ÿßŸÑÿ™ŸÅÿßÿπŸÑŸä</h1>
            </div>
            <div class="w-10"></div>
        </header>
        
        <div class="max-w-7xl w-full mx-auto fade-in p-4 md:p-8">
            <!-- Lesson content will be dynamically generated here -->
            <div id="lessonContent"></div>
        </div>
    </div>

    <!-- Screen 8: References Screen -->
    <div id="referencesScreen" class="screen flex-col">
        <header class="absolute top-0 left-0 right-0 header-gradient text-white p-4 h-20 flex items-center justify-center z-10">
            <div class="flex items-center gap-3">
                <ion-icon name="library" class="text-3xl"></ion-icon>
                <h1 class="text-2xl font-bold">ÿßŸÑŸÖÿ±ÿßÿ¨ÿπ ŸàŸÖÿµÿßÿØÿ± ÿßŸÑÿßÿ∑ŸÑÿßÿπ</h1>
            </div>
        </header>
        <div class="max-w-7xl w-full mx-auto fade-in p-8">
            <div class="glass-card p-8 md:p-12">
                <div class="text-center mb-12">
                    <ion-icon name="book" class="text-8xl gradient-text icon-float"></ion-icon>
                    <h1 class="text-4xl md:text-5xl font-bold gradient-text mb-4 mt-6">ÿßŸÑŸÖÿ±ÿßÿ¨ÿπ ŸàŸÖÿµÿßÿØÿ± ÿßŸÑÿßÿ∑ŸÑÿßÿπ</h1>
                    <p class="text-xl text-gray-600 leading-relaxed max-w-3xl mx-auto">
                        ŸÖÿµÿßÿØÿ± ÿ£ŸÉÿßÿØŸäŸÖŸäÿ© ŸÖÿ™ŸÜŸàÿπÿ© ÿ®ÿßŸÑŸÑÿ∫ÿ™ŸäŸÜ ÿßŸÑÿπÿ±ÿ®Ÿäÿ© ŸàÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ© ŸÑŸÑÿ™ÿπŸÖŸÇ ŸÅŸä ŸÖŸàÿ∂Ÿàÿπÿßÿ™ ÿßŸÑÿ®ŸäŸàÿ™ŸäŸÇÿß
                    </p>
                </div>
                
                <!-- Arabic Academic References -->
                <div class="mb-12">
                    <div class="flex items-center gap-3 mb-6">
                        <ion-icon name="library" class="text-4xl text-green-600"></ion-icon>
                        <h2 class="text-3xl font-bold text-gray-900">ŸÖŸÇÿßŸÑÿßÿ™ ÿπÿ±ÿ®Ÿäÿ© (ÿ£ŸÉÿßÿØŸäŸÖŸäÿ©)</h2>
                    </div>
                    <div class="space-y-4">
                        <!-- Reference 1 -->
                        <div class="bg-gradient-to-r from-green-50 to-teal-50 border-2 border-green-300 p-6 rounded-xl shadow-md hover:shadow-2xl transition-all hover:scale-102 group">
                            <div class="flex items-start gap-4">
                                <div class="w-16 h-16 rounded-full bg-gradient-to-br from-green-500 to-teal-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-all">
                                    <ion-icon name="document-text" class="text-white text-3xl"></ion-icon>
                                </div>
                                <div class="flex-1">
                                    <div class="flex items-start justify-between mb-2">
                                        <h3 class="text-xl font-bold text-gray-900">ÿßŸÑÿ®ŸäŸàÿ•ÿ™ŸäŸÇÿß ŸàŸÖÿ≥ÿ™ŸÇÿ®ŸÑ ÿßŸÑÿ•ŸÜÿ≥ÿßŸÜ</h3>
                                        <span class="bg-green-600 text-white text-xs font-bold px-3 py-1 rounded-full">PDF</span>
                                    </div>
                                    <p class="text-gray-700 font-medium mb-3 leading-relaxed">ŸÖŸÑŸÅ ÿ®ÿ≠ÿ´Ÿä ÿ£ŸÉÿßÿØŸäŸÖŸä ŸÖŸÖÿ™ÿßÿ≤ ŸäŸÜÿßŸÇÿ¥ ÿ™ÿπÿ±ŸäŸÅ ÿßŸÑÿ®ŸäŸàÿ™ŸäŸÇÿß Ÿàÿ™ÿ∑Ÿàÿ±Ÿáÿß ŸàÿπŸÑÿßŸÇÿ™Ÿáÿß ÿ®ŸÖÿ≥ÿ™ŸÇÿ®ŸÑ ÿßŸÑÿ•ŸÜÿ≥ÿßŸÜ.</p>
                                    <div class="flex items-center gap-2 text-sm text-gray-600 mb-3">
                                        <ion-icon name="school" class="text-lg"></ion-icon>
                                        <span class="font-semibold">ÿ¨ÿßŸÖÿπÿ© ŸÇÿßŸÑŸÖÿ©</span>
                                    </div>
                                    <a href="https://dspace.univ-guelma.dz/jspui/bitstream/123456789/4574/1/7_1.pdf" target="_blank" 
                                       class="inline-flex items-center gap-2 bg-gradient-to-r from-green-600 to-teal-600 hover:from-green-700 hover:to-teal-700 text-white px-5 py-2 rounded-full font-semibold transition-all shadow-md hover:shadow-lg">
                                        <ion-icon name="download" class="text-xl"></ion-icon>
                                        ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖÿ±ÿ¨ÿπ
                                        <ion-icon name="arrow-back" class="text-lg"></ion-icon>
                                    </a>
                                </div>
                            </div>
                        </div>

                        <!-- Reference 2 -->
                        <div class="bg-gradient-to-r from-emerald-50 to-green-50 border-2 border-emerald-300 p-6 rounded-xl shadow-md hover:shadow-2xl transition-all hover:scale-102 group">
                            <div class="flex items-start gap-4">
                                <div class="w-16 h-16 rounded-full bg-gradient-to-br from-emerald-500 to-green-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-all">
                                    <ion-icon name="document-text" class="text-white text-3xl"></ion-icon>
                                </div>
                                <div class="flex-1">
                                    <div class="flex items-start justify-between mb-2">
                                        <h3 class="text-xl font-bold text-gray-900">ÿ®ŸäŸàÿ™ŸäŸÄŸÄŸÄŸÄŸÄŸÇÿß ŸÖŸÄŸÄŸÄŸÄÿß ÿ®ÿπŸÄŸÄŸÄŸÄŸÄŸÄŸÄÿØ ÿßŸÑÿ•ŸÜÿ≥ŸÄŸÄŸÄŸÄŸÄÿßŸÜ</h3>
                                        <span class="bg-emerald-600 text-white text-xs font-bold px-3 py-1 rounded-full">PDF</span>
                                    </div>
                                    <p class="text-gray-700 font-medium mb-3 leading-relaxed">ŸÜÿ∏ÿ±ÿ© ŸÅŸÑÿ≥ŸÅŸäÿ© ÿ£ÿπŸÖŸÇ ÿπŸÑŸâ ÿ™ÿ∑Ÿàÿ±ÿßÿ™ ÿßŸÑÿ®ŸäŸàÿ™ŸäŸÇÿß ŸàŸÖÿß Ÿäÿπÿ±ŸÅ ÿ®ŸÄ "ŸÖÿß ÿ®ÿπÿØ ÿßŸÑÿ•ŸÜÿ≥ÿßŸÜ".</p>
                                    <div class="flex items-center gap-2 text-sm text-gray-600 mb-3">
                                        <ion-icon name="school" class="text-lg"></ion-icon>
                                        <span class="font-semibold">ÿ¨ÿßŸÖÿπÿ© ÿÆŸÖŸäÿ≥ ŸÖŸÑŸäÿßŸÜÿ©</span>
                                    </div>
                                    <a href="http://dspace.univ-km.dz/xmlui/bitstream/handle/123456789/6283/%D8%B9%D8%A8%D8%AF%D8%A7%D9%84%D9%82%D8%A7%D8%AF%D8%B1%202023.pdf?sequence=1&isAllowed=y" target="_blank" 
                                       class="inline-flex items-center gap-2 bg-gradient-to-r from-emerald-600 to-green-600 hover:from-emerald-700 hover:to-green-700 text-white px-5 py-2 rounded-full font-semibold transition-all shadow-md hover:shadow-lg">
                                        <ion-icon name="download" class="text-xl"></ion-icon>
                                        ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖÿ±ÿ¨ÿπ
                                        <ion-icon name="arrow-back" class="text-lg"></ion-icon>
                                    </a>
                                </div>
                            </div>
                        </div>

                        <!-- Reference 3 -->
                        <div class="bg-gradient-to-r from-teal-50 to-cyan-50 border-2 border-teal-300 p-6 rounded-xl shadow-md hover:shadow-2xl transition-all hover:scale-102 group">
                            <div class="flex items-start gap-4">
                                <div class="w-16 h-16 rounded-full bg-gradient-to-br from-teal-500 to-cyan-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-all">
                                    <ion-icon name="newspaper" class="text-white text-3xl"></ion-icon>
                                </div>
                                <div class="flex-1">
                                    <div class="flex items-start justify-between mb-2">
                                        <h3 class="text-xl font-bold text-gray-900">ŸÖŸÜ ÿ£ÿÆŸÑÿßŸÇŸäÿßÿ™ ÿßŸÑÿ∑ÿ® ÿ•ŸÑŸâ ÿßŸÑÿ®ŸäŸàÿ•ÿ∑ŸäŸÇÿß</h3>
                                        <span class="bg-teal-600 text-white text-xs font-bold px-3 py-1 rounded-full">ŸÖŸÇÿßŸÑÿ©</span>
                                    </div>
                                    <p class="text-gray-700 font-medium mb-3 leading-relaxed">ŸÖŸÇÿßŸÑÿ© ÿ™Ÿàÿ∂ÿ≠ ÿßŸÑŸÜŸÇŸÑÿ© ŸÖŸÜ ÿ£ÿÆŸÑÿßŸÇ ÿßŸÑÿ∑ÿ® ÿßŸÑÿ™ŸÇŸÑŸäÿØŸäÿ© ŸÑŸÑÿ®ŸäŸàÿ™ŸäŸÇÿß ÿßŸÑÿ≠ÿØŸäÿ´ÿ©.</p>
                                    <div class="flex items-center gap-2 text-sm text-gray-600 mb-3">
                                        <ion-icon name="journal" class="text-lg"></ion-icon>
                                        <span class="font-semibold">ÿßŸÑŸÖÿ¨ŸÑÿ© ÿßŸÑÿ¨ÿ≤ÿßÿ¶ÿ±Ÿäÿ© ŸÑŸÑÿπŸÑŸàŸÖ</span>
                                    </div>
                                    <a href="https://asjp.cerist.dz/en/article/110934" target="_blank" 
                                       class="inline-flex items-center gap-2 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white px-5 py-2 rounded-full font-semibold transition-all shadow-md hover:shadow-lg">
                                        <ion-icon name="open" class="text-xl"></ion-icon>
                                        ŸÇÿ±ÿßÿ°ÿ© ÿßŸÑŸÖŸÇÿßŸÑÿ©
                                        <ion-icon name="arrow-back" class="text-lg"></ion-icon>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- English References -->
                <div class="mb-12">
                    <div class="flex items-center gap-3 mb-6">
                        <ion-icon name="globe" class="text-4xl text-blue-600"></ion-icon>
                        <h2 class="text-3xl font-bold text-gray-900">ŸÖÿ±ÿßÿ¨ÿπ ÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ© (ŸÑŸÑÿßÿ≥ÿ™ÿ≤ÿßÿØÿ©)</h2>
                    </div>
                    <div class="space-y-4">
                        <!-- English Reference 1 -->
                        <div class="bg-gradient-to-r from-blue-50 to-indigo-50 border-2 border-blue-300 p-6 rounded-xl shadow-md hover:shadow-2xl transition-all hover:scale-102 group">
                            <div class="flex items-start gap-4">
                                <div class="w-16 h-16 rounded-full bg-gradient-to-br from-blue-500 to-indigo-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-all">
                                    <ion-icon name="book" class="text-white text-3xl"></ion-icon>
                                </div>
                                <div class="flex-1">
                                    <div class="flex items-start justify-between mb-2">
                                        <h3 class="text-xl font-bold text-gray-900">Bioethics: A Coursebook</h3>
                                        <span class="bg-blue-600 text-white text-xs font-bold px-3 py-1 rounded-full">ŸÉÿ™ÿßÿ® ŸÖÿ¨ÿßŸÜŸä</span>
                                    </div>
                                    <p class="text-gray-700 font-medium mb-3 leading-relaxed">ŸÉÿ™ÿßÿ® ŸÉÿßŸÖŸÑ ŸàŸÖÿ¨ÿßŸÜŸä ÿ®ÿßŸÑŸÑÿ∫ÿ© ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ© Ÿäÿ¥ÿ±ÿ≠ ÿßŸÑÿ®ŸäŸàÿ™ŸäŸÇÿß ŸÉŸÖŸÜŸáÿ¨ ÿØÿ±ÿßÿ≥Ÿä.</p>
                                    <a href="https://books.openbookpublishers.com/10.11647/obp.0449.pdf" target="_blank" 
                                       class="inline-flex items-center gap-2 bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 text-white px-5 py-2 rounded-full font-semibold transition-all shadow-md hover:shadow-lg">
                                        <ion-icon name="download" class="text-xl"></ion-icon>
                                        Download Book
                                        <ion-icon name="arrow-back" class="text-lg"></ion-icon>
                                    </a>
                                </div>
                            </div>
                        </div>

                        <!-- English Reference 2 -->
                        <div class="bg-gradient-to-r from-indigo-50 to-purple-50 border-2 border-indigo-300 p-6 rounded-xl shadow-md hover:shadow-2xl transition-all hover:scale-102 group">
                            <div class="flex items-start gap-4">
                                <div class="w-16 h-16 rounded-full bg-gradient-to-br from-indigo-500 to-purple-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-all">
                                    <ion-icon name="document-text" class="text-white text-3xl"></ion-icon>
                                </div>
                                <div class="flex-1">
                                    <div class="flex items-start justify-between mb-2">
                                        <h3 class="text-xl font-bold text-gray-900">Introduction to Ethics and Bioethics</h3>
                                        <span class="bg-indigo-600 text-white text-xs font-bold px-3 py-1 rounded-full">PDF</span>
                                    </div>
                                    <p class="text-gray-700 font-medium mb-3 leading-relaxed">ŸÖŸÇÿØŸÖÿ© ŸÖŸÖÿ™ÿßÿ≤ÿ© ŸàŸÖÿÆÿ™ÿµÿ±ÿ© ÿπŸÜ ÿ™ÿπÿ±ŸäŸÅ ÿßŸÑÿ£ÿÆŸÑÿßŸÇ ŸàÿßŸÑÿ®ŸäŸàÿ™ŸäŸÇÿß.</p>
                                    <div class="flex items-center gap-2 text-sm text-gray-600 mb-3">
                                        <ion-icon name="logo-android" class="text-lg"></ion-icon>
                                        <span class="font-semibold">ResearchGate</span>
                                    </div>
                                    <a href="https://www.researchgate.net/publication/230025197_Introduction_to_Ethics_and_Bioethics" target="_blank" 
                                       class="inline-flex items-center gap-2 bg-gradient-to-r from-indigo-600 to-purple-600 hover:from-indigo-700 hover:to-purple-700 text-white px-5 py-2 rounded-full font-semibold transition-all shadow-md hover:shadow-lg">
                                        <ion-icon name="open" class="text-xl"></ion-icon>
                                        Read Paper
                                        <ion-icon name="arrow-back" class="text-lg"></ion-icon>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Informed Consent References -->
                <div class="mb-12">
                    <div class="flex items-center gap-3 mb-6">
                        <ion-icon name="shield-checkmark" class="text-4xl text-purple-600"></ion-icon>
                        <h2 class="text-3xl font-bold text-gray-900">ÿßŸÑŸÖŸàÿßŸÅŸÇÿ© ÿßŸÑŸÖÿ≥ÿ™ŸÜŸäÿ±ÿ© (Informed Consent)</h2>
                    </div>
                    <div class="space-y-4">
                        <!-- IC Reference 1 -->
                        <div class="bg-gradient-to-r from-purple-50 to-pink-50 border-2 border-purple-300 p-6 rounded-xl shadow-md hover:shadow-2xl transition-all hover:scale-102 group">
                            <div class="flex items-start gap-4">
                                <div class="w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-pink-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-all">
                                    <ion-icon name="medical" class="text-white text-3xl"></ion-icon>
                                </div>
                                <div class="flex-1">
                                    <div class="flex items-start justify-between mb-2">
                                        <h3 class="text-xl font-bold text-gray-900">Informed Consent (NCBI Bookshelf)</h3>
                                        <span class="bg-purple-600 text-white text-xs font-bold px-3 py-1 rounded-full">ŸÖÿ±ÿ¨ÿπ ÿ∑ÿ®Ÿä</span>
                                    </div>
                                    <p class="text-gray-700 font-medium mb-3 leading-relaxed">ŸÖŸÇÿßŸÑÿ© ŸÖŸÅÿµŸÑÿ© ŸÖŸÜ ÿßŸÑŸÖŸÉÿ™ÿ®ÿ© ÿßŸÑŸàÿ∑ŸÜŸäÿ© ŸÑŸÑÿ∑ÿ® (ÿ£ŸÖÿ±ŸäŸÉÿß) ÿ™ÿ¥ÿ±ÿ≠ ÿßŸÑŸÖŸàÿßŸÅŸÇÿ© ÿßŸÑŸÖÿ≥ÿ™ŸÜŸäÿ±ÿ© ÿ®ÿßŸÑÿ™ŸÅÿµŸäŸÑ.</p>
                                    <div class="flex items-center gap-2 text-sm text-gray-600 mb-3">
                                        <ion-icon name="flag" class="text-lg"></ion-icon>
                                        <span class="font-semibold">National Library of Medicine (USA)</span>
                                    </div>
                                    <a href="https://www.ncbi.nlm.nih.gov/books/NBK430827/" target="_blank" 
                                       class="inline-flex items-center gap-2 bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white px-5 py-2 rounded-full font-semibold transition-all shadow-md hover:shadow-lg">
                                        <ion-icon name="open" class="text-xl"></ion-icon>
                                        Read Article
                                        <ion-icon name="arrow-back" class="text-lg"></ion-icon>
                                    </a>
                                </div>
                            </div>
                        </div>

                        <!-- IC Reference 2 -->
                        <div class="bg-gradient-to-r from-pink-50 to-rose-50 border-2 border-pink-300 p-6 rounded-xl shadow-md hover:shadow-2xl transition-all hover:scale-102 group">
                            <div class="flex items-start gap-4">
                                <div class="w-16 h-16 rounded-full bg-gradient-to-br from-pink-500 to-rose-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-all">
                                    <ion-icon name="clipboard" class="text-white text-3xl"></ion-icon>
                                </div>
                                <div class="flex-1">
                                    <div class="flex items-start justify-between mb-2">
                                        <h3 class="text-xl font-bold text-gray-900">Informed Consent</h3>
                                        <span class="bg-pink-600 text-white text-xs font-bold px-3 py-1 rounded-full">ÿ¨ÿßŸÖÿπŸä</span>
                                    </div>
                                    <p class="text-gray-700 font-medium mb-3 leading-relaxed">ÿ¥ÿ±ÿ≠ ŸÖÿ®ÿ≥ÿ∑ ŸÖŸÜ ŸÇÿ≥ŸÖ ÿßŸÑÿ£ÿÆŸÑÿßŸÇŸäÿßÿ™ ÿßŸÑÿ®ŸäŸàÿ∑ÿ®Ÿäÿ© ÿ®ÿ¨ÿßŸÖÿπÿ© Ÿàÿßÿ¥ŸÜÿ∑ŸÜ.</p>
                                    <div class="flex items-center gap-2 text-sm text-gray-600 mb-3">
                                        <ion-icon name="school" class="text-lg"></ion-icon>
                                        <span class="font-semibold">University of Washington</span>
                                    </div>
                                    <a href="https://depts.washington.edu/bhdept/ethics-medicine/bioethics-topics/detail/67" target="_blank" 
                                       class="inline-flex items-center gap-2 bg-gradient-to-r from-pink-600 to-rose-600 hover:from-pink-700 hover:to-rose-700 text-white px-5 py-2 rounded-full font-semibold transition-all shadow-md hover:shadow-lg">
                                        <ion-icon name="open" class="text-xl"></ion-icon>
                                        Read Article
                                        <ion-icon name="arrow-back" class="text-lg"></ion-icon>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Video Resources -->
                <div class="mb-12">
                    <div class="flex items-center gap-3 mb-6">
                        <ion-icon name="videocam" class="text-4xl text-red-600"></ion-icon>
                        <h2 class="text-3xl font-bold text-gray-900">ŸÅŸäÿØŸäŸàŸáÿßÿ™ ÿ™ÿπŸÑŸäŸÖŸäÿ© (ŸÑŸÑÿ∑ŸÑÿßÿ®)</h2>
                    </div>
                    <div class="space-y-4">
                        <!-- Video 1 -->
                        <div class="bg-gradient-to-r from-red-50 to-orange-50 border-2 border-red-300 p-6 rounded-xl shadow-md hover:shadow-2xl transition-all hover:scale-102 group">
                            <div class="flex items-start gap-4">
                                <div class="w-16 h-16 rounded-full bg-gradient-to-br from-red-500 to-orange-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-all">
                                    <ion-icon name="play-circle" class="text-white text-4xl"></ion-icon>
                                </div>
                                <div class="flex-1">
                                    <div class="flex items-start justify-between mb-2">
                                        <h3 class="text-xl font-bold text-gray-900">ÿ¥ÿ±ÿ≠ ÿØÿ±ÿ≥ ÿßŸÑÿ®ŸäŸàÿ™ŸäŸÇÿß (ÿßŸÑÿ£ÿÆŸÑÿßŸÇ ÿßŸÑÿ∑ÿ®Ÿäÿ©)</h3>
                                        <span class="bg-red-600 text-white text-xs font-bold px-3 py-1 rounded-full">YouTube</span>
                                    </div>
                                    <p class="text-gray-700 font-medium mb-3 leading-relaxed">ÿ¥ÿ±ÿ≠ ŸÖÿ®ÿ≥ÿ∑ Ÿàÿ≥ŸáŸÑ ŸÑŸÑÿ∑ŸÑÿßÿ® - ŸÖÿ≥ÿ™ÿ± ÿ£ÿ≠ŸÖÿØ ÿßŸÑÿØŸÖŸäÿ±Ÿä</p>
                                    <a href="https://www.youtube.com/watch?v=1SjAjxwLMv8" target="_blank" 
                                       class="inline-flex items-center gap-2 bg-gradient-to-r from-red-600 to-orange-600 hover:from-red-700 hover:to-orange-700 text-white px-5 py-2 rounded-full font-semibold transition-all shadow-md hover:shadow-lg">
                                        <ion-icon name="logo-youtube" class="text-xl"></ion-icon>
                                        ŸÖÿ¥ÿßŸáÿØÿ© ÿßŸÑŸÅŸäÿØŸäŸà
                                        <ion-icon name="arrow-back" class="text-lg"></ion-icon>
                                    </a>
                                </div>
                            </div>
                        </div>

                        <!-- Video 2 -->
                        <div class="bg-gradient-to-r from-orange-50 to-amber-50 border-2 border-orange-300 p-6 rounded-xl shadow-md hover:shadow-2xl transition-all hover:scale-102 group">
                            <div class="flex items-start gap-4">
                                <div class="w-16 h-16 rounded-full bg-gradient-to-br from-orange-500 to-amber-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-all">
                                    <ion-icon name="play-circle" class="text-white text-4xl"></ion-icon>
                                </div>
                                <div class="flex-1">
                                    <div class="flex items-start justify-between mb-2">
                                        <h3 class="text-xl font-bold text-gray-900">ÿßŸÑÿ£ÿÆŸÑÿßŸÇ ÿßŸÑÿ®ŸäŸàÿ∑ÿ®Ÿäÿ© - ŸÅŸÑÿ≥ŸÅÿ© ÿ£ŸàŸÑŸâ ÿ´ÿßŸÜŸàŸä</h3>
                                        <span class="bg-orange-600 text-white text-xs font-bold px-3 py-1 rounded-full">YouTube</span>
                                    </div>
                                    <p class="text-gray-700 font-medium mb-3 leading-relaxed">ÿ¥ÿ±ÿ≠ ŸÖŸÅÿµŸÑ ŸÑŸÑÿØÿ±ÿ≥ ÿ®ÿ£ÿ≥ŸÑŸàÿ® ŸÖŸÜÿßÿ≥ÿ® ŸÑŸÑÿ∑ŸÑÿßÿ®</p>
                                    <a href="https://www.youtube.com/watch?v=7h7dSWeHXLI" target="_blank" 
                                       class="inline-flex items-center gap-2 bg-gradient-to-r from-orange-600 to-amber-600 hover:from-orange-700 hover:to-amber-700 text-white px-5 py-2 rounded-full font-semibold transition-all shadow-md hover:shadow-lg">
                                        <ion-icon name="logo-youtube" class="text-xl"></ion-icon>
                                        ŸÖÿ¥ÿßŸáÿØÿ© ÿßŸÑŸÅŸäÿØŸäŸà
                                        <ion-icon name="arrow-back" class="text-lg"></ion-icon>
                                    </a>
                                </div>
                            </div>
                        </div>

                        <!-- Video 3 -->
                        <div class="bg-gradient-to-r from-amber-50 to-yellow-50 border-2 border-amber-300 p-6 rounded-xl shadow-md hover:shadow-2xl transition-all hover:scale-102 group">
                            <div class="flex items-start gap-4">
                                <div class="w-16 h-16 rounded-full bg-gradient-to-br from-amber-500 to-yellow-600 flex items-center justify-center flex-shrink-0 shadow-lg group-hover:scale-110 transition-all">
                                    <ion-icon name="play-circle" class="text-white text-4xl"></ion-icon>
                                </div>
                                <div class="flex-1">
                                    <div class="flex items-start justify-between mb-2">
                                        <h3 class="text-xl font-bold text-gray-900">ŸÖÿ¨ÿßŸÑÿßÿ™ ÿßŸÑÿ£ÿÆŸÑÿßŸÇ ÿßŸÑÿ®ŸäŸàÿ∑ÿ®Ÿäÿ©</h3>
                                        <span class="bg-amber-600 text-white text-xs font-bold px-3 py-1 rounded-full">ŸÖÿ≠ÿßÿ∂ÿ±ÿ©</span>
                                    </div>
                                    <p class="text-gray-700 font-medium mb-3 leading-relaxed">ÿØ. ŸÜÿßÿØÿ± ÿßŸÑÿØÿ≥ŸàŸÇŸä - ŸÖÿ≠ÿßÿ∂ÿ±ÿ© ŸÖÿ™ÿÆÿµÿµÿ©</p>
                                    <a href="https://www.youtube.com/watch?v=hpgklFsLcWg" target="_blank" 
                                       class="inline-flex items-center gap-2 bg-gradient-to-r from-amber-600 to-yellow-600 hover:from-amber-700 hover:to-yellow-700 text-white px-5 py-2 rounded-full font-semibold transition-all shadow-md hover:shadow-lg">
                                        <ion-icon name="logo-youtube" class="text-xl"></ion-icon>
                                        ŸÖÿ¥ÿßŸáÿØÿ© ÿßŸÑŸÖÿ≠ÿßÿ∂ÿ±ÿ©
                                        <ion-icon name="arrow-back" class="text-lg"></ion-icon>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Summary Box -->
                <div class="bg-gradient-to-r from-indigo-100 to-purple-100 border-2 border-indigo-300 p-8 rounded-2xl text-center shadow-lg">
                    <ion-icon name="information-circle" class="text-6xl text-indigo-600 mb-4"></ion-icon>
                    <h3 class="text-2xl font-bold text-gray-900 mb-3">ŸÖŸÑÿßÿ≠ÿ∏ÿ© ŸÖŸáŸÖÿ©</h3>
                    <p class="text-lg text-gray-800 leading-relaxed">
                        ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖÿ±ÿßÿ¨ÿπ ÿ£ÿπŸÑÿßŸá ŸÖÿ™ÿßÿ≠ÿ© ŸÖÿ¨ÿßŸÜÿßŸã ŸàŸäŸÖŸÉŸÜ ÿßŸÑŸàÿµŸàŸÑ ÿ•ŸÑŸäŸáÿß ŸÖÿ®ÿßÿ¥ÿ±ÿ©. 
                        ŸäŸèŸÜÿµÿ≠ ÿ®ÿßŸÑÿßÿ∑ŸÑÿßÿπ ÿπŸÑŸâ ÿßŸÑŸÖÿ±ÿßÿ¨ÿπ ÿßŸÑÿπÿ±ÿ®Ÿäÿ© ÿ£ŸàŸÑÿßŸã ÿ´ŸÖ ÿßŸÑÿßŸÜÿ™ŸÇÿßŸÑ ŸÑŸÑŸÖÿ±ÿßÿ¨ÿπ ÿßŸÑÿ•ŸÜÿ¨ŸÑŸäÿ≤Ÿäÿ© ŸÑŸÑÿ™ÿπŸÖŸÇ ÿ£ŸÉÿ´ÿ±.
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Screen 9: Group Info Screen -->
    <div id="groupInfoScreen" class="screen flex-col">
        <header class="absolute top-0 left-0 right-0 header-gradient text-white p-4 h-20 flex items-center justify-center z-10">
            <div class="flex items-center gap-3">
                <ion-icon name="checkmark-done-circle" class="text-3xl"></ion-icon>
                <h1 class="text-2xl font-bold">ÿßŸÑÿßŸÜÿ∂ŸÖÿßŸÖ ÿ•ŸÑŸâ ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ©</h1>
            </div>
        </header>
        <div class="max-w-3xl w-full mx-auto fade-in p-8 text-center">
            <div class="glass-card p-8 md:p-12">
                <div class="w-32 h-32 rounded-full bg-gradient-to-br from-green-400 to-green-600 flex items-center justify-center mx-auto mb-6 pulse-glow">
                    <ion-icon name="checkmark-circle" class="text-white text-7xl"></ion-icon>
                </div>
                
                <h2 class="text-4xl font-bold gradient-text mb-4">ÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿØ ŸÖÿ¨ŸÖŸàÿπÿ™ŸÉ ÿ®ŸÜÿ¨ÿßÿ≠!</h2>
                <p class="text-xl text-gray-600 mb-8">ÿßÿ≠ÿ™ŸÅÿ∏ ÿ®ÿßŸÑŸÖÿπŸÑŸàŸÖÿßÿ™ ÿßŸÑÿ™ÿßŸÑŸäÿ© ŸÑŸÑÿßŸÜÿ∂ŸÖÿßŸÖ ÿ•ŸÑŸâ ŸÖÿ¨ŸÖŸàÿπÿ™ŸÉ</p>
                
                <div class="bg-gradient-to-r from-purple-50 to-pink-50 p-8 rounded-2xl mb-8">
                    <div class="space-y-4 text-right">
                        <div class="flex items-center justify-between p-3 bg-white rounded-xl">
                            <span class="text-xl font-bold text-purple-700">ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ©:</span>
                            <span id="groupNumber" class="text-xl font-semibold text-gray-800"></span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-white rounded-xl">
                            <span class="text-xl font-bold text-purple-700">ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ©:</span>
                            <span id="groupName" class="text-lg text-gray-800"></span>
                        </div>
                        <div class="flex items-center justify-between p-3 bg-white rounded-xl">
                            <span class="text-xl font-bold text-purple-700">ÿ±ŸÖÿ≤ ÿßŸÑŸÅÿµŸÑ:</span>
                            <div class="flex items-center gap-2">
                                <span id="groupCode" class="font-mono text-2xl bg-gray-100 px-4 py-2 rounded-lg text-gray-800 transition-all duration-300"></span>
                                <button onclick="copyClassroomCode()" 
                                        data-tooltip="ŸÜÿ≥ÿÆ ÿßŸÑÿ±ŸÖÿ≤"
                                        class="w-10 h-10 rounded-lg bg-purple-500 hover:bg-purple-600 text-white flex items-center justify-center transition-all hover:scale-110"
                                        aria-label="ŸÜÿ≥ÿÆ ÿ±ŸÖÿ≤ ÿßŸÑŸÅÿµŸÑ">
                                    <ion-icon name="copy-outline" class="text-xl"></ion-icon>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>

                <button onclick="openClassroomLink()" class="btn-primary w-full group">
                    <span class="flex items-center justify-center gap-3">
                        <ion-icon name="school" class="text-3xl group-hover:rotate-12 transition-transform"></ion-icon>
                        ÿßŸÑÿßŸÜÿ™ŸÇÿßŸÑ ÿ•ŸÑŸâ Google Classroom
                        <ion-icon name="open-outline" class="text-2xl"></ion-icon>
                    </span>
                </button>
                
                <div class="mt-6 p-4 bg-amber-50 rounded-xl border-r-4 border-amber-400">
                    <p class="text-amber-700 flex items-center justify-center gap-2">
                        <ion-icon name="information-circle" class="text-xl"></ion-icon>
                        ÿßÿ≠ŸÅÿ∏ ÿ±ŸÖÿ≤ ÿßŸÑŸÅÿµŸÑ ŸÇÿ®ŸÑ ÿßŸÑÿßŸÜÿ™ŸÇÿßŸÑ
                    </p>
                </div>
            </div>
        </div>
    </div>

    <!-- Navigation Controls -->
    <div id="navigationControls" class="fixed bottom-0 left-0 right-0 h-24 z-50 flex items-center justify-between px-8">
        <!-- Previous Button -->
        <button id="prevBtn" onclick="navigatePrevious()" 
                data-tooltip="ÿßŸÑÿ¥ÿßÿ¥ÿ© ÿßŸÑÿ≥ÿßÿ®ŸÇÿ©"
                class="group flex items-center justify-center gap-2 px-4 md:px-3 h-16 rounded-full glass-card shadow-xl hover:scale-110 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed"
                aria-label="ÿßŸÑÿßŸÜÿ™ŸÇÿßŸÑ ŸÑŸÑÿ¥ÿßÿ¥ÿ© ÿßŸÑÿ≥ÿßÿ®ŸÇÿ©">
            <ion-icon name="chevron-forward" class="text-3xl text-purple-600"></ion-icon>
            <span id="prevBtnLabel" class="text-sm md:text-base font-semibold text-purple-600 md:opacity-0 md:group-hover:opacity-100 md:max-w-0 md:group-hover:max-w-xs overflow-hidden transition-all duration-300 whitespace-nowrap"></span>
        </button>
        

        <!-- Next Button -->
        <button id="nextBtn" onclick="navigateNext()" 
                data-tooltip="ÿßŸÑÿ¥ÿßÿ¥ÿ© ÿßŸÑÿ™ÿßŸÑŸäÿ©"
                class="group flex items-center justify-center gap-2 px-4 md:px-3 h-16 rounded-full bg-gradient-to-r from-purple-600 to-indigo-600 text-white shadow-xl hover:scale-110 transition-all duration-300 disabled:opacity-50 disabled:cursor-not-allowed"
                aria-label="ÿßŸÑÿßŸÜÿ™ŸÇÿßŸÑ ŸÑŸÑÿ¥ÿßÿ¥ÿ© ÿßŸÑÿ™ÿßŸÑŸäÿ©">
            <span id="nextBtnLabel" class="text-sm md:text-base font-semibold md:opacity-0 md:group-hover:opacity-100 md:max-w-0 md:group-hover:max-w-xs overflow-hidden transition-all duration-300 whitespace-nowrap"></span>
            <ion-icon name="chevron-back" class="text-3xl"></ion-icon>
        </button>
    </div>

    <!-- Help Button -->
    <button id="helpBtn" onclick="toggleHelpModal()" 
            data-tooltip="ŸÖÿ≥ÿßÿπÿØÿ© Ÿàÿ•ÿ±ÿ¥ÿßÿØÿßÿ™"
            class="fixed top-8 right-8 z-50 flex items-center justify-center w-16 h-16 rounded-full bg-gradient-to-r from-yellow-400 to-amber-500 text-white shadow-xl hover:scale-110 hover:rotate-12 transition-all duration-300 pulse-glow"
            aria-label="ŸÅÿ™ÿ≠ ŸÜÿßŸÅÿ∞ÿ© ÿßŸÑŸÖÿ≥ÿßÿπÿØÿ©">
        <ion-icon name="help" class="text-3xl"></ion-icon>
    </button>
    
    <!-- Test Modal -->
    <div id="testModal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="testModalTitle">
        <div class="modal-content w-full h-full max-w-none max-h-none md:w-[90%] md:h-[90%] md:max-w-6xl md:max-h-6xl p-0 md:p-4">
            <div class="bg-white rounded-2xl w-full h-full flex flex-col">
                <header class="flex items-center justify-between p-4 border-b">
                    <h3 id="testModalTitle" class="text-xl font-bold text-gray-800">ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑŸÇÿ®ŸÑŸä</h3>
                    <button onclick="closeTestModal()" class="w-10 h-10 rounded-full hover:bg-gray-200 flex items-center justify-center" aria-label="ÿ•ÿ∫ŸÑÿßŸÇ ÿßŸÑŸÜÿßŸÅÿ∞ÿ©">
                        <ion-icon name="close" class="text-2xl text-gray-600"></ion-icon>
                    </button>
                </header>
                <div class="flex-grow p-0 md:p-4">
                    <iframe src="https://forms.gle/44Ctc2M6VnJLenNB8?embedded=true" width="100%" height="100%" frameborder="0" marginheight="0" marginwidth="0">Loading‚Ä¶</iframe>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Help Modal -->
    <div id="helpModal" class="modal-overlay" role="dialog" aria-modal="true" aria-labelledby="helpModalTitle">
        <div class="modal-content text-center">
            <div class="w-20 h-20 rounded-full bg-gradient-to-br from-purple-400 to-indigo-600 flex items-center justify-center mx-auto mb-6">
                <ion-icon name="help-buoy" class="text-white text-5xl" aria-hidden="true"></ion-icon>
            </div>
            <h3 id="helpModalTitle" class="text-2xl font-bold gradient-text mb-4">ŸÖÿ±ŸÉÿ≤ ÿßŸÑŸÖÿ≥ÿßÿπÿØÿ©</h3>
            <p id="helpMessageText" class="text-lg text-gray-600 leading-relaxed mb-6">ŸÑÿß ÿ™ÿ™ŸàŸÅÿ± ŸÖÿπŸÑŸàŸÖÿßÿ™ ŸÖÿ≥ÿßÿπÿØÿ© ÿ•ÿ∂ÿßŸÅŸäÿ© ŸÑŸáÿ∞Ÿá ÿßŸÑÿ¥ÿßÿ¥ÿ© ÿ≠ÿßŸÑŸäÿßŸã.</p>
            <button onclick="toggleHelpModal()" class="btn-primary">
                <span class="flex items-center justify-center gap-2">
                    ŸÅŸáŸÖÿ™
                    <ion-icon name="checkmark-circle" class="text-xl" aria-hidden="true"></ion-icon>
                </span>
            </button>
        </div>
    </div>

    <script>
        // --- Global State and Configuration ---
        const screens = [
            { id: 'loginScreen', name: 'ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ' },
            { id: 'splashScreen', name: 'ÿßŸÑÿ®ÿØÿßŸäÿ©' },
            { id: 'preTestLinkScreen', name: 'ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑŸÇÿ®ŸÑŸä' },
            { id: 'objectivesScreen', name: 'ÿßŸÑÿ£ŸáÿØÿßŸÅ' },
            { id: 'groupSelectionScreen', name: 'ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ©' }, // This will be skipped
            { id: 'guideScreen', name: 'ÿØŸÑŸäŸÑ ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ© ÿßŸÑÿ™ÿ¨ÿ±Ÿäÿ®Ÿäÿ©' },
            { id: 'contentScreen', name: 'ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ' },
            { id: 'lessonScreen', name: 'ÿ¥ÿ±ÿ≠ ÿßŸÑÿØÿ±ÿ≥' },
            { id: 'groupInfoScreen', name: 'ÿßŸÑÿßŸÜÿ∂ŸÖÿßŸÖ ŸÑŸÑŸÖÿ¨ŸÖŸàÿπÿ©' },
            { id: 'referencesScreen', name: 'ÿßŸÑŸÖÿ±ÿßÿ¨ÿπ' }
        ];
        // ===== Centralized State Management =====
        
        // Centralized application state
        const appState = {
            currentScreen: 0,
            userData: {
                studentName: null,
                group: null,
                groupType: null,
                timeType: null,
                combinedKey: null
            },
            lastActiveTime: null,
            currentClassroomLink: ''
        };
        
        // Legacy variable for backward compatibility (will be synced with appState)
        let currentScreenIndex = 0;
        let userSelections = {
            group: null,
            studentName: null,
            groupType: null,
            timeType: null,
            combinedKey: null
        };
        
        let currentClassroomLink = '';
        
        // State persistence helpers
        const STATE_STORAGE_KEY = 'app_session_v1';
        const STATE_EXPIRY_HOURS = 24;
        
        /**
         * Saves the current app state to localStorage
         */
        function saveState() {
            try {
                appState.lastActiveTime = Date.now();
                const stateToSave = JSON.stringify(appState);
                localStorage.setItem(STATE_STORAGE_KEY, stateToSave);
                console.log('State saved successfully');
            } catch (error) {
                console.error('Error saving state to localStorage:', error);
            }
        }
        
        /**
         * Loads app state from localStorage if it exists and is not expired
         * @returns {Object|null} The loaded state object or null if not found/expired
         */
        function loadState() {
            try {
                const savedState = localStorage.getItem(STATE_STORAGE_KEY);
                if (!savedState) {
                    console.log('No saved state found');
                    return null;
                }
                
                const parsedState = JSON.parse(savedState);
                
                // Check if state is expired (24 hours)
                if (parsedState.lastActiveTime) {
                    const now = Date.now();
                    const expiryTime = STATE_EXPIRY_HOURS * 60 * 60 * 1000; // 24 hours in milliseconds
                    const timeDiff = now - parsedState.lastActiveTime;
                    
                    if (timeDiff > expiryTime) {
                        console.log('Saved state has expired, clearing...');
                        localStorage.removeItem(STATE_STORAGE_KEY);
                        return null;
                    }
                }
                
                console.log('State loaded successfully');
                return parsedState;
            } catch (error) {
                console.error('Error loading state from localStorage:', error);
                // Clear corrupted state
                localStorage.removeItem(STATE_STORAGE_KEY);
                return null;
            }
        }
        
        /**
         * Syncs appState with legacy variables for backward compatibility
         */
        function syncLegacyVariables() {
            currentScreenIndex = appState.currentScreen;
            userSelections.group = appState.userData.group;
            userSelections.studentName = appState.userData.studentName;
            userSelections.groupType = appState.userData.groupType;
            userSelections.timeType = appState.userData.timeType;
            userSelections.combinedKey = appState.userData.combinedKey;
            currentClassroomLink = appState.currentClassroomLink;
        }
        
        /**
         * Restores state from saved data and updates UI
         */
        function restoreState(savedState) {
            if (!savedState) return false;
            
            // Restore appState
            appState.currentScreen = savedState.currentScreen || 0;
            appState.userData = savedState.userData || {
                studentName: null,
                group: null,
                groupType: null,
                timeType: null,
                combinedKey: null
            };
            appState.currentClassroomLink = savedState.currentClassroomLink || '';
            
            // Sync with legacy variables
            syncLegacyVariables();
            
            // Restore UI elements
            if (appState.userData.studentName) {
                const welcomeTitle = document.getElementById('welcome-title');
                if (welcomeTitle) {
                    welcomeTitle.innerHTML = `ÿ£ŸáŸÑÿßŸã ÿ®ŸÉ ŸÖÿ¨ÿØÿØÿßŸãÿå <span class="gradient-text">${appState.userData.studentName}!</span>`;
                }
            }
            
            return true;
        }
        
        // --- Toast Notification System ---
        function showToast(message, type = 'info', duration = 3000) {
            const container = document.getElementById('toastContainer');
            const toast = document.createElement('div');
            toast.className = `toast ${type}`;
            
            const iconMap = {
                success: 'checkmark-circle',
                error: 'close-circle',
                info: 'information-circle',
                warning: 'warning'
            };
            
            const colorMap = {
                success: '#10b981',
                error: '#ef4444',
                info: '#3b82f6',
                warning: '#f59e0b'
            };
            
            toast.innerHTML = `
                <ion-icon name="${iconMap[type]}" style="font-size: 24px; color: ${colorMap[type]};"></ion-icon>
                <span style="flex: 1; color: #374151; font-weight: 500;">${message}</span>
            `;
            
            container.appendChild(toast);
            
            // Auto remove after duration
            setTimeout(() => {
                toast.classList.add('toast-exit');
                setTimeout(() => {
                    container.removeChild(toast);
                }, 300);
            }, duration);
        }
        
        // --- Confetti Animation ---
        function celebrateSuccess() {
            const duration = 3000;
            const animationEnd = Date.now() + duration;
            const defaults = { startVelocity: 30, spread: 360, ticks: 60, zIndex: 10000 };
            
            function randomInRange(min, max) {
                return Math.random() * (max - min) + min;
            }
            
            const interval = setInterval(function() {
                const timeLeft = animationEnd - Date.now();
                
                if (timeLeft <= 0) {
                    return clearInterval(interval);
                }
                
                const particleCount = 50 * (timeLeft / duration);
                
                confetti(Object.assign({}, defaults, {
                    particleCount,
                    origin: { x: randomInRange(0.1, 0.3), y: Math.random() - 0.2 }
                }));
                confetti(Object.assign({}, defaults, {
                    particleCount,
                    origin: { x: randomInRange(0.7, 0.9), y: Math.random() - 0.2 }
                }));
            }, 250);
        }
        
        // --- Loading State Helper ---
        function setButtonLoading(button, isLoading) {
            if (isLoading) {
                button.classList.add('btn-loading');
                button.disabled = true;
            } else {
                button.classList.remove('btn-loading');
                button.disabled = false;
            }
        }

        // --- Student Data ---
        let studentDatabase = [];

        // Updated Classroom Data
        const classroomData = {
            'competitive-open': {
                number: 'ÿßŸÑÿ£ŸàŸÑŸâ',
                name: 'ÿ™ŸÜÿßŸÅÿ≥Ÿä ÿ®ÿØŸàŸÜ ÿ∂ÿ∫ÿ∑ ÿ≤ŸÖŸÜŸä',
                link: 'https://classroom.google.com/c/ODIwMDY0OTU5ODIy?cjc=sclkhubr',
                code: 'sclkhubr'
            },
            'competitive-fixed': {
                number: 'ÿßŸÑÿ´ÿßŸÜŸäÿ©',
                name: 'ÿ™ŸÜÿßŸÅÿ≥Ÿä ŸÖŸÇŸäÿØ',
                link: 'https://classroom.google.com/c/ODE2OTk3ODIzNDg2?cjc=zap2cudp',
                code: 'zap2cudp'
            },
            'collaborative-open': {
                number: 'ÿßŸÑÿ´ÿßŸÑÿ´ÿ©',
                name: 'ÿ™ÿ¥ÿßÿ±ŸÉŸä ŸÖŸÅÿ™Ÿàÿ≠',
                link: 'https://classroom.google.com/c/ODE2OTk3OTI5MDYz?cjc=6wasbi5g',
                code: '6wasbi5g'
            },
            'collaborative-fixed': {
                number: 'ÿßŸÑÿ±ÿßÿ®ÿπÿ©',
                name: 'ÿ™ÿ¥ÿßÿ±ŸÉŸä ŸÖŸÇŸäÿØ',
                link: 'https://classroom.google.com/c/NzgxMjQ0MzEzNTc1?cjc=oststkcp',
                code: 'oststkcp'
            }
        };

        // Help Messages for each screen
        const helpMessages = {
            'loginScreen': "ÿ£ÿØÿÆŸÑ ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ŸàŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ± ŸÑŸÑŸàÿµŸàŸÑ ÿ•ŸÑŸâ ÿ®Ÿäÿ¶ÿ© ÿßŸÑÿ™ÿπŸÑŸÖ.",
            'splashScreen': "ŸÖÿ±ÿ≠ÿ®ÿßŸã ÿ®ŸÉ! Ÿáÿ∞Ÿá ÿßŸÑÿµŸÅÿ≠ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ© ŸÑŸÑÿ™ÿ¨ÿ±ÿ®ÿ©. ÿßŸÇÿ±ÿ£ ÿßŸÑŸÖŸÇÿØŸÖÿ© ÿ¨ŸäÿØÿßŸã ÿ´ŸÖ ÿßÿ∂ÿ∫ÿ∑ 'ÿßÿ®ÿØÿ£ ÿ±ÿ≠ŸÑÿ© ÿßŸÑÿ™ÿπŸÑŸÖ' ŸÑŸÑÿ®ÿØÿ°.",
            'preTestLinkScreen': "ÿ£ŸÉŸÖŸÑ ÿßŸÑÿßÿÆÿ™ÿ®ÿßÿ± ÿßŸÑŸÇÿ®ŸÑŸä ÿßŸÑŸÖÿØŸÖÿ¨ ŸÅŸä ÿßŸÑÿµŸÅÿ≠ÿ©. ÿ•ÿ∞ÿß Ÿàÿßÿ¨Ÿáÿ™ ŸÖÿ¥ŸÉŸÑÿ©ÿå ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿ≤ÿ± 'ŸÅÿ™ÿ≠ ŸÅŸä ŸÜÿßŸÅÿ∞ÿ© ÿ¨ÿØŸäÿØÿ©'.",
            'objectivesScreen': "ÿ™ÿπÿ±ŸÅ ÿπŸÑŸâ ÿßŸÑÿ£ŸáÿØÿßŸÅ ÿßŸÑÿ™ÿπŸÑŸäŸÖŸäÿ© ÿßŸÑÿÆŸÖÿ≥ÿ© ŸÑŸÑŸàÿ≠ÿØÿ©. ÿßŸÇÿ±ÿ£Ÿáÿß ÿ®ÿπŸÜÿßŸäÿ© ŸÑÿ™ŸÅŸáŸÖ ŸÖÿß ŸáŸà ŸÖÿ™ŸàŸÇÿπ ŸÖŸÜŸÉ.",
            'groupSelectionScreen': "ÿßÿÆÿ™ÿ± ŸÖÿ¨ŸÖŸàÿπÿ™ŸÉ ÿ®ÿπŸÜÿßŸäÿ©! ŸÉŸÑ ŸÖÿ¨ŸÖŸàÿπÿ© ŸÑŸáÿß ÿ∑ÿ±ŸäŸÇÿ© ÿπŸÖŸÑ ŸÖÿÆÿ™ŸÑŸÅÿ©. ÿßŸÇÿ±ÿ£ ÿßŸÑŸàÿµŸÅ ÿ¨ŸäÿØÿßŸã ŸÇÿ®ŸÑ ÿßŸÑÿßÿÆÿ™Ÿäÿßÿ±.",
            'guideScreen': "ÿØŸÑŸäŸÑ ÿ≥ÿ±Ÿäÿπ ŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ Google Classroom. ÿ™ÿπÿ±ŸÅ ÿπŸÑŸâ ÿßŸÑÿ£ŸÇÿ≥ÿßŸÖ ÿßŸÑÿ´ŸÑÿßÿ´ÿ© ÿßŸÑÿ±ÿ¶Ÿäÿ≥Ÿäÿ© ŸÑŸÑŸÖŸÜÿµÿ©.",
            'contentScreen': "ŸáŸÜÿß ÿ≥ÿ™ÿ¨ÿØ ÿßŸÑŸÖŸàÿßÿØ ÿßŸÑÿ™ÿπŸÑŸäŸÖŸäÿ© ŸàÿßŸÑÿ£ŸÜÿ¥ÿ∑ÿ© ÿßŸÑÿÆÿßÿµÿ© ÿ®ÿßŸÑŸàÿ≠ÿØÿ©.",
            'referencesScreen': "ŸÖÿ±ÿßÿ¨ÿπ ŸÖÿÆÿ™ÿßÿ±ÿ© ŸÑŸÑÿ™ÿπŸÖŸÇ ŸÅŸä ŸÖŸàÿ∂Ÿàÿπÿßÿ™ ÿßŸÑŸàÿ≠ÿØÿ©. ŸäŸÖŸÉŸÜŸÉ ÿßŸÑÿ±ÿ¨Ÿàÿπ ÿ•ŸÑŸäŸáÿß ŸÑÿßÿ≠ŸÇÿßŸã.",
            'groupInfoScreen': "ÿßÿ≠ŸÅÿ∏ ÿ±ŸÖÿ≤ ÿßŸÑŸÅÿµŸÑ ÿßŸÑÿØÿ±ÿßÿ≥Ÿä! ÿ≥ÿ™ÿ≠ÿ™ÿßÿ¨Ÿá ŸÑŸÑÿßŸÜÿ∂ŸÖÿßŸÖ ÿ•ŸÑŸâ ŸÖÿ¨ŸÖŸàÿπÿ™ŸÉ ÿπŸÑŸâ Google Classroom."
        };

        // --- Guide Data ---
        const guideData = {
            'competitive-open': {
                title: 'ÿ®Ÿäÿ¶ÿ© ÿßŸÑÿ™ÿπŸÑŸÖ ÿßŸÑÿ™ŸÜÿßŸÅÿ≥Ÿäÿ© ÿßŸÑŸÖÿ±ŸÜÿ©',
                timeline: {
                    duration: 21,
                    points: [
                        { day: 1, label: 'ÿßŸÑÿ®ÿØÿßŸäÿ©', icon: 'flag' },
                        { day: '1-7', label: 'ÿßŸÑÿ£ÿ≥ÿ®Ÿàÿπ ÿßŸÑÿ£ŸàŸÑ (ŸÖŸÇÿ™ÿ±ÿ≠)', description: 'ŸÇÿ±ÿßÿ°ÿ© ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ + ÿßŸÑŸÖŸáŸÖÿ© 1 Ÿà 2', icon: 'book' },
                        { day: '8-14', label: 'ÿßŸÑÿ£ÿ≥ÿ®Ÿàÿπ ÿßŸÑÿ´ÿßŸÜŸä (ŸÖŸÇÿ™ÿ±ÿ≠)', description: 'ÿßŸÑŸÖŸáŸÖÿ© 3 (ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿ£ÿÆŸÑÿßŸÇŸä)', icon: 'bulb' },
                        { day: '15-21', label: 'ÿßŸÑÿ£ÿ≥ÿ®Ÿàÿπ ÿßŸÑÿ´ÿßŸÑÿ´ (ŸÖŸÇÿ™ÿ±ÿ≠)', description: 'ÿßŸÑŸÖŸáŸÖÿ© 4 (ÿßŸÑŸÖÿ±ÿßÿ¨ÿπÿ©) + 5 (ÿßŸÑÿ™ÿ≥ŸÑŸäŸÖ)', icon: 'checkbox' },
                        { day: 21, label: 'ÿßŸÑŸÖŸàÿπÿØ ÿßŸÑŸÜŸáÿßÿ¶Ÿä ÿßŸÑŸàÿ≠ŸäÿØ', icon: 'calendar' }
                    ]
                },
                tasks: [
                    { name: 'ŸÅŸáŸÖ ÿßŸÑŸÖÿπÿßŸäŸäÿ± ÿßŸÑÿ£ÿ±ÿ®ÿπÿ©', points: 10, icon: 'reader', details: {
                        description: "ŸÉÿ™ÿßÿ®ÿ© ŸÖŸÑÿÆÿµ Ÿàÿßÿ∂ÿ≠ ŸàŸÖŸàÿ¨ÿ≤ ŸÑŸÑŸÖÿπÿßŸäŸäÿ± ÿßŸÑÿ£ÿÆŸÑÿßŸÇŸäÿ© ÿßŸÑÿ£ÿ±ÿ®ÿπÿ© ÿßŸÑÿ£ÿ≥ÿßÿ≥Ÿäÿ©.",
                        requirements: ["4 ŸÅŸÇÿ±ÿßÿ™ (80-100 ŸÉŸÑŸÖÿ© ŸÑŸÉŸÑ ŸÖÿπŸäÿßÿ±).", "Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ ÿßŸÑŸÖŸÑÿÆÿµ ÿ®ÿ£ÿ≥ŸÑŸàÿ®ŸÉ ÿßŸÑÿ¥ÿÆÿµŸä.", "ÿ™ÿ≥ŸÑŸäŸÖ ÿßŸÑÿπŸÖŸÑ ŸÅŸä ŸÖŸÑŸÅ Word ÿ£Ÿà Google Doc."],
                        evaluation: [{ item: "ÿßŸÑŸÅŸáŸÖ ÿßŸÑÿµÿ≠Ÿäÿ≠ ŸàÿßŸÑÿπŸÖŸäŸÇ ŸÑŸÑŸÖÿπÿßŸäŸäÿ±", points: 5 }, { item: "ÿßŸÑŸàÿ∂Ÿàÿ≠ ŸàÿßŸÑÿØŸÇÿ© ŸÅŸä ÿßŸÑÿµŸäÿßÿ∫ÿ©", points: 3 }, { item: "ÿßŸÑÿßŸÑÿ™ÿ≤ÿßŸÖ ÿ®ÿπÿØÿØ ÿßŸÑŸÉŸÑŸÖÿßÿ™", points: 2 }],
                        tips: ["ÿßŸÇÿ±ÿ£ ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ ÿ¨ŸäÿØÿßŸã ŸÇÿ®ŸÑ ÿßŸÑÿ®ÿØÿ°.", "ÿ≠ÿßŸàŸÑ ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿ£ŸÖÿ´ŸÑÿ© ÿ®ÿ≥Ÿäÿ∑ÿ© ŸÑÿ™Ÿàÿ∂Ÿäÿ≠ ŸÅŸáŸÖŸÉ.", "ÿ±ÿßÿ¨ÿπ ÿπŸÖŸÑŸÉ ŸÑÿ∫ŸàŸäÿßŸã ŸÇÿ®ŸÑ ÿßŸÑÿ™ÿ≥ŸÑŸäŸÖ."]
                    }},
                    { name: 'ÿ¨ŸÖÿπ ÿßŸÑÿ£ŸÖÿ´ŸÑÿ© ÿßŸÑŸàÿßŸÇÿπŸäÿ©', points: 20, icon: 'search', details: {
                        description: "ÿ¨ŸÖÿπ 5 ÿ£ŸÖÿ´ŸÑÿ© ŸàÿßŸÇÿπŸäÿ© ŸÖŸàÿ´ŸÇÿ© ŸÖŸÜ ŸÖÿµÿßÿØÿ± ŸÖŸàÿ´ŸàŸÇÿ© ÿ™ÿ™ÿπŸÑŸÇ ÿ®ÿßŸÑŸÇÿ∂ÿßŸäÿß ÿßŸÑÿÆŸÖÿ≥ ÿßŸÑŸÖÿ∑ÿ±Ÿàÿ≠ÿ©.",
                        requirements: ["5 ÿ£ŸÖÿ´ŸÑÿ© ŸàÿßŸÇÿπŸäÿ© (ŸÖÿ´ÿßŸÑ ŸÑŸÉŸÑ ŸÇÿ∂Ÿäÿ©).", "Ÿäÿ¨ÿ® ÿ£ŸÜ ÿ™ŸÉŸàŸÜ ÿßŸÑÿ£ŸÖÿ´ŸÑÿ© ŸÖŸÜ ÿ¢ÿÆÿ± 5 ÿ≥ŸÜŸàÿßÿ™.", "ÿ™Ÿàÿ´ŸäŸÇ ÿØŸÇŸäŸÇ ŸÑŸÉŸÑ ŸÖÿµÿØÿ± (APA)."],
                        evaluation: [{ item: "ÿ£ÿµÿßŸÑÿ© ÿßŸÑÿ£ŸÖÿ´ŸÑÿ© ŸàŸÖŸÜÿßÿ≥ÿ®ÿ™Ÿáÿß", points: 8 }, { item: "ÿßŸÑÿ™Ÿàÿ´ŸäŸÇ ÿßŸÑÿØŸÇŸäŸÇ ŸÑŸÑŸÖÿµÿßÿØÿ±", points: 7 }, { item: "ÿßŸÑÿ™ŸÜŸàÿπ ŸÅŸä ÿßŸÑŸÖÿµÿßÿØÿ±", points: 5 }],
                        tips: ["ÿßÿ≥ÿ™ÿÆÿØŸÖ ŸÖÿ≠ÿ±ŸÉÿßÿ™ ÿßŸÑÿ®ÿ≠ÿ´ ÿßŸÑÿ£ŸÉÿßÿØŸäŸÖŸäÿ©.", "ÿßÿ®ÿ≠ÿ´ ŸÅŸä ÿßŸÑÿ£ÿÆÿ®ÿßÿ± ŸàÿßŸÑŸÖÿ¨ŸÑÿßÿ™ ÿßŸÑÿπŸÑŸÖŸäÿ©.", "ŸÑÿß ÿ™ŸÜÿ≥Ÿé ÿ™Ÿàÿ´ŸäŸÇ ŸÉŸÑ ŸÖÿµÿØÿ± ŸÅŸàÿ±ÿßŸã."]
                    }},
                    { name: 'ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿ£ÿÆŸÑÿßŸÇŸä ÿßŸÑŸÖÿ™ÿπŸÖŸÇ', points: 30, icon: 'analytics', highlight: true, details: {
                        description: "ÿßÿÆÿ™Ÿäÿßÿ± 3 ÿ£ŸÖÿ´ŸÑÿ© ŸÖŸÜ ÿßŸÑÿ™Ÿä ÿ¨ŸÖÿπÿ™Ÿáÿß Ÿàÿ™ÿ≠ŸÑŸäŸÑŸáÿß ÿ®ÿπŸÖŸÇ ÿ®ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ ÿßŸÑŸÖÿπÿßŸäŸäÿ± ÿßŸÑÿ£ÿ±ÿ®ÿπÿ©.",
                        requirements: ["ÿ™ÿ≠ŸÑŸäŸÑ 3 ÿ£ŸÖÿ´ŸÑÿ© (200-250 ŸÉŸÑŸÖÿ© ŸÑŸÉŸÑ ÿ™ÿ≠ŸÑŸäŸÑ).", "Ÿäÿ¨ÿ® ÿ£ŸÜ Ÿäÿ™ÿ∂ŸÖŸÜ ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿπŸÜÿßÿµÿ± ÿßŸÑÿÆŸÖÿ≥ÿ©: ÿ™ÿ≠ÿØŸäÿØ ÿßŸÑŸÖÿ¥ŸÉŸÑÿ©ÿå ÿßŸÑŸÖÿπÿßŸäŸäÿ±ÿå ÿßŸÑÿ≠ŸÑŸàŸÑ ÿßŸÑŸÖŸÖŸÉŸÜÿ©ÿå ÿßŸÑÿ≠ŸÑ ÿßŸÑÿ£ŸÜÿ≥ÿ®ÿå ÿ±ÿ£ŸäŸÉ ÿßŸÑÿ¥ÿÆÿµŸä.", "Ÿäÿ¨ÿ® ÿ£ŸÜ ŸäŸÉŸàŸÜ ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ ŸÖÿ™ÿπŸÖŸÇÿßŸã ŸàŸäÿπŸÉÿ≥ ŸÅŸáŸÖŸÉ."],
                        evaluation: [{ item: "ÿπŸÖŸÇ ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ Ÿàÿ±ÿ®ÿ∑Ÿá ÿ®ÿßŸÑŸÖÿπÿßŸäŸäÿ±", points: 25 }, { item: "Ÿàÿ∂Ÿàÿ≠ ŸàŸÖŸÜÿ∑ŸÇŸäÿ© ÿßŸÑÿ≠ÿ¨ÿ¨", points: 5 }],
                        tips: ["ŸÑÿß ÿ™ŸÉÿ™ŸÅŸê ÿ®ÿßŸÑŸàÿµŸÅÿå ÿ®ŸÑ ÿ≠ŸÑŸÑ.", "ŸÉŸÜ ŸÖŸàÿ∂ŸàÿπŸäÿßŸã ŸÅŸä ÿ™ÿ≠ŸÑŸäŸÑŸÉ.", "ÿßÿ≥ÿ™ÿÆÿØŸÖ ÿßŸÑŸÖÿπÿßŸäŸäÿ± ÿßŸÑÿ£ÿ±ÿ®ÿπÿ© ŸÉÿ•ÿ∑ÿßÿ± ŸÑŸÑÿ™ÿ≠ŸÑŸäŸÑ."]
                    }},
                    { name: 'ÿßŸÑŸÖÿ±ÿßÿ¨ÿπÿ© ŸàÿßŸÑÿ™ÿ∑ŸàŸäÿ± ÿßŸÑÿ∞ÿßÿ™Ÿä', points: 15, icon: 'create', details: {
                        description: "ŸÖÿ±ÿßÿ¨ÿπÿ© ÿßŸÑŸÖŸáÿßŸÖ 1ÿå 2ÿå 3 Ÿàÿ™ÿ≠ÿ≥ŸäŸÜŸáÿß ÿ®ŸÜÿßÿ°Ÿã ÿπŸÑŸâ ŸÅŸáŸÖŸÉ ÿßŸÑŸÖÿ™ÿ≤ÿßŸäÿØ ŸÑŸÑŸÖŸàÿ∂Ÿàÿπ.",
                        requirements: ["ŸÖÿ±ÿßÿ¨ÿπÿ© ÿ¥ÿßŸÖŸÑÿ© ŸÑŸÑŸÖŸáÿßŸÖ ÿßŸÑÿ≥ÿßÿ®ŸÇÿ©.", "ÿ•ÿ¨ÿ±ÿßÿ° ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ Ÿàÿ™ÿπÿØŸäŸÑÿßÿ™ Ÿàÿßÿ∂ÿ≠ÿ©.", "ŸÉÿ™ÿßÿ®ÿ© ÿ™ŸÇÿ±Ÿäÿ± ŸÖŸàÿ¨ÿ≤ (200 ŸÉŸÑŸÖÿ©) ŸäŸàÿ∂ÿ≠ ÿßŸÑÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ÿßŸÑÿ™Ÿä ŸÇŸÖÿ™ ÿ®Ÿáÿß."],
                        evaluation: [{ item: "ÿ¨ŸàÿØÿ© ÿßŸÑÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ÿßŸÑŸÖÿ∂ÿßŸÅÿ©", points: 12 }, { item: "Ÿàÿ∂Ÿàÿ≠ ÿ™ŸÇÿ±Ÿäÿ± ÿßŸÑŸÖÿ±ÿßÿ¨ÿπÿ©", points: 3 }],
                        tips: ["ÿßÿ∑ŸÑÿ® ŸÖŸÜ ÿ≤ŸÖŸäŸÑ ŸÖÿ±ÿßÿ¨ÿπÿ© ÿπŸÖŸÑŸÉ.", "ÿÆÿ∞ ÿßÿ≥ÿ™ÿ±ÿßÿ≠ÿ© ŸÇÿ®ŸÑ ÿßŸÑŸÖÿ±ÿßÿ¨ÿπÿ© ŸÑÿ™ÿ±Ÿâ ÿßŸÑÿ£ÿÆÿ∑ÿßÿ° ÿ®ÿ¥ŸÉŸÑ ÿ£Ÿàÿ∂ÿ≠.", "ÿ±ŸÉÿ≤ ÿπŸÑŸâ ÿ™ÿ≠ÿ≥ŸäŸÜ ÿπŸÖŸÇ ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ."]
                    }},
                    { name: 'ÿßŸÑÿ™ÿ≥ŸÑŸäŸÖ ÿßŸÑŸÜŸáÿßÿ¶Ÿä ÿßŸÑÿ¥ÿßŸÖŸÑ', points: 20, icon: 'document-text', details: {
                        description: "ÿ™ÿ¨ŸÖŸäÿπ ŸÉŸÑ ÿßŸÑŸÖŸáÿßŸÖ ŸÅŸä ÿØŸÑŸäŸÑ Ÿàÿßÿ≠ÿØ ŸÖÿ™ŸÉÿßŸÖŸÑ ŸàŸÖŸÜÿ∏ŸÖ (10-15 ÿµŸÅÿ≠ÿ©).",
                        requirements: ["ÿØŸÑŸäŸÑ ŸÖÿ™ŸÉÿßŸÖŸÑ Ÿäÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖŸáÿßŸÖ.", "ÿ•ÿ∂ÿßŸÅÿ© ÿ∫ŸÑÿßŸÅ ŸàŸÅŸáÿ±ÿ≥ ŸàŸÖŸÇÿØŸÖÿ© ŸàÿÆÿßÿ™ŸÖÿ© ŸàŸÖÿ±ÿßÿ¨ÿπ.", "ÿ™ŸÜÿ≥ŸäŸÇ ÿßÿ≠ÿ™ÿ±ÿßŸÅŸä ŸàŸàÿßÿ∂ÿ≠."],
                        evaluation: [{ item: "ÿßŸÉÿ™ŸÖÿßŸÑ ÿßŸÑÿØŸÑŸäŸÑ Ÿàÿ™ŸÜÿßÿ≥ŸÇŸá", points: 8 }, { item: "ÿ¨ŸàÿØÿ© ÿßŸÑÿ™ŸÜÿ≥ŸäŸÇ ŸàÿßŸÑÿ•ÿÆÿ±ÿßÿ¨ ÿßŸÑŸÜŸáÿßÿ¶Ÿä", points: 7 }, { item: "ÿßŸÑÿ¨ŸàÿØÿ© ÿßŸÑÿ¥ÿßŸÖŸÑÿ© ŸÑŸÑŸÖÿ≠ÿ™ŸàŸâ", points: 5 }],
                        tips: ["ÿßÿ≥ÿ™ÿÆÿØŸÖ ŸÇÿßŸÑÿ®Ÿãÿß ÿ¨ÿßŸáÿ≤Ÿãÿß ŸÑŸÑÿ™ŸÜÿ≥ŸäŸÇ.", "ÿ™ÿ£ŸÉÿØ ŸÖŸÜ ÿ™ÿ±ŸÇŸäŸÖ ÿßŸÑÿµŸÅÿ≠ÿßÿ™.", "ÿØŸÇŸÇ ŸÉŸÑ ÿ¥Ÿäÿ° ŸÖÿ±ÿ© ÿ£ÿÆŸäÿ±ÿ© ŸÇÿ®ŸÑ ÿßŸÑÿ™ÿ≥ŸÑŸäŸÖ."]
                    }},
                    { name: 'ŸÜŸÇÿßÿ∑ ÿ•ÿ∂ÿßŸÅŸäÿ©', points: 5, icon: 'sparkles' }
                ],
                evaluation: [
                    { criteria: 'ÿπŸÖŸÇ ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿ£ÿÆŸÑÿßŸÇŸä', percentage: 40, color: 'purple' },
                    { criteria: 'ÿ£ÿµÿßŸÑÿ© ÿßŸÑÿ£ŸÖÿ´ŸÑÿ© ŸàÿßŸÑÿ£ŸÅŸÉÿßÿ±', percentage: 30, color: 'blue' },
                    { criteria: 'ÿ¨ŸàÿØÿ© ÿßŸÑÿµŸäÿßÿ∫ÿ© ŸàÿßŸÑÿπÿ±ÿ∂', percentage: 20, color: 'green' },
                    { criteria: 'ÿßŸÑÿßŸÉÿ™ŸÖÿßŸÑ ŸàÿßŸÑÿ¥ŸÖŸàŸÑŸäÿ©', percentage: 10, color: 'amber' }
                ],
                goldenRule: 'ŸÖŸàÿπÿØ ŸÜŸáÿßÿ¶Ÿä Ÿàÿßÿ≠ÿØ ŸÅŸÇÿ∑ ŸÅŸä ŸÜŸáÿßŸäÿ© ÿßŸÑŸäŸàŸÖ 21. ŸÑŸÉ ÿßŸÑÿ≠ÿ±Ÿäÿ© ÿßŸÑŸÉÿßŸÖŸÑÿ© ŸÅŸä ÿ•ŸÜÿ¨ÿßÿ≤ ÿßŸÑŸÖŸáÿßŸÖ ÿ®ÿ£Ÿä ÿ™ÿ±ÿ™Ÿäÿ® ŸàŸÅŸä ÿ£Ÿä ŸàŸÇÿ™.',
                goldenTips: [
                    { tip: 'ÿßÿ®ÿØÿ£ ÿ®ŸÇÿ±ÿßÿ°ÿ© ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ ŸÇÿ®ŸÑ ÿ£Ÿä ÿ¥Ÿäÿ° ŸÑÿ®ŸÜÿßÿ° ŸÅŸáŸÖ ÿµÿ≠Ÿäÿ≠', icon: 'book-outline' },
                    { tip: 'ÿ≠ÿßŸàŸÑ ÿ•ŸÜŸáÿßÿ° ÿßŸÑŸÖŸáÿßŸÖ 1 Ÿà 2 ŸÅŸä ÿßŸÑÿ£ÿ≥ÿ®Ÿàÿπ ÿßŸÑÿ£ŸàŸÑ ŸÑÿ™ÿ≠ÿµŸÑ ÿπŸÑŸâ ÿØŸÅÿπÿ© ŸÖÿπŸÜŸàŸäÿ©', icon: 'rocket-outline' },
                    { tip: 'ÿÆÿµÿµ ŸäŸàŸÖ ŸÉÿßŸÖŸÑ ŸÅŸÇÿ∑ ŸÑŸÉÿ™ÿßÿ®ÿ© ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿ£ÿÆŸÑÿßŸÇŸä ŸÑÿ∂ŸÖÿßŸÜ ÿπŸÖŸÇ ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ', icon: 'analytics-outline' },
                    { tip: 'ŸÜÿ∏ŸÖ ŸÖŸÑŸÅÿßÿ™ŸÉ ŸÖŸÜ ÿßŸÑŸäŸàŸÖ ÿßŸÑÿ£ŸàŸÑ ŸÑÿ™ÿ≥ŸáŸäŸÑ ÿπŸÖŸÑŸäÿ© ÿßŸÑŸÖÿ±ÿßÿ¨ÿπÿ© ŸàÿßŸÑÿ™ÿ¨ŸÖŸäÿπ ŸÑÿßÿ≠ŸÇÿßŸã', icon: 'folder-outline' },
                    { tip: 'ŸÑÿß ÿ™ŸÜÿ≥ ÿ£ŸÜ ÿ™ÿÆÿµÿµ ŸàŸÇÿ™ ŸÑŸÑÿ™ŸÜÿ≥ŸäŸÇ ÿßŸÑŸÜŸáÿßÿ¶Ÿä ŸÇÿ®ŸÑ ÿßŸÑÿ™ÿ≥ŸÑŸäŸÖ', icon: 'color-palette-outline' }
                ],
                support: [
                    { channel: 'ÿßŸÑÿ™ŸàÿßÿµŸÑ ÿßŸÑŸÖÿ™ÿ≤ÿßŸÖŸÜ', details: 'ŸÉŸÑ ÿ£ÿ±ÿ®ÿπÿßÿ° ŸÖŸÜ 7-8 ŸÖÿ≥ÿßÿ°Ÿã', icon: 'videocam' },
                    { channel: 'ŸÜŸÖÿßÿ∞ÿ¨ Ÿàÿ£ŸÖÿ´ŸÑÿ©', details: 'ŸÖÿ™ÿßÿ≠ÿ© ŸÑŸÉŸÑ ŸÖŸáŸÖÿ© ŸÅŸä ŸÇÿ≥ŸÖ "ÿßŸÑŸÖŸàÿßÿ±ÿØ"', icon: 'folder-open' },
                    { channel: 'ŸÇÿ≥ŸÖ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑÿ¥ÿßÿ¶ÿπÿ© (FAQs)', details: 'ŸäŸèÿ≠ÿØŸéŸëÿ´ ÿ£ÿ≥ÿ®ŸàÿπŸäÿßŸã', icon: 'help-circle' },
                    { channel: 'ÿßŸÑÿ™ŸàÿßÿµŸÑ ÿßŸÑÿ∫Ÿäÿ± ŸÖÿ™ÿ≤ÿßŸÖŸÜ', details: 'ÿßÿ∑ÿ±ÿ≠ ÿ£ÿ≥ÿ¶ŸÑÿ™ŸÉ ŸÅŸä ÿ£Ÿä ŸàŸÇÿ™ (ÿßŸÑÿ±ÿØ ÿÆŸÑÿßŸÑ 24 ÿ≥ÿßÿπÿ©)', icon: 'chatbubbles' }
                ]
            },
            'competitive-fixed': {
                title: 'ÿ™ÿ≠ÿØŸä ÿ≠ÿ¥ÿØ ÿßŸÑŸÖÿµÿßÿØÿ± ÿßŸÑŸÖŸèŸÜÿ∏ŸéŸëŸÖ',
                timeline: {
                    duration: 21,
                    points: [
                        { day: 3, label: 'ÿßŸÑŸÖŸáŸÖÿ© 1: ŸÅŸáŸÖ ÿßŸÑŸÖÿπÿßŸäŸäÿ±', icon: 'reader' },
                        { day: 8, label: 'ÿßŸÑŸÖŸáŸÖÿ© 2: ÿ¨ŸÖÿπ ÿßŸÑÿ£ŸÖÿ´ŸÑÿ©', icon: 'search' },
                        { day: 14, label: 'ÿßŸÑŸÖŸáŸÖÿ© 3: ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿ£ÿÆŸÑÿßŸÇŸä', icon: 'analytics' },
                        { day: 17, label: 'ÿßŸÑŸÖŸáŸÖÿ© 4: ÿßŸÑŸÖÿ±ÿßÿ¨ÿπÿ© ŸàÿßŸÑÿ™ÿ≠ÿ≥ŸäŸÜ', icon: 'create' },
                        { day: 21, label: 'ÿßŸÑŸÖŸáŸÖÿ© 5: ÿßŸÑÿØŸÑŸäŸÑ ÿßŸÑŸÜŸáÿßÿ¶Ÿä', icon: 'document-text' }
                    ]
                },
                tasks: [
                     { name: 'ŸÅŸáŸÖ ÿßŸÑŸÖÿπÿßŸäŸäÿ±', points: 10, icon: 'reader', details: {
                        description: "ŸÉÿ™ÿßÿ®ÿ© ŸÖŸÑÿÆÿµ ŸÑŸÑŸÖÿπÿßŸäŸäÿ± ÿßŸÑÿ£ÿ±ÿ®ÿπÿ©. ŸÑÿØŸäŸÉ 3 ÿ£ŸäÿßŸÖ ŸÅŸÇÿ∑!",
                        requirements: ["4 ŸÅŸÇÿ±ÿßÿ™ (80-100 ŸÉŸÑŸÖÿ© ŸÑŸÉŸÑ ŸÖÿπŸäÿßÿ±).", "ÿßŸÑŸÖŸàÿπÿØ ÿßŸÑŸÜŸáÿßÿ¶Ÿä: ŸäŸàŸÖ 3ÿå 11:59 ŸÖ."],
                        evaluation: [{ item: "ÿßŸÑŸÅŸáŸÖ ÿßŸÑÿµÿ≠Ÿäÿ≠", points: 5 }, { item: "ÿßŸÑŸàÿ∂Ÿàÿ≠", points: 3 }, { item: "ÿßŸÑÿßŸÑÿ™ÿ≤ÿßŸÖ ÿ®ÿßŸÑŸÖŸàÿπÿØ", points: 2 }],
                        tips: ["ÿßÿ®ÿØÿ£ ŸÅŸàÿ±ÿßŸã ŸàŸÑÿß ÿ™ÿ§ÿ¨ŸÑ!", "ÿ∂ÿπ ÿÆÿ∑ÿ© ÿ≤ŸÖŸÜŸäÿ© ŸÑŸÑÿ£ŸäÿßŸÖ ÿßŸÑÿ´ŸÑÿßÿ´ÿ©.", "ÿ≥ŸÑŸÖ ŸÇÿ®ŸÑ ÿßŸÑŸÖŸàÿπÿØ ÿ®ÿ≥ÿßÿπÿ© ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ."]
                    }},
                    { name: 'ÿ¨ŸÖÿπ ÿßŸÑÿ£ŸÖÿ´ŸÑÿ©', points: 20, icon: 'search', details: {
                        description: "ÿ¨ŸÖÿπ 5 ÿ£ŸÖÿ´ŸÑÿ© ŸàÿßŸÇÿπŸäÿ©. ŸÑÿØŸäŸÉ 5 ÿ£ŸäÿßŸÖ ŸÑŸáÿ∞Ÿá ÿßŸÑŸÖŸáŸÖÿ©.",
                        requirements: ["5 ÿ£ŸÖÿ´ŸÑÿ© ŸàÿßŸÇÿπŸäÿ© ŸÖŸÜ ÿ¢ÿÆÿ± 5 ÿ≥ŸÜŸàÿßÿ™.", "ÿßŸÑŸÖŸàÿπÿØ ÿßŸÑŸÜŸáÿßÿ¶Ÿä: ŸäŸàŸÖ 8ÿå 11:59 ŸÖ."],
                        evaluation: [{ item: "ÿßŸÑÿ£ÿµÿßŸÑÿ©", points: 8 }, { item: "ÿßŸÑŸÖŸÜÿßÿ≥ÿ®ÿ©", points: 6 }, { item: "ÿßŸÑÿ™Ÿàÿ´ŸäŸÇ", points: 4 }, { item: "ÿßŸÑÿßŸÑÿ™ÿ≤ÿßŸÖ ÿ®ÿßŸÑŸÖŸàÿπÿØ", points: 2 }],
                        tips: ["ÿßÿ≥ÿ™ÿÆÿØŸÖ ŸÖÿ≠ÿ±ŸÉÿßÿ™ ÿßŸÑÿ®ÿ≠ÿ´ ÿßŸÑÿ•ÿÆÿ®ÿßÿ±Ÿäÿ© ŸÑŸÑÿ≥ÿ±ÿπÿ©.", "Ÿàÿ´ŸëŸÇ ŸÖÿµÿßÿØÿ±ŸÉ ÿ£ÿ´ŸÜÿßÿ° ÿßŸÑÿ®ÿ≠ÿ´."]
                    }},
                    { name: 'ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ ÿßŸÑÿ£ÿÆŸÑÿßŸÇŸä', points: 30, icon: 'analytics', highlight: true, details: {
                        description: "ÿ™ÿ≠ŸÑŸäŸÑ 3 ÿ£ŸÖÿ´ŸÑÿ© ÿ®ÿπŸÖŸÇ. Ÿáÿ∞Ÿá ÿßŸÑŸÖŸáŸÖÿ© ÿßŸÑÿ£ŸáŸÖ ŸàÿπŸÑŸäŸáÿß 6 ÿ£ŸäÿßŸÖ.",
                        requirements: ["3 ÿ™ÿ≠ŸÑŸäŸÑÿßÿ™ ŸÖÿ™ÿπŸÖŸÇÿ© (200-250 ŸÉŸÑŸÖÿ© ŸÑŸÉŸÑ ÿ™ÿ≠ŸÑŸäŸÑ).", "ÿßŸÑŸÖŸàÿπÿØ ÿßŸÑŸÜŸáÿßÿ¶Ÿä: ŸäŸàŸÖ 14ÿå 11:59 ŸÖ."],
                        evaluation: [{ item: "ÿ¨ŸàÿØÿ© ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ", points: 24 }, { item: "ÿßŸÑÿßŸÑÿ™ÿ≤ÿßŸÖ ÿ®ÿßŸÑŸÖŸàÿπÿØ", points: 6 }],
                        tips: ["Ÿàÿßÿ≤ŸÜ ÿ®ŸäŸÜ ÿßŸÑÿ¨ŸàÿØÿ© ŸàÿßŸÑÿ≥ÿ±ÿπÿ©.", "ŸÑÿß ÿ™ÿ™ŸàŸÇŸÅ ŸÉÿ´Ÿäÿ±ÿßŸã ÿπŸÜÿØ ŸÜŸÇÿ∑ÿ© Ÿàÿßÿ≠ÿØÿ©ÿå ÿßÿ≥ÿ™ŸÖÿ± ŸÅŸä ÿßŸÑŸÉÿ™ÿßÿ®ÿ©."]
                    }},
                    { name: 'ÿßŸÑŸÖÿ±ÿßÿ¨ÿπÿ©', points: 15, icon: 'create', details: {
                        description: "ŸÖÿ±ÿßÿ¨ÿπÿ© Ÿàÿ™ÿ≠ÿ≥ŸäŸÜ ÿßŸÑŸÖŸáÿßŸÖ ÿßŸÑÿ≥ÿßÿ®ŸÇÿ© ÿÆŸÑÿßŸÑ 3 ÿ£ŸäÿßŸÖ.",
                        requirements: ["ŸÖÿ±ÿßÿ¨ÿπÿ© ÿ¥ÿßŸÖŸÑÿ© ŸÑŸÑŸÖŸáÿßŸÖ 1ÿå 2ÿå 3.", "ŸÉÿ™ÿßÿ®ÿ© ÿ™ŸÇÿ±Ÿäÿ± ŸÖÿ±ÿßÿ¨ÿπÿ© (200 ŸÉŸÑŸÖÿ©).", "ÿßŸÑŸÖŸàÿπÿØ ÿßŸÑŸÜŸáÿßÿ¶Ÿä: ŸäŸàŸÖ 17ÿå 11:59 ŸÖ."],
                        evaluation: [{ item: "ÿ¨ŸàÿØÿ© ÿßŸÑÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™", points: 11 }, { item: "ÿßŸÑÿ™ŸÇÿ±Ÿäÿ±", points: 2 }, { item: "ÿßŸÑÿßŸÑÿ™ÿ≤ÿßŸÖ ÿ®ÿßŸÑŸÖŸàÿπÿØ", points: 2 }],
                        tips: ["ÿ±ŸÉÿ≤ ÿπŸÑŸâ ÿ™ÿ≠ÿ≥ŸäŸÜ ÿ£ÿπŸÖŸÇ ŸÜŸÇÿ∑ÿ© ÿ∂ÿπŸÅ ŸÅŸä ÿπŸÖŸÑŸÉ."]
                    }},
                    { name: 'ÿßŸÑÿØŸÑŸäŸÑ ÿßŸÑŸÜŸáÿßÿ¶Ÿä', points: 20, icon: 'document-text', details: {
                        description: "ÿ™ÿ¨ŸÖŸäÿπ ÿßŸÑÿØŸÑŸäŸÑ ÿßŸÑŸÜŸáÿßÿ¶Ÿä ŸÅŸä 4 ÿ£ŸäÿßŸÖ. Ÿáÿ∞ÿß ŸáŸà ÿßŸÑŸÖŸàÿπÿØ ÿßŸÑŸÜŸáÿßÿ¶Ÿä ÿßŸÑÿ£ÿÆŸäÿ±!",
                        requirements: ["ÿØŸÑŸäŸÑ ŸÉÿßŸÖŸÑ ŸÖŸÜÿ∏ŸÖ (PDF ŸäŸèŸÅÿ∂ŸéŸëŸÑ).", "Ÿäÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ŸÇÿ≥ÿßŸÖ.", "ÿßŸÑŸÖŸàÿπÿØ ÿßŸÑŸÜŸáÿßÿ¶Ÿä: ŸäŸàŸÖ 21ÿå 11:59 ŸÖ."],
                        evaluation: [{ item: "ÿßŸÑÿßŸÉÿ™ŸÖÿßŸÑ", points: 6 }, { item: "ÿßŸÑÿ™ŸÜÿ≥ŸäŸÇ", points: 6 }, { item: "ÿßŸÑÿ¨ŸàÿØÿ© ÿßŸÑÿ¥ÿßŸÖŸÑÿ©", points: 6 }, { item: "ÿßŸÑÿßŸÑÿ™ÿ≤ÿßŸÖ ÿ®ÿßŸÑŸÖŸàÿπÿØ", points: 2 }],
                        tips: ["ŸÑÿß ÿ™ŸÜÿ™ÿ∏ÿ± ŸÑÿ¢ÿÆÿ± ŸÑÿ≠ÿ∏ÿ©!", "ÿÆÿµÿµ ŸäŸàŸÖÿßŸã ŸÉÿßŸÖŸÑÿßŸã ŸÑŸÑÿ™ŸÜÿ≥ŸäŸÇ ŸàÿßŸÑŸÖÿ±ÿßÿ¨ÿπÿ© ÿßŸÑŸÜŸáÿßÿ¶Ÿäÿ©."]
                    }},
                    { name: 'ŸÜŸÇÿßÿ∑ ÿ•ÿ∂ÿßŸÅŸäÿ©', points: 5, icon: 'sparkles' }
                ],
                evaluation: [
                    { criteria: 'ÿ¨ŸàÿØÿ© ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ ŸàÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ', percentage: 40, color: 'purple' },
                    { criteria: 'ÿßŸÑÿßŸÑÿ™ÿ≤ÿßŸÖ ÿßŸÑÿØŸÇŸäŸÇ ÿ®ÿßŸÑŸÖŸàÿßÿπŸäÿØ', percentage: 30, color: 'red' },
                    { criteria: 'ÿßŸÑÿßŸÉÿ™ŸÖÿßŸÑ ŸàÿßŸÑÿ¥ŸÖŸàŸÑŸäÿ©', percentage: 20, color: 'green' },
                    { criteria: 'ÿßŸÑÿ£ÿµÿßŸÑÿ© ŸàÿßŸÑÿ•ÿ®ÿØÿßÿπ', percentage: 10, color: 'amber' }
                ],
                goldenRule: '5 ŸÖŸàÿßÿπŸäÿØ ŸÜŸáÿßÿ¶Ÿäÿ© ÿµÿßÿ±ŸÖÿ©ÿå Ÿàÿßÿ≠ÿØ ŸÑŸÉŸÑ ŸÖŸáŸÖÿ©. ÿßŸÑÿ™ÿ£ÿÆŸäÿ± ÿ∫Ÿäÿ± ŸÖŸÇÿ®ŸàŸÑ ŸàŸäÿ§ÿØŸä ŸÑÿÆÿµŸÖ ŸÉÿ®Ÿäÿ±. ÿßŸÑÿ≥ÿ±ÿπÿ© ŸàÿßŸÑÿ¨ŸàÿØÿ© ŸÖÿπÿßŸã ŸáŸÖÿß ÿßŸÑÿ™ÿ≠ÿØŸä ÿßŸÑÿ≠ŸÇŸäŸÇŸä!',
                goldenTips: [
                    { tip: 'ÿßÿ®ÿØÿ£ ŸÅŸàÿ±ÿßŸã ŸàŸÑÿß ÿ™ÿ§ÿ¨ŸÑ ÿ£Ÿä ŸÖŸáŸÖÿ© ŸÑÿ≠ÿ∏ÿ© Ÿàÿßÿ≠ÿØÿ©', icon: 'flash-outline' },
                    { tip: 'ÿ∂ÿπ ÿÆÿ∑ÿ© ÿ≤ŸÖŸÜŸäÿ© ŸäŸàŸÖŸäÿ© ŸÑŸÉŸÑ ŸÖŸáŸÖÿ© ŸàÿßŸÑÿ™ÿ≤ŸÖ ÿ®Ÿáÿß', icon: 'calendar-outline' },
                    { tip: 'ÿ≥ŸÑŸÖ ŸÉŸÑ ŸÖŸáŸÖÿ© ŸÇÿ®ŸÑ ÿßŸÑŸÖŸàÿπÿØ ÿ®ÿ≥ÿßÿπÿ© ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ', icon: 'time-outline' },
                    { tip: 'ÿ±ŸÉÿ≤ ÿπŸÑŸâ ÿßŸÑÿ¨ŸàÿØÿ© ŸÑŸÉŸÜ ŸÑÿß ÿ™ÿ∂Ÿäÿπ ŸàŸÇÿ™ÿßŸã ŸÉÿ´Ÿäÿ±ÿßŸã ÿπŸÑŸâ ÿßŸÑÿ™ŸÅÿßÿµŸäŸÑ', icon: 'speedometer-outline' },
                    { tip: 'ÿßÿ≠ÿ™ŸÅÿ∏ ÿ®ŸÜÿ≥ÿÆÿ© ÿßÿ≠ÿ™Ÿäÿßÿ∑Ÿäÿ© ŸÖŸÜ ŸÉŸÑ ÿ¥Ÿäÿ° ŸÑÿ™ÿ¨ŸÜÿ® ŸÅŸÇÿØÿßŸÜ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™', icon: 'save-outline' }
                ],
                support: [
                    { channel: 'ÿßŸÑÿ™ŸàÿßÿµŸÑ ÿßŸÑŸÖÿ™ÿ≤ÿßŸÖŸÜ', details: 'ŸÉŸÑ ÿ£ÿ±ÿ®ÿπÿßÿ° 7-8 ŸÖÿ≥ÿßÿ°Ÿã', icon: 'videocam' },
                    { channel: 'ŸÜŸÖÿßÿ∞ÿ¨ ÿ≥ÿ±Ÿäÿπÿ©', details: 'ÿ£ŸÖÿ´ŸÑÿ© ŸàŸÜŸÖÿßÿ∞ÿ¨ ŸÑŸÉŸÑ ŸÖŸáŸÖÿ©', icon: 'folder-open' },
                    { channel: 'ŸÇÿ≥ŸÖ FAQs', details: 'ÿ£ÿ≥ÿ¶ŸÑÿ© ÿ¥ÿßÿ¶ÿπÿ© ŸÖÿ≠ÿØÿ´ÿ©', icon: 'help-circle' },
                    { channel: 'ÿßŸÑÿ™ŸàÿßÿµŸÑ ÿßŸÑÿ∫Ÿäÿ± ŸÖÿ™ÿ≤ÿßŸÖŸÜ', details: 'ÿ±ÿØ ÿ≥ÿ±Ÿäÿπ ÿÆŸÑÿßŸÑ 12 ÿ≥ÿßÿπÿ©', icon: 'chatbubbles' }
                ]
            },
            'collaborative-open': {
                title: 'ŸÖÿ¨ÿ™ŸÖÿπ ÿßŸÑÿ™ÿπŸÑŸÖ ÿßŸÑÿ™ÿπÿßŸàŸÜŸä ÿßŸÑŸÖÿ±ŸÜ',
                timeline: {
                    duration: 21,
                    points: [
                        { day: 1, label: 'ÿßŸÑÿ®ÿØÿßŸäÿ© Ÿàÿ™Ÿàÿ≤Ÿäÿπ ÿßŸÑÿ£ÿØŸàÿßÿ±', icon: 'people' },
                        { day: '1-7', label: 'ÿßŸÑÿ£ÿ≥ÿ®Ÿàÿπ ÿßŸÑÿ£ŸàŸÑ (ŸÖŸÇÿ™ÿ±ÿ≠)', description: 'ÿßŸÑÿßÿ¨ÿ™ŸÖÿßÿπ ÿßŸÑÿ£ŸàŸÑ + ÿßŸÑŸÖŸáŸÖÿ© 1 Ÿà 2', icon: 'book' },
                        { day: '8-14', label: 'ÿßŸÑÿ£ÿ≥ÿ®Ÿàÿπ ÿßŸÑÿ´ÿßŸÜŸä (ŸÖŸÇÿ™ÿ±ÿ≠)', description: 'ÿßŸÑŸÖŸáŸÖÿ© 3 (ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑÿßÿ™ ÿßŸÑÿ¨ŸÖÿßÿπŸäÿ©)', icon: 'bulb' },
                        { day: '15-21', label: 'ÿßŸÑÿ£ÿ≥ÿ®Ÿàÿπ ÿßŸÑÿ´ÿßŸÑÿ´ (ŸÖŸÇÿ™ÿ±ÿ≠)', description: 'ÿßŸÑŸÖŸáŸÖÿ© 4 (ÿßŸÑŸÖÿ±ÿßÿ¨ÿπÿ©) + 5 (ÿßŸÑÿπÿ±ÿ∂)', icon: 'checkbox' },
                        { day: 21, label: 'ÿßŸÑŸÖŸàÿπÿØ ÿßŸÑŸÜŸáÿßÿ¶Ÿä ÿßŸÑŸàÿ≠ŸäÿØ ŸÑŸÑŸÅÿ±ŸäŸÇ', icon: 'calendar' }
                    ]
                },
                tasks: [
                    { name: 'ŸÖŸÑÿÆÿµ ÿ¨ŸÖÿßÿπŸä ŸÑŸÑŸÖÿπÿßŸäŸäÿ±', points: 10, icon: 'reader', details: {
                        description: "ŸÉŸÅÿ±ŸäŸÇ Ÿàÿßÿ≠ÿØÿå ÿßŸÉÿ™ÿ®Ÿàÿß ŸÖŸÑÿÆÿµÿßŸã ŸÖÿ¥ÿ™ÿ±ŸÉÿßŸã ŸÑŸÑŸÖÿπÿßŸäŸäÿ± ÿßŸÑÿ£ÿ±ÿ®ÿπÿ© ŸÅŸä ŸÖŸÑŸÅ Google Doc Ÿàÿßÿ≠ÿØ.",
                        requirements: ["ŸÉŸÑ ÿπÿ∂Ÿà ŸäŸÉÿ™ÿ® ÿπŸÜ ŸÖÿπŸäÿßÿ± Ÿàÿßÿ≠ÿØ.", "ÿßÿ≥ÿ™ÿÆÿØÿßŸÖ Google Docs ŸÑŸÑŸÉÿ™ÿßÿ®ÿ© ÿßŸÑŸÖÿ¥ÿ™ÿ±ŸÉÿ©.", "Ÿäÿ¨ÿ® ÿ£ŸÜ Ÿäÿ∏Ÿáÿ± ÿ≥ÿ¨ŸÑ ÿßŸÑÿ™ÿ≠ÿ±Ÿäÿ± ŸÖÿ≥ÿßŸáŸÖÿ© ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ÿπÿ∂ÿßÿ°."],
                        evaluation: [{ item: "ÿßŸÑŸÅŸáŸÖ ÿßŸÑÿµÿ≠Ÿäÿ≠ ŸÑŸÑŸÖÿπÿßŸäŸäÿ±", points: 4 }, { item: "ÿßŸÑÿ™ŸÜÿßÿ≥ŸÇ ÿ®ŸäŸÜ ÿßŸÑÿ£ÿ¨ÿ≤ÿßÿ°", points: 3 }, { item: "ŸÖÿ≥ÿßŸáŸÖÿ© ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ÿπÿ∂ÿßÿ°", points: 2 }, { item: "ÿßŸÑŸàÿ∂Ÿàÿ≠ ŸàÿßŸÑÿµŸäÿßÿ∫ÿ©", points: 1 }],
                        tips: ["ÿßÿ¨ÿ™ŸÖÿπŸàÿß ŸÑÿ™Ÿàÿ≤Ÿäÿπ ÿßŸÑŸÖŸáÿßŸÖ ÿ£ŸàŸÑÿßŸã.", "ÿ±ÿßÿ¨ÿπŸàÿß ÿπŸÖŸÑ ÿ®ÿπÿ∂ŸÉŸÖ ÿßŸÑÿ®ÿπÿ∂ ŸÑÿ∂ŸÖÿßŸÜ ÿßŸÑÿ™ŸÜÿßÿ≥ŸÇ."]
                    }},
                    { name: 'ŸÖŸÉÿ™ÿ®ÿ© ÿ£ŸÖÿ´ŸÑÿ© ÿ¨ŸÖÿßÿπŸäÿ©', points: 20, icon: 'search', details: {
                        description: "ŸÉŸÅÿ±ŸäŸÇÿå ÿßÿ¨ŸÖÿπŸàÿß 10 ÿ£ŸÖÿ´ŸÑÿ© ŸàÿßŸÇÿπŸäÿ© (ŸÖÿ´ÿßŸÑŸäŸÜ ŸÑŸÉŸÑ ÿπÿ∂Ÿà ÿ™ŸÇÿ±Ÿäÿ®ÿßŸã).",
                        requirements: ["10 ÿ£ŸÖÿ´ŸÑÿ© ŸÖŸàÿ´ŸÇÿ©.", "ŸÉŸÑ ÿπÿ∂Ÿà ŸÖÿ≥ÿ§ŸàŸÑ ÿπŸÜ ŸÖÿ´ÿßŸÑŸäŸÜ ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ.", "ÿ™ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ŸÖÿ´ŸÑÿ© ŸÅŸä Google Doc Ÿàÿßÿ≠ÿØ."],
                        evaluation: [{ item: "ÿ£ÿµÿßŸÑÿ© ÿßŸÑÿ£ŸÖÿ´ŸÑÿ©", points: 8 }, { item: "ÿßŸÑŸÖŸÜÿßÿ≥ÿ®ÿ© ŸÑŸÑŸÇÿ∂ÿßŸäÿß", points: 6 }, { item: "ÿßŸÑÿ™Ÿàÿ´ŸäŸÇ ÿßŸÑÿØŸÇŸäŸÇ", points: 4 }, { item: "ÿßŸÑÿ™ŸÜŸàÿπ ŸÅŸä ÿßŸÑŸÖÿµÿßÿØÿ±", points: 2 }],
                        tips: ["Ÿàÿ≤ÿπŸàÿß ÿßŸÑŸÇÿ∂ÿßŸäÿß ÿßŸÑÿÆŸÖÿ≥ ÿπŸÑŸâ ÿ£ÿπÿ∂ÿßÿ° ÿßŸÑŸÅÿ±ŸäŸÇ ŸÑÿ™ÿ¨ŸÜÿ® ÿßŸÑÿ™ŸÉÿ±ÿßÿ±.", "ŸÜÿßŸÇÿ¥Ÿàÿß ÿßŸÑÿ£ŸÖÿ´ŸÑÿ© ŸÖÿπÿßŸã ŸÑÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑÿ£ŸÇŸàŸâ."]
                    }},
                    { name: 'ÿ™ÿ≠ŸÑŸäŸÑÿßÿ™ ÿ¨ŸÖÿßÿπŸäÿ©', points: 30, icon: 'analytics', highlight: true, details: {
                        description: "ÿßÿÆÿ™ÿßÿ±Ÿàÿß 6 ÿ£ŸÖÿ´ŸÑÿ© ŸÖŸÜ ÿßŸÑŸÖŸáŸÖÿ© ÿßŸÑÿ´ÿßŸÜŸäÿ© Ÿàÿ≠ŸÑŸÑŸàŸáÿß ŸÅŸä ÿπÿ±ÿ∂ ÿ™ŸÇÿØŸäŸÖŸä ÿ¨ŸÖÿßÿπŸä (Google Slides).",
                        requirements: ["ÿπÿ±ÿ∂ ÿ™ŸÇÿØŸäŸÖŸä ŸÖŸÜ 9 ÿ¥ÿ±ÿßÿ¶ÿ≠ ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ.", "ŸÉŸÑ ÿπÿ∂Ÿà ŸÖÿ≥ÿ§ŸàŸÑ ÿπŸÜ ÿ™ÿ≠ŸÑŸäŸÑ ŸÖÿ´ÿßŸÑ Ÿàÿßÿ≠ÿØ ÿπŸÑŸâ ÿßŸÑÿ£ŸÇŸÑ.", "ÿ™ÿµŸÖŸäŸÖ ŸÖŸàÿ≠ÿØ Ÿàÿ¨ÿ∞ÿßÿ® ŸÑŸÑÿπÿ±ÿ∂."],
                        evaluation: [{ item: "ÿπŸÖŸÇ ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑÿßÿ™", points: 12 }, { item: "ÿßŸÑÿ™ŸÜÿßÿ≥ŸÇ ŸàÿßŸÑÿ™ŸÉÿßŸÖŸÑ", points: 9 }, { item: "ÿ¨ŸàÿØÿ© ÿßŸÑÿ™ÿµŸÖŸäŸÖ", points: 6 }, { item: "ÿßŸÑŸÖÿ¥ÿßÿ±ŸÉÿ© ÿßŸÑŸÖÿ™Ÿàÿßÿ≤ŸÜÿ©", points: 3 }],
                        tips: ["ÿßÿ®ÿØÿ£Ÿàÿß ÿ®ÿ™ÿµŸÖŸäŸÖ ŸÇÿßŸÑÿ® ŸÖŸàÿ≠ÿØ ŸÇÿ®ŸÑ ÿ£ŸÜ Ÿäÿ®ÿØÿ£ ŸÉŸÑ ÿπÿ∂Ÿà ÿ®ÿßŸÑÿπŸÖŸÑ ÿπŸÑŸâ ÿ¥ÿ±Ÿäÿ≠ÿ™Ÿá.", "ÿ™ÿØÿ±ÿ®Ÿàÿß ÿπŸÑŸâ ÿßŸÑÿπÿ±ÿ∂ ŸÖÿπÿßŸã."]
                    }},
                    { name: 'ŸÖÿ±ÿßÿ¨ÿπÿ© ÿ¨ŸÖÿßÿπŸäÿ©', points: 15, icon: 'create', details: {
                        description: "ŸÖÿ±ÿßÿ¨ÿπÿ© ÿ¨ŸÖÿßÿπŸäÿ© ŸÑÿ¨ŸÖŸäÿπ ÿßŸÑŸÖŸáÿßŸÖ ÿßŸÑÿ≥ÿßÿ®ŸÇÿ© ŸàŸÉÿ™ÿßÿ®ÿ© ÿ™ŸÇÿ±Ÿäÿ± ŸäŸàÿ∂ÿ≠ ÿßŸÑÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™.",
                        requirements: ["ÿπŸÇÿØ ÿßÿ¨ÿ™ŸÖÿßÿπ ŸÖÿ±ÿßÿ¨ÿπÿ© ÿ¥ÿßŸÖŸÑ.", "ÿ™ŸÜŸÅŸäÿ∞ ÿßŸÑÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ ÿßŸÑŸÖÿ™ŸÅŸÇ ÿπŸÑŸäŸáÿß.", "ŸÉÿ™ÿßÿ®ÿ© ÿ™ŸÇÿ±Ÿäÿ± ŸÖÿ±ÿßÿ¨ÿπÿ© ÿ¨ŸÖÿßÿπŸä (200-250 ŸÉŸÑŸÖÿ©)."],
                        evaluation: [{ item: "ÿ¨ŸàÿØÿ© ÿßŸÑÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™", points: 10 }, { item: "ÿ™ŸÇÿ±Ÿäÿ± ÿßŸÑŸÖÿ±ÿßÿ¨ÿπÿ©", points: 5 }],
                        tips: ["ŸÉŸàŸÜŸàÿß ÿµÿ±Ÿäÿ≠ŸäŸÜ ŸÅŸä ŸÜŸÇÿØŸÉŸÖ ÿßŸÑÿ®ŸÜÿßÿ° ŸÑÿπŸÖŸÑ ÿ®ÿπÿ∂ŸÉŸÖ ÿßŸÑÿ®ÿπÿ∂.", "Ÿàÿ´ŸÇŸàÿß ŸÉŸÑ ÿßŸÑÿ™ÿ∫ŸäŸäÿ±ÿßÿ™ ŸÅŸä ÿßŸÑÿ™ŸÇÿ±Ÿäÿ±."]
                    }},
                    { name: 'ÿßŸÑÿπÿ±ÿ∂ ÿßŸÑÿ™ŸÇÿØŸäŸÖŸä ÿßŸÑŸÜŸáÿßÿ¶Ÿä', points: 20, icon: 'easel', details: {
                        description: "ÿ™ÿ¨ŸÖŸäÿπ ŸÉŸÑ ÿ£ÿπŸÖÿßŸÑ ÿßŸÑŸÅÿ±ŸäŸÇ ŸÅŸä ÿπÿ±ÿ∂ Google Slides ŸÜŸáÿßÿ¶Ÿä Ÿàÿ¥ÿßŸÖŸÑ (15-20 ÿ¥ÿ±Ÿäÿ≠ÿ©).",
                        requirements: ["ÿπÿ±ÿ∂ ÿ™ŸÇÿØŸäŸÖŸä ÿ¥ÿßŸÖŸÑ Ÿäÿ¨ŸÖÿπ ŸÉŸÑ ÿßŸÑŸÖŸáÿßŸÖ.", "Ÿäÿ≠ÿ™ŸàŸä ÿπŸÑŸâ ÿ¨ŸÖŸäÿπ ÿßŸÑÿ£ŸÇÿ≥ÿßŸÖ ŸÖŸÜ ÿßŸÑÿ∫ŸÑÿßŸÅ ÿ•ŸÑŸâ ÿßŸÑŸÖÿ±ÿßÿ¨ÿπ.", "ÿßŸÑŸÖŸàÿπÿØ ÿßŸÑŸÜŸáÿßÿ¶Ÿä: ŸäŸàŸÖ 21ÿå 11:59 ŸÖ."],
                        evaluation: [{ item: "ÿßŸÑÿßŸÉÿ™ŸÖÿßŸÑ ŸàÿßŸÑÿ¥ŸÖŸàŸÑŸäÿ©", points: 6 }, { item: "ÿßŸÑÿ™ŸÜÿ≥ŸäŸÇ ŸàÿßŸÑÿßÿ≠ÿ™ÿ±ÿßŸÅŸäÿ©", points: 6 }, { item: "ÿßŸÑÿ¨ŸàÿØÿ© ÿßŸÑÿ•ÿ¨ŸÖÿßŸÑŸäÿ©", points: 6 }, { item: "ÿßŸÑÿ•ÿ®ÿØÿßÿπ ŸàÿßŸÑÿ™ŸÖŸäÿ≤", points: 2 }],
                        tips: ["ÿÆÿµÿµŸàÿß ÿßŸÑÿ£ÿØŸàÿßÿ±: ÿ¥ÿÆÿµ ŸÑŸÑÿ™ÿµŸÖŸäŸÖÿå ÿ¥ÿÆÿµ ŸÑŸÑÿ™ÿØŸÇŸäŸÇ ÿßŸÑŸÑÿ∫ŸàŸäÿå ÿ•ŸÑÿÆ.", "ÿ™ÿ£ŸÉÿØŸàÿß ŸÖŸÜ ÿ£ŸÜ ÿßŸÑÿπÿ±ÿ∂ Ÿäÿ≠ŸÉŸä ŸÇÿµÿ© ŸÖÿ™ŸÉÿßŸÖŸÑÿ©."]
                    }},
                    { name: 'ŸÜŸÇÿßÿ∑ ÿ•ÿ∂ÿßŸÅŸäÿ©', points: 5, icon: 'sparkles' }
                ],
                evaluation: [
                    { criteria: 'ÿßŸÑÿ™ŸÉÿßŸÖŸÑ ŸàÿßŸÑÿ™ŸÜÿßÿ≥ŸÇ ÿ®ŸäŸÜ ÿßŸÑÿ£ÿπÿ∂ÿßÿ°', percentage: 30, color: 'purple' },
                    { criteria: 'ÿ¨ŸàÿØÿ© ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ ŸàÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ', percentage: 30, color: 'blue' },
                    { criteria: 'ÿßŸÑŸÖÿ¥ÿßÿ±ŸÉÿ© ÿßŸÑŸÖÿ™Ÿàÿßÿ≤ŸÜÿ© ŸÖŸÜ ÿßŸÑÿ¨ŸÖŸäÿπ', percentage: 20, color: 'green' },
                    { criteria: 'ÿßŸÑÿ•ÿ®ÿØÿßÿπ ŸàÿßŸÑÿßÿ®ÿ™ŸÉÿßÿ± ŸàÿßŸÑÿ™ŸÖŸäÿ≤', percentage: 20, color: 'amber' }
                ],
                goldenRule: 'ŸÖŸàÿπÿØ ŸÜŸáÿßÿ¶Ÿä Ÿàÿßÿ≠ÿØ ŸÅŸÇÿ∑ ŸÑŸÑŸÅÿ±ŸäŸÇ ŸÅŸä ŸÜŸáÿßŸäÿ© ÿßŸÑŸäŸàŸÖ 21. ŸÑÿØŸäŸÉŸÖ ÿßŸÑÿ≠ÿ±Ÿäÿ© ÿßŸÑŸÉÿßŸÖŸÑÿ© ŸÑÿ™ŸÜÿ∏ŸäŸÖ ÿπŸÖŸÑŸÉŸÖ ŸÉŸÖÿß ÿ™ÿ¥ÿßÿ§ŸàŸÜ. ŸÜÿ¨ÿßÿ≠ŸÉŸÖ ÿ¨ŸÖÿßÿπŸä!',
                goldenTips: [
                    { tip: 'ÿßÿ¨ÿ™ŸÖÿπŸàÿß ŸÅŸä ÿßŸÑŸäŸàŸÖ ÿßŸÑÿ£ŸàŸÑ ŸÑÿ™Ÿàÿ≤Ÿäÿπ ÿßŸÑÿ£ÿØŸàÿßÿ± ÿ®Ÿàÿ∂Ÿàÿ≠', icon: 'people-outline' },
                    { tip: 'ÿßÿ≥ÿ™ÿÆÿØŸÖŸàÿß Google Docs/Slides ŸÑŸÑÿπŸÖŸÑ ÿßŸÑŸÖÿ¥ÿ™ÿ±ŸÉ ŸÅŸä ÿßŸÑŸàŸÇÿ™ ÿßŸÑŸÅÿπŸÑŸä', icon: 'logo-google' },
                    { tip: 'ÿÆÿµÿµŸàÿß ŸàŸÇÿ™ÿßŸã ÿ£ÿ≥ÿ®ŸàÿπŸäÿßŸã ŸÑŸÖÿ±ÿßÿ¨ÿπÿ© ÿ™ŸÇÿØŸÖ ÿßŸÑŸÅÿ±ŸäŸÇ', icon: 'chatbubbles-outline' },
                    { tip: 'ŸÉŸàŸÜŸàÿß ÿµÿ±Ÿäÿ≠ŸäŸÜ ŸÅŸä ÿ™Ÿàÿ≤Ÿäÿπ ÿßŸÑŸÖŸáÿßŸÖ ŸàÿßŸÑŸÖÿ≥ÿ§ŸàŸÑŸäÿßÿ™', icon: 'checkmark-done-outline' },
                    { tip: 'ÿßÿ≠ÿ™ŸÅŸÑŸàÿß ÿ®ÿ•ŸÜÿ¨ÿßÿ≤ÿßÿ™ŸÉŸÖ ÿßŸÑÿ¨ŸÖÿßÿπŸäÿ© ŸÑÿ™ÿπÿ≤Ÿäÿ≤ ÿ±Ÿàÿ≠ ÿßŸÑŸÅÿ±ŸäŸÇ', icon: 'trophy-outline' }
                ],
                support: [
                     { channel: 'ÿßŸÑÿ™ŸàÿßÿµŸÑ ÿßŸÑŸÖÿ™ÿ≤ÿßŸÖŸÜ', details: 'ŸÉŸÑ ÿ£ÿ±ÿ®ÿπÿßÿ° 7-8 ŸÖÿ≥ÿßÿ°Ÿã', icon: 'videocam' },
                    { channel: 'ÿ£ÿØŸàÿßÿ™ ÿ™ÿπÿßŸàŸÜ (Google)', details: 'Docs, Slides, Sheets', icon: 'logo-google' },
                    { channel: 'ŸÇÿ≥ŸÖ ÿßŸÑÿ£ÿ≥ÿ¶ŸÑÿ© ÿßŸÑÿ¥ÿßÿ¶ÿπÿ© (FAQs)', details: 'ŸäŸèÿ≠ÿØŸéŸëÿ´ ÿ£ÿ≥ÿ®ŸàÿπŸäÿßŸã', icon: 'help-circle' },
                    { channel: 'ÿßŸÑÿ™ŸàÿßÿµŸÑ ÿßŸÑÿ∫Ÿäÿ± ŸÖÿ™ÿ≤ÿßŸÖŸÜ', details: 'ŸÑŸÑÿ™ŸàÿßÿµŸÑ ÿ®ŸäŸÜ ÿßŸÑŸÅÿ±ŸÇ', icon: 'chatbubbles' }
                ]
            },
            'collaborative-fixed': {
                title: 'ŸÅÿ±ŸÇ ÿ≠ÿ¥ÿØ ÿßŸÑŸÖÿµÿßÿØÿ± ÿßŸÑŸÖŸèŸÜÿ∏ŸéŸëŸÖÿ©',
                 timeline: {
                    duration: 21,
                    points: [
                        { day: 4, label: 'ÿßŸÑŸÖŸáŸÖÿ© 1: ÿßŸÑŸÖŸÑÿÆÿµ ÿßŸÑÿ¨ŸÖÿßÿπŸä', icon: 'reader' },
                        { day: 9, label: 'ÿßŸÑŸÖŸáŸÖÿ© 2: ŸÖŸÉÿ™ÿ®ÿ© ÿßŸÑÿ£ŸÖÿ´ŸÑÿ©', icon: 'search' },
                        { day: 15, label: 'ÿßŸÑŸÖŸáŸÖÿ© 3: ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑÿßÿ™ ÿßŸÑÿ¨ŸÖÿßÿπŸäÿ©', icon: 'analytics' },
                        { day: 18, label: 'ÿßŸÑŸÖŸáŸÖÿ© 4: ÿßŸÑŸÖÿ±ÿßÿ¨ÿπÿ© ÿßŸÑÿ¨ŸÖÿßÿπŸäÿ©', icon: 'create' },
                        { day: 21, label: 'ÿßŸÑŸÖŸáŸÖÿ© 5: ÿßŸÑÿπÿ±ÿ∂ ÿßŸÑŸÜŸáÿßÿ¶Ÿä', icon: 'easel' }
                    ]
                },
                tasks: [
                     { name: 'ŸÖŸÑÿÆÿµ ÿ¨ŸÖÿßÿπŸä ŸÑŸÑŸÖÿπÿßŸäŸäÿ±', points: 10, icon: 'reader', details: {
                        description: "ŸÉŸÅÿ±ŸäŸÇÿå ÿßŸÉÿ™ÿ®Ÿàÿß ŸÖŸÑÿÆÿµÿßŸã ŸÑŸÑŸÖÿπÿßŸäŸäÿ±. ŸÑÿØŸäŸÉŸÖ 4 ÿ£ŸäÿßŸÖ.",
                        requirements: ["ÿ™Ÿàÿ≤Ÿäÿπ ÿ≥ÿ±Ÿäÿπ ŸÑŸÑŸÖŸáÿßŸÖ.", "ŸÖŸàÿπÿØ ÿßŸÑÿ™ÿ≥ŸÑŸäŸÖ ÿßŸÑÿØÿßÿÆŸÑŸä: ŸäŸàŸÖ 4ÿå 6 ŸÖÿ≥ÿßÿ°Ÿã.", "ÿßŸÑŸÖŸàÿπÿØ ÿßŸÑÿ±ÿ≥ŸÖŸä: ŸäŸàŸÖ 4ÿå 11:59 ŸÖ."],
                        evaluation: [{ item: "ÿßŸÑŸÅŸáŸÖ ŸàÿßŸÑÿ¨ŸàÿØÿ©", points: 6 }, { item: "ÿßŸÑÿ™ŸÜÿßÿ≥ŸÇ", points: 2 }, { item: "ÿßŸÑÿßŸÑÿ™ÿ≤ÿßŸÖ ÿ®ÿßŸÑŸÖŸàÿπÿØ", points: 2 }],
                        tips: ["ÿßÿ¨ÿ™ŸÖÿπŸàÿß ŸÅŸä ÿßŸÑŸäŸàŸÖ ÿßŸÑÿ£ŸàŸÑ ŸÅŸàÿ±ÿßŸã ŸÑÿ™Ÿàÿ≤Ÿäÿπ ÿßŸÑŸÖŸáÿßŸÖ.", "ÿßÿ≥ÿ™ÿÆÿØŸÖŸàÿß ŸÖÿ¨ŸÖŸàÿπÿ© WhatsApp ŸÑŸÑÿ™ŸÜÿ≥ŸäŸÇ ÿßŸÑÿ≥ÿ±Ÿäÿπ."]
                    }},
                    { name: 'ŸÖŸÉÿ™ÿ®ÿ© ÿ£ŸÖÿ´ŸÑÿ© ÿ¨ŸÖÿßÿπŸäÿ©', points: 20, icon: 'search', details: {
                        description: "ÿ¨ŸÖÿπ 10 ÿ£ŸÖÿ´ŸÑÿ© ŸàÿßŸÇÿπŸäÿ© ŸÉŸÅÿ±ŸäŸÇ. ŸÑÿØŸäŸÉŸÖ 5 ÿ£ŸäÿßŸÖ.",
                        requirements: ["10 ÿ£ŸÖÿ´ŸÑÿ© ŸÖŸàÿ´ŸÇÿ©.", "ÿßŸÑŸÖŸàÿπÿØ ÿßŸÑŸÜŸáÿßÿ¶Ÿä: ŸäŸàŸÖ 9ÿå 11:59 ŸÖ."],
                        evaluation: [{ item: "ÿßŸÑÿ£ÿµÿßŸÑÿ© ŸàÿßŸÑŸÖŸÜÿßÿ≥ÿ®ÿ©", points: 14 }, { item: "ÿßŸÑÿ™Ÿàÿ´ŸäŸÇ", points: 4 }, { item: "ÿßŸÑÿßŸÑÿ™ÿ≤ÿßŸÖ ÿ®ÿßŸÑŸÖŸàÿπÿØ", points: 2 }],
                        tips: ["ÿ≠ÿØÿØŸàÿß ŸÖŸàÿπÿØÿßŸã ÿØÿßÿÆŸÑŸäÿßŸã ŸÑŸÑÿ™ÿ¨ŸÖŸäÿπ ŸÇÿ®ŸÑ ÿßŸÑŸÖŸàÿπÿØ ÿßŸÑÿ±ÿ≥ŸÖŸä ÿ®ŸäŸàŸÖ."]
                    }},
                    { name: 'ÿ™ÿ≠ŸÑŸäŸÑÿßÿ™ ÿ¨ŸÖÿßÿπŸäÿ©', points: 30, icon: 'analytics', highlight: true, details: {
                        description: "ÿ™ÿ≠ŸÑŸäŸÑ 6 ÿ£ŸÖÿ´ŸÑÿ© ŸÅŸä ÿπÿ±ÿ∂ ÿ™ŸÇÿØŸäŸÖŸä. Ÿáÿ∞Ÿá ÿßŸÑŸÖŸáŸÖÿ© ÿßŸÑÿ£ŸáŸÖ ŸàŸÑŸáÿß 6 ÿ£ŸäÿßŸÖ.",
                        requirements: ["ÿπÿ±ÿ∂ ÿ™ŸÇÿØŸäŸÖŸä ŸÖÿ™ŸÉÿßŸÖŸÑ.", "ÿßŸÑŸÖŸàÿπÿØ ÿßŸÑŸÜŸáÿßÿ¶Ÿä: ŸäŸàŸÖ 15ÿå 11:59 ŸÖ."],
                        evaluation: [{ item: "ÿπŸÖŸÇ ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑ", points: 18 }, { item: "ÿßŸÑÿ™ŸÜÿßÿ≥ŸÇ", points: 6 }, { item: "ÿßŸÑÿ™ÿµŸÖŸäŸÖ", points: 3 }, { item: "ÿßŸÑÿßŸÑÿ™ÿ≤ÿßŸÖ ÿ®ÿßŸÑŸÖŸàÿπÿØ", points: 3 }],
                        tips: ["ÿßÿ®ÿØÿ£Ÿàÿß ŸÅŸä ÿ™ÿµŸÖŸäŸÖ ÿßŸÑŸÇÿßŸÑÿ® ÿßŸÑŸÖŸàÿ≠ÿØ ŸÖŸÜ ÿßŸÑŸäŸàŸÖ ÿßŸÑÿ£ŸàŸÑ ŸÑŸáÿ∞Ÿá ÿßŸÑŸÖŸáŸÖÿ©.", "ÿπŸÇÿØŸàÿß ÿßÿ¨ÿ™ŸÖÿßÿπ ŸÖÿ±ÿßÿ¨ÿπÿ© ŸÅŸä ŸÖŸÜÿ™ÿµŸÅ ÿßŸÑŸÖÿØÿ©."]
                    }},
                    { name: 'ŸÖÿ±ÿßÿ¨ÿπÿ© ÿ¨ŸÖÿßÿπŸäÿ©', points: 15, icon: 'create', details: {
                        description: "ŸÖÿ±ÿßÿ¨ÿπÿ© ÿ≥ÿ±Ÿäÿπÿ© ŸÑŸÑŸÖŸáÿßŸÖ ÿßŸÑÿ≥ÿßÿ®ŸÇÿ© Ÿàÿ™ÿ≠ÿ≥ŸäŸÜŸáÿß ŸÅŸä 3 ÿ£ŸäÿßŸÖ.",
                        requirements: ["ÿ™ŸÜŸÅŸäÿ∞ ÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™ Ÿàÿßÿ∂ÿ≠ÿ©.", "ŸÉÿ™ÿßÿ®ÿ© ÿ™ŸÇÿ±Ÿäÿ± ŸÖÿ±ÿßÿ¨ÿπÿ©.", "ÿßŸÑŸÖŸàÿπÿØ ÿßŸÑŸÜŸáÿßÿ¶Ÿä: ŸäŸàŸÖ 18ÿå 11:59 ŸÖ."],
                        evaluation: [{ item: "ÿ¨ŸàÿØÿ© ÿßŸÑÿ™ÿ≠ÿ≥ŸäŸÜÿßÿ™", points: 11 }, { item: "ÿßŸÑÿ™ŸÇÿ±Ÿäÿ±", points: 2 }, { item: "ÿßŸÑÿßŸÑÿ™ÿ≤ÿßŸÖ ÿ®ÿßŸÑŸÖŸàÿπÿØ", points: 2 }],
                        tips: ["ÿ±ŸÉÿ≤Ÿàÿß ÿπŸÑŸâ ÿßŸÑŸÖŸáŸÖÿ© ÿßŸÑÿ™Ÿä ÿ≠ÿµŸÑÿ™ ÿπŸÑŸâ ÿ£ŸÇŸÑ ÿØÿ±ÿ¨ÿ© ŸÑÿ™ÿ≠ÿ≥ŸäŸÜŸáÿß."]
                    }},
                    { name: 'ÿßŸÑÿπÿ±ÿ∂ ÿßŸÑÿ™ŸÇÿØŸäŸÖŸä ÿßŸÑŸÜŸáÿßÿ¶Ÿä', points: 20, icon: 'easel', details: {
                        description: "ÿ™ÿ¨ŸÖŸäÿπ ÿßŸÑÿπÿ±ÿ∂ ÿßŸÑŸÜŸáÿßÿ¶Ÿä ŸÅŸä 3 ÿ£ŸäÿßŸÖ. ÿßŸÑŸÖŸáŸÖÿ© ÿßŸÑÿ£ÿÆŸäÿ±ÿ©!",
                        requirements: ["ÿπÿ±ÿ∂ ÿ¥ÿßŸÖŸÑ ŸàŸÖŸÜÿ≥ŸÇ.", "ÿßŸÑŸÖŸàÿπÿØ ÿßŸÑŸÜŸáÿßÿ¶Ÿä: ŸäŸàŸÖ 21ÿå 11:59 ŸÖ."],
                        evaluation: [{ item: "ÿßŸÑÿßŸÉÿ™ŸÖÿßŸÑ", points: 6 }, { item: "ÿßŸÑÿ™ŸÜÿ≥ŸäŸÇ", points: 6 }, { item: "ÿßŸÑÿ¨ŸàÿØÿ©", points: 5 }, { item: "ÿßŸÑÿßŸÑÿ™ÿ≤ÿßŸÖ ÿ®ÿßŸÑŸÖŸàÿπÿØ", points: 3 }],
                        tips: ["ŸÑÿß ÿ™ŸÜÿ™ÿ∏ÿ±Ÿàÿß ŸÑÿ¢ÿÆÿ± ŸäŸàŸÖ!", "ÿ≥ŸÑŸÖŸàÿß ŸÇÿ®ŸÑ ÿßŸÑŸÖŸàÿπÿØ ÿßŸÑÿ±ÿ≥ŸÖŸä ÿ®ÿ≥ÿßÿπÿßÿ™ ŸÑÿ™ÿ¨ŸÜÿ® ÿ£Ÿä ŸÖÿ¥ÿßŸÉŸÑ ÿ™ŸÇŸÜŸäÿ©."]
                    }},
                    { name: 'ŸÜŸÇÿßÿ∑ ÿ•ÿ∂ÿßŸÅŸäÿ©', points: 5, icon: 'sparkles' }
                ],
                evaluation: [
                    { criteria: 'ÿ¨ŸàÿØÿ© ÿßŸÑÿπŸÖŸÑ ÿßŸÑÿ¨ŸÖÿßÿπŸä', percentage: 35, color: 'purple' },
                    { criteria: 'ÿßŸÑÿßŸÑÿ™ÿ≤ÿßŸÖ ÿ®ÿßŸÑŸÖŸàÿßÿπŸäÿØ ÿßŸÑŸÜŸáÿßÿ¶Ÿäÿ©', percentage: 30, color: 'red' },
                    { criteria: 'ÿßŸÑÿ™ŸÜÿßÿ≥ŸÇ ŸàÿßŸÑÿ™ŸÉÿßŸÖŸÑ ÿ®ŸäŸÜ ÿßŸÑÿ£ÿπÿ∂ÿßÿ°', percentage: 20, color: 'green' },
                    { criteria: 'ÿßŸÑŸÖÿ¥ÿßÿ±ŸÉÿ© ÿßŸÑŸÖÿ™Ÿàÿßÿ≤ŸÜÿ©', percentage: 15, color: 'amber' }
                ],
                goldenRule: '5 ŸÖŸàÿßÿπŸäÿØ ŸÜŸáÿßÿ¶Ÿäÿ© ÿµÿßÿ±ŸÖÿ© ŸÑŸÑŸÅÿ±ŸäŸÇ. ÿ™ÿ£ÿÆŸäÿ± ŸÅÿ±ÿØ Ÿàÿßÿ≠ÿØ Ÿäÿ§ÿ´ÿ± ÿπŸÑŸâ ÿßŸÑŸÅÿ±ŸäŸÇ ÿ®ÿ£ŸÉŸÖŸÑŸá. ÿßŸÑÿ™ÿπÿßŸàŸÜ ŸàÿßŸÑÿßŸÜÿ∂ÿ®ÿßÿ∑ ŸàÿßŸÑÿ≥ÿ±ÿπÿ© ŸáŸÖ ŸÖŸÅÿ™ÿßÿ≠ ÿßŸÑŸÜÿ¨ÿßÿ≠!',
                goldenTips: [
                    { tip: 'ÿßÿ¨ÿ™ŸÖÿπŸàÿß ŸÅŸàÿ±ÿßŸã ŸÅŸä ÿßŸÑŸäŸàŸÖ ÿßŸÑÿ£ŸàŸÑ ŸÑÿ™Ÿàÿ≤Ÿäÿπ ÿßŸÑŸÖŸáÿßŸÖ ÿØŸàŸÜ ÿ™ÿ£ÿÆŸäÿ±', icon: 'flash-outline' },
                    { tip: 'ÿ≠ÿØÿØŸàÿß ŸÖŸàÿßÿπŸäÿØ ÿØÿßÿÆŸÑŸäÿ© ŸÑŸÑŸÅÿ±ŸäŸÇ ŸÇÿ®ŸÑ ÿßŸÑŸÖŸàÿßÿπŸäÿØ ÿßŸÑÿ±ÿ≥ŸÖŸäÿ©', icon: 'time-outline' },
                    { tip: 'ÿßÿ≥ÿ™ÿÆÿØŸÖŸàÿß ŸÖÿ¨ŸÖŸàÿπÿ© WhatsApp ŸÑŸÑÿ™ŸàÿßÿµŸÑ ÿßŸÑÿ≥ÿ±Ÿäÿπ', icon: 'chatbubble-ellipses-outline' },
                    { tip: 'ÿ™ÿ£ŸÉÿØŸàÿß ŸÖŸÜ ÿ£ŸÜ ŸÉŸÑ ÿπÿ∂Ÿà Ÿäÿπÿ±ŸÅ ŸÖŸàÿπÿØ ÿ™ÿ≥ŸÑŸäŸÖŸá ÿ®ÿßŸÑÿ∂ÿ®ÿ∑', icon: 'notifications-outline' },
                    { tip: 'ŸÉŸàŸÜŸàÿß ŸÖÿ™ÿ≥ÿßŸÖÿ≠ŸäŸÜ ŸÑŸÉŸÜ ŸÖŸÜÿ∂ÿ®ÿ∑ŸäŸÜ ŸÖÿπ ÿ®ÿπÿ∂ŸÉŸÖ ÿßŸÑÿ®ÿπÿ∂', icon: 'heart-outline' }
                ],
                support: [
                    { channel: 'ÿßŸÑÿ™ŸàÿßÿµŸÑ ÿßŸÑŸÖÿ™ÿ≤ÿßŸÖŸÜ', details: 'ŸÉŸÑ ÿ£ÿ±ÿ®ÿπÿßÿ° 7-8 ŸÖÿ≥ÿßÿ°Ÿã', icon: 'videocam' },
                    { channel: 'ŸÜŸÖÿßÿ∞ÿ¨ ÿ≥ÿ±Ÿäÿπÿ© ŸÑŸÑÿπŸÖŸÑ ÿßŸÑÿ¨ŸÖÿßÿπŸä', details: 'ŸÇŸàÿßŸÑÿ® ÿ¨ÿßŸáÿ≤ÿ© ŸÑŸÑÿßÿ≥ÿ™ÿÆÿØÿßŸÖ', icon: 'folder-open' },
                    { channel: 'FAQs ŸÖÿ≠ÿØÿ´ÿ© ÿ£ÿ≥ÿ®ŸàÿπŸäÿßŸã', details: 'ÿ•ÿ¨ÿßÿ®ÿßÿ™ ÿ≥ÿ±Ÿäÿπÿ© ŸàŸÖÿ±ŸÉÿ≤ÿ©', icon: 'help-circle' },
                    { channel: 'ÿßŸÑÿ™ŸàÿßÿµŸÑ ÿßŸÑÿ∫Ÿäÿ± ŸÖÿ™ÿ≤ÿßŸÖŸÜ', details: 'ÿ±ÿØ ÿ≥ÿ±Ÿäÿπ ÿÆŸÑÿßŸÑ 12 ÿ≥ÿßÿπÿ©', icon: 'chatbubbles' }
                ]
            }
        };

        // ===== Objectives Data =====
        const objectivesData = [
            {
                icon: 'search',
                color: 'blue',
                title: 'ÿßŸÑÿ™ŸÅÿ≥Ÿäÿ±',
                description: 'ÿ™ŸÅÿ≥ÿ± ŸÖŸÅŸáŸàŸÖ ÿßŸÑÿ£ÿÆŸÑÿßŸÇ ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇŸäÿ© ŸàÿßŸÑÿ®ŸäŸàÿ™ŸäŸÇŸäÿ©.'
            },
            {
                icon: 'git-branch',
                color: 'green',
                title: 'ÿßŸÑÿ™ŸÖŸäŸäÿ≤',
                description: 'ÿ™ŸÖŸäÿ≤ ÿ®ŸäŸÜ ŸÖÿ¨ÿßŸÑÿßÿ™ ÿßŸÑÿ£ÿÆŸÑÿßŸÇ ÿßŸÑÿ®ŸäŸàÿ∑ÿ®Ÿäÿ©.'
            },
            {
                icon: 'bulb',
                color: 'yellow',
                title: 'ÿßŸÑÿ™ÿØŸÑŸäŸÑ',
                description: 'ÿ™ÿØŸÑŸÑ ÿπŸÑŸä ÿßŸÑŸÇÿ∂ÿßŸäÿß ÿßŸÑŸÅŸÑÿ≥ŸÅŸäÿ© ŸàÿßŸÑÿ£ÿÆŸÑÿßŸÇŸäÿ© ÿßŸÑŸÜÿßÿ¨ŸÖÿ© ÿπŸÜ ÿßŸÑÿ´Ÿàÿ±ÿ© ÿßŸÑÿ®ŸäŸàŸÑŸàÿ¨Ÿäÿ© ŸÅŸä ŸÖÿ¨ÿßŸÑ ÿßŸÑÿ∑ÿ®.'
            },
            {
                icon: 'construct',
                color: 'purple',
                title: 'ÿßŸÑÿ™ÿ∑ÿ®ŸäŸÇ',
                description: 'ÿ™ÿ∑ÿ®ŸÇ ÿ£ÿÆŸÑÿßŸÇŸäÿßÿ™ ÿßŸÑÿ®ÿ≠ÿ´ ÿßŸÑŸÖÿ™ÿπŸÑŸÇÿ© ÿ®ÿßŸÑŸàÿ±ÿßÿ´ÿ© ÿßŸÑÿ®ÿ¥ÿ±Ÿäÿ©.'
            },
            {
                icon: 'filter',
                color: 'red',
                title: 'ÿßŸÑÿßÿ≥ÿ™ÿÆŸÑÿßÿµ',
                description: 'ÿ™ÿ≥ÿ™ÿÆŸÑÿµ ŸÖÿπÿßŸäŸäÿ± ÿßŸÑÿ£ÿÆŸÑÿßŸÇŸäÿßÿ™ ÿßŸÑÿ∑ÿ®Ÿäÿ© ÿßŸÑÿ≠ÿØŸäÿ´ÿ©.'
            }
        ];

        /**
         * Renders the learning objectives cards dynamically
         */
        function renderObjectives() {
            const container = document.getElementById('objectivesContainer');
            if (!container) return;
            
            const html = objectivesData.map(obj => `
                <div class="option-card glass-card p-6 border-r-4 border-${obj.color}-500">
                    <div class="flex items-center mb-4">
                        <div class="w-12 h-12 rounded-full bg-gradient-to-br from-${obj.color}-400 to-${obj.color}-600 flex items-center justify-center ml-3">
                            <ion-icon name="${obj.icon}" class="text-white text-2xl"></ion-icon>
                        </div>
                        <h3 class="text-xl font-bold text-gray-800">${obj.title}</h3>
                    </div>
                    <p class="text-lg text-gray-700 leading-relaxed">${obj.description}</p>
                </div>
            `).join('');
            
            container.innerHTML = html;
        }

        // ===== Accessibility: Focus Trap Utility =====
        
        // Store the element that had focus before opening modal
        let lastFocusedElement = null;
        
        // Store active focus trap cleanup function
        let activeFocusTrap = null;
        
        /**
         * Gets all focusable elements within a container
         * @param {HTMLElement} container - The container element to search within
         * @returns {Array<HTMLElement>} Array of focusable elements
         */
        function getFocusableElements(container) {
            const focusableSelectors = [
                'a[href]',
                'button:not([disabled])',
                'textarea:not([disabled])',
                'input:not([disabled])',
                'select:not([disabled])',
                '[tabindex]:not([tabindex="-1"])'
            ].join(', ');
            
            return Array.from(container.querySelectorAll(focusableSelectors))
                .filter(el => {
                    // Filter out elements that are not visible
                    const style = window.getComputedStyle(el);
                    return style.display !== 'none' && 
                           style.visibility !== 'hidden' && 
                           !el.hasAttribute('aria-hidden');
                });
        }
        
        /**
         * Traps keyboard focus within a modal element
         * @param {HTMLElement} modalElement - The modal element to trap focus within
         * @returns {Function} Cleanup function to remove the focus trap
         */
        function trapFocus(modalElement) {
            if (!modalElement) return () => {};
            
            const focusableElements = getFocusableElements(modalElement);
            
            if (focusableElements.length === 0) {
                console.warn('No focusable elements found in modal');
                return () => {};
            }
            
            const firstElement = focusableElements[0];
            const lastElement = focusableElements[focusableElements.length - 1];
            
            // Focus the first element when modal opens
            setTimeout(() => {
                firstElement.focus();
            }, 100);
            
            /**
             * Handles Tab key navigation within the modal
             * @param {KeyboardEvent} e - The keyboard event
             */
            function handleTabKey(e) {
                if (e.key !== 'Tab') return;
                
                // If only one focusable element, keep focus on it
                if (focusableElements.length === 1) {
                    e.preventDefault();
                    firstElement.focus();
                    return;
                }
                
                // Check if focus is on the first element
                if (document.activeElement === firstElement && e.shiftKey) {
                    // Shift+Tab from first element: go to last
                    e.preventDefault();
                    lastElement.focus();
                } 
                // Check if focus is on the last element
                else if (document.activeElement === lastElement && !e.shiftKey) {
                    // Tab from last element: go to first
                    e.preventDefault();
                    firstElement.focus();
                }
            }
            
            // Add event listener
            modalElement.addEventListener('keydown', handleTabKey);
            
            // Return cleanup function
            return () => {
                modalElement.removeEventListener('keydown', handleTabKey);
            };
        }
        
        // --- Test Modal Logic ---
        function openTestModal() {
            const modal = document.getElementById('testModal');
            
            // Store the element that triggered the modal
            lastFocusedElement = document.activeElement;
            
            modal.classList.add('active');
            
            // Set up focus trap
            if (activeFocusTrap) {
                activeFocusTrap(); // Clean up any existing trap
            }
            activeFocusTrap = trapFocus(modal);
        }

        function closeTestModal() {
            const modal = document.getElementById('testModal');
            modal.classList.remove('active');
            
            // Clean up focus trap
            if (activeFocusTrap) {
                activeFocusTrap();
                activeFocusTrap = null;
            }
            
            // Restore focus to the element that opened the modal
            if (lastFocusedElement && typeof lastFocusedElement.focus === 'function') {
                setTimeout(() => {
                    lastFocusedElement.focus();
                }, 100);
            }
            lastFocusedElement = null;
        }

        // --- Login Logic ---
        async function fetchStudentData() {
            const loginFieldset = document.getElementById('loginFieldset');
            const loginStatus = document.getElementById('loginStatus');
            try {
                const response = await fetch('data-base.csv');
                 if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                const csvText = await response.text();
                // Basic CSV parsing
                const rows = csvText.trim().split('\n').slice(1); // Skip header and trim whitespace
                studentDatabase = rows.map(row => {
                    const columns = row.split(',');
                    if (columns.length < 4) return null; // Ensure row has enough columns
                    const [id, name, password, group] = columns;
                    return { 
                        id: id.trim(), 
                        name: name.trim(), 
                        password: password.trim(), 
                        group: group.trim() 
                    };
                }).filter(s => s && s.id && s.name && s.password && s.group); // Filter out invalid/empty rows

                loginFieldset.disabled = false;
                loginStatus.textContent = 'Ÿäÿ±ÿ¨Ÿâ ÿ•ÿØÿÆÿßŸÑ ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ŸàŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ±.';
                loginStatus.className = 'text-green-600 text-sm h-5';

                 // Hide loader
                document.getElementById('loader').style.opacity = '0';
                document.getElementById('loader').style.visibility = 'hidden';

            } catch (error) {
                console.error('Error fetching student data:', error);
                // Display an error to the user
                document.getElementById('loader').innerHTML = `
                    <ion-icon name="close-circle-outline" class="loader-icon" style="color: #f87171;"></ion-icon>
                    <p class="loader-text">ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™. Ÿäÿ±ÿ¨Ÿâ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿµŸÅÿ≠ÿ©.</p>
                `;
            }
        }

        function handleLogin(event) {
            event.preventDefault();
            const username = document.getElementById('username').value.trim();
            const password = document.getElementById('password').value.trim();
            const loginStatus = document.getElementById('loginStatus');
            const loginButton = document.getElementById('loginButton');
            const loginButtonText = document.getElementById('loginButtonText');

             // --- Show loading state ---
            loginButton.disabled = true;
            loginButtonText.innerHTML = `
                <ion-icon name="refresh" class="animate-spin text-2xl"></ion-icon>
                <span class="mx-2">ÿ¨ÿßÿ±Ÿê ÿßŸÑÿ™ÿ≠ŸÇŸÇ...</span>
            `;
            
            // Simulate network delay for UX
            setTimeout(() => {
                const student = studentDatabase.find(s => s.name === username && s.password === password);

                // --- Reset button state ---
                loginButton.disabled = false;
                 loginButtonText.innerHTML = `
                    ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ
                    <ion-icon name="arrow-back" class="text-2xl group-hover:translate-x-[-5px] transition-transform"></ion-icon>
                `;

                if (student) {
                    // Login successful
                    loginStatus.className = 'text-green-600 text-sm h-5';
                    loginStatus.textContent = 'ÿ™ŸÖ ÿ™ÿ≥ÿ¨ŸäŸÑ ÿßŸÑÿØÿÆŸàŸÑ ÿ®ŸÜÿ¨ÿßÿ≠!';
                    
                    // Update appState with user data
                    appState.userData.group = student.group;
                    appState.userData.studentName = student.name;
                    
                    // Sync with legacy variables
                    userSelections.group = student.group;
                    userSelections.studentName = student.name;

                    // Show success toast and celebrate
                    showToast(`ŸÖÿ±ÿ≠ÿ®ÿßŸã ÿ®ŸÉ ${student.name}! üéâ`, 'success', 2500);
                    celebrateSuccess();

                    // Personalize welcome screen
                    document.getElementById('welcome-title').innerHTML = `ÿ£ŸáŸÑÿßŸã ÿ®ŸÉ ŸÖÿ¨ÿØÿØÿßŸãÿå <span class="gradient-text">${student.name}!</span>`;

                    // Determine the group key from the student's group number
                    const groupKeys = Object.keys(classroomData);
                    const groupIndex = parseInt(student.group) - 1;

                    if (groupIndex >= 0 && groupIndex < groupKeys.length) {
                        const groupKey = groupKeys[groupIndex];
                        appState.userData.combinedKey = groupKey;
                        userSelections.combinedKey = groupKey; // Sync legacy variable
                        
                        // Save state after login
                        saveState();
                        
                        // Proceed to the next screen (splash screen) after a short delay
                        setTimeout(() => navigateNext(), 1000);

                    } else {
                        loginStatus.className = 'text-red-500 text-sm h-5';
                        loginStatus.textContent = 'ŸÖÿ¨ŸÖŸàÿπÿ© ÿßŸÑÿ∑ÿßŸÑÿ® ÿ∫Ÿäÿ± ÿµÿßŸÑÿ≠ÿ©.';
                        showToast('ŸÖÿ¨ŸÖŸàÿπÿ© ÿßŸÑÿ∑ÿßŸÑÿ® ÿ∫Ÿäÿ± ÿµÿßŸÑÿ≠ÿ©', 'error');
                    }

                } else {
                    // Login failed
                    loginStatus.className = 'text-red-500 text-sm h-5';
                    loginStatus.textContent = 'ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ£Ÿà ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ± ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠ÿ©.';
                    showToast('ÿßÿ≥ŸÖ ÿßŸÑŸÖÿ≥ÿ™ÿÆÿØŸÖ ÿ£Ÿà ŸÉŸÑŸÖÿ© ÿßŸÑŸÖÿ±Ÿàÿ± ÿ∫Ÿäÿ± ÿµÿ≠Ÿäÿ≠ÿ©', 'error');
                }
            }, 500); // 0.5 second delay
        }


        // --- Navigation Logic ---
        function showScreen(index) {
            if (index < 0 || index >= screens.length) return;
            
            // Smooth transition
            const prevScreen = document.getElementById(screens[appState.currentScreen].id);
            if (prevScreen) {
                prevScreen.style.opacity = '0';
            }
            
            setTimeout(() => {
                // Update appState
                appState.currentScreen = index;
                currentScreenIndex = index; // Sync legacy variable
                
                screens.forEach((screen, i) => {
                    const el = document.getElementById(screen.id);
                    if (el) {
                        el.classList.toggle('active', i === index);
                        if (i === index) {
                            el.style.opacity = '1';
                            // Render dynamic content when screen becomes active
                            if (screen.id === 'objectivesScreen') {
                                renderObjectives();
                            }
                        }
                    }
                });
                updateNavigationControls();
                window.scrollTo({ top: 0, behavior: 'smooth' });
                
                // Persist state after navigation
                saveState();
            }, 200);
        }
        
        // Helper function to show screen by ID
        function showScreenById(screenId) {
            const index = screens.findIndex(screen => screen.id === screenId);
            if (index !== -1) {
                // Render content based on screen type
                if (screenId === 'lessonScreen') {
                    renderLessonContent();
                } else if (screenId === 'objectivesScreen') {
                    renderObjectives();
                }
                showScreen(index);
            }
        }

        function navigateNext() {
            let nextIndex = appState.currentScreen + 1;
            
            // Skip group selection screen if a group is already assigned
            if (screens[nextIndex] && screens[nextIndex].id === 'groupSelectionScreen' && appState.userData.group) {
                nextIndex++;
            }

            // Render objectives if we are navigating to it
            if (screens[nextIndex] && screens[nextIndex].id === 'objectivesScreen') {
                renderObjectives();
            }

            // Render the guide if we are navigating to it
            if (screens[nextIndex] && screens[nextIndex].id === 'guideScreen') {
                renderGuide();
            }

            // Prepare group info screen if we are navigating to it
            if (screens[nextIndex] && screens[nextIndex].id === 'groupInfoScreen') {
                prepareGroupInfoScreen();
            }

            if (nextIndex < screens.length) {
                showScreen(nextIndex);
                
                // Show helpful toast on certain screens
                if (screens[nextIndex].id === 'objectivesScreen') {
                    showToast('ÿ™ÿπÿ±ŸÅ ÿπŸÑŸâ ÿßŸÑÿ£ŸáÿØÿßŸÅ ÿßŸÑÿ™ÿπŸÑŸäŸÖŸäÿ© ŸÑŸÑŸàÿ≠ÿØÿ©', 'info', 3000);
                } else if (screens[nextIndex].id === 'guideScreen') {
                    showToast('ÿ™ŸÅŸÇÿØ ÿØŸÑŸäŸÑ ŸÖÿ¨ŸÖŸàÿπÿ™ŸÉ ÿ®ÿπŸÜÿßŸäÿ©', 'info', 3000);
                } else if (screens[nextIndex].id === 'groupInfoScreen') {
                    setTimeout(() => celebrateSuccess(), 300);
                }
            }
        }

        function navigatePrevious() {
            let prevIndex = appState.currentScreen - 1;

             // Skip group selection screen if a group is already assigned
            if (screens[prevIndex] && screens[prevIndex].id === 'groupSelectionScreen' && appState.userData.group) {
                prevIndex--;
            }

            // Render objectives if we are navigating to it
            if (screens[prevIndex] && screens[prevIndex].id === 'objectivesScreen') {
                renderObjectives();
            }

            if (prevIndex >= 0) {
                showScreen(prevIndex);
            }
        }

        function updateNavigationControls() {
            const navControls = document.getElementById('navigationControls');
            const helpBtn = document.getElementById('helpBtn');
            
            // Hide navigation and help on login screen
            if (appState.currentScreen === 0) {
                if(navControls) navControls.style.display = 'none';
                if(helpBtn) helpBtn.style.display = 'none';
            } else {
                if(navControls) navControls.style.display = 'flex';
                if(helpBtn) helpBtn.style.display = 'flex';
            }

            const prevBtn = document.getElementById('prevBtn');
            const nextBtn = document.getElementById('nextBtn');
            const prevBtnLabel = document.getElementById('prevBtnLabel');
            const nextBtnLabel = document.getElementById('nextBtnLabel');
            const indicators = document.querySelectorAll('.nav-dot');

            // Calculate next screen index (accounting for groupSelectionScreen skip)
            let nextScreenIndex = appState.currentScreen + 1;
            if (screens[nextScreenIndex] && screens[nextScreenIndex].id === 'groupSelectionScreen' && appState.userData.group) {
                nextScreenIndex++;
            }

            // Calculate previous screen index (accounting for groupSelectionScreen skip)
            let prevScreenIndex = appState.currentScreen - 1;
            if (screens[prevScreenIndex] && screens[prevScreenIndex].id === 'groupSelectionScreen' && appState.userData.group) {
                prevScreenIndex--;
            }

            // Update button states
            if(prevBtn) {
                prevBtn.disabled = appState.currentScreen === 0;
                // Update previous button label
                if (prevBtnLabel) {
                    if (prevScreenIndex >= 0 && screens[prevScreenIndex]) {
                        prevBtnLabel.textContent = screens[prevScreenIndex].name;
                    } else {
                        prevBtnLabel.textContent = '';
                    }
                }
            }

            if(nextBtn) {
                nextBtn.disabled = appState.currentScreen === screens.length - 1;
                // Update next button label
                if (nextBtnLabel) {
                    if (nextScreenIndex < screens.length && screens[nextScreenIndex]) {
                        nextBtnLabel.textContent = screens[nextScreenIndex].name;
                    } else {
                        nextBtnLabel.textContent = '';
                    }
                }
            }

            indicators.forEach((indicator, index) => {
                indicator.classList.toggle('active', index === appState.currentScreen);
                indicator.classList.toggle('hidden', index >= screens.findIndex(s => s.id === 'groupInfoScreen'));
            });
        }
        
        function createNavIndicators() {
            const container = document.getElementById('nav-indicators');
            if (!container) return;
            container.innerHTML = screens.map((screen, index) =>
                `<div class="nav-dot" onclick="showScreen(${index})" title="${screen.name}"></div>`
            ).join('');
        }
        
        // --- Group Selection Logic ---
        function selectGroup(selectionKey) {
            document.querySelectorAll('[data-groupkey]').forEach(card => card.classList.remove('selected'));
            const selectedCard = document.querySelector(`[data-groupkey="${selectionKey}"]`);
            selectedCard.classList.add('selected');
            
            const [groupType, timeType] = selectionKey.split('-');
            userSelections.groupType = groupType;
            userSelections.timeType = timeType;
            userSelections.combinedKey = selectionKey;
            
            document.getElementById('confirmGroupBtn').disabled = false;
            
            // Show feedback
            showToast('ÿ™ŸÖ ÿßÿÆÿ™Ÿäÿßÿ± ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ© ÿ®ŸÜÿ¨ÿßÿ≠!', 'success', 2000);
            
            // Add a subtle shake effect
            selectedCard.style.animation = 'none';
            setTimeout(() => {
                selectedCard.style.animation = 'pulse 0.5s ease-in-out';
            }, 10);
        }

        function prepareGroupInfoScreen() {
            if (userSelections.combinedKey) {
                const groupInfo = classroomData[userSelections.combinedKey];

                if (groupInfo) {
                    document.getElementById('groupNumber').textContent = groupInfo.number;
                    document.getElementById('groupName').textContent = groupInfo.name;
                    document.getElementById('groupCode').textContent = groupInfo.code;
                    currentClassroomLink = groupInfo.link;
                    return true;
                }
            }
            return false;
        }

        function confirmGroupSelection() {
            if (prepareGroupInfoScreen()) {
                showToast('ÿ¨ÿßÿ±Ÿä ÿßŸÑÿßŸÜÿ™ŸÇÿßŸÑ ÿ•ŸÑŸâ ÿØŸÑŸäŸÑ ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ©...', 'info', 2000);
                celebrateSuccess();
                setTimeout(() => navigateNext(), 500);
            } else {
                showToast('Ÿäÿ±ÿ¨Ÿâ ÿßÿÆÿ™Ÿäÿßÿ± ŸÖÿ¨ŸÖŸàÿπÿ© ÿ£ŸàŸÑÿßŸã', 'warning');
            }
        }
        
        
        function openClassroomLink() {
            if (currentClassroomLink) {
                showToast('ÿ¨ÿßÿ±Ÿä ŸÅÿ™ÿ≠ Google Classroom...', 'info', 2000);
                setTimeout(() => {
                    window.open(currentClassroomLink, '_blank');
                    showToast('ÿ™ŸÖ ŸÅÿ™ÿ≠ ÿßŸÑŸÅÿµŸÑ ÿßŸÑÿØÿ±ÿßÿ≥Ÿä ŸÅŸä ŸÜÿßŸÅÿ∞ÿ© ÿ¨ÿØŸäÿØÿ©', 'success');
                }, 500);
            } else {
                showToast('ŸÑŸÖ Ÿäÿ™ŸÖ ÿ™ÿ≠ÿØŸäÿØ ÿ±ÿßÿ®ÿ∑ ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ©', 'error');
            }
        }
        
        // Copy classroom code to clipboard
        function copyClassroomCode() {
            const codeElement = document.getElementById('groupCode');
            const code = codeElement.textContent;
            
            if (navigator.clipboard && navigator.clipboard.writeText) {
                navigator.clipboard.writeText(code).then(() => {
                    showToast('ÿ™ŸÖ ŸÜÿ≥ÿÆ ÿ±ŸÖÿ≤ ÿßŸÑŸÅÿµŸÑ! üìã', 'success', 2000);
                    
                    // Visual feedback
                    codeElement.style.transform = 'scale(1.1)';
                    codeElement.style.backgroundColor = '#10b981';
                    codeElement.style.color = 'white';
                    
                    setTimeout(() => {
                        codeElement.style.transform = 'scale(1)';
                        codeElement.style.backgroundColor = '#f3f4f6';
                        codeElement.style.color = '#1f2937';
                    }, 300);
                }).catch(() => {
                    showToast('ŸÅÿ¥ŸÑ ŸÜÿ≥ÿÆ ÿßŸÑÿ±ŸÖÿ≤. ÿ≠ÿßŸàŸÑ ŸäÿØŸàŸäÿßŸã', 'error');
                });
            } else {
                // Fallback for older browsers
                const textArea = document.createElement('textarea');
                textArea.value = code;
                textArea.style.position = 'fixed';
                textArea.style.left = '-9999px';
                document.body.appendChild(textArea);
                textArea.select();
                try {
                    document.execCommand('copy');
                    showToast('ÿ™ŸÖ ŸÜÿ≥ÿÆ ÿ±ŸÖÿ≤ ÿßŸÑŸÅÿµŸÑ! üìã', 'success', 2000);
                } catch (err) {
                    showToast('ŸÅÿ¥ŸÑ ŸÜÿ≥ÿÆ ÿßŸÑÿ±ŸÖÿ≤. ÿ≠ÿßŸàŸÑ ŸäÿØŸàŸäÿßŸã', 'error');
                }
                document.body.removeChild(textArea);
            }
        }

        // --- Help Modal Logic ---
        function toggleHelpModal() {
            const modal = document.getElementById('helpModal');
            const msgText = document.getElementById('helpMessageText');
            const currentScreenId = screens[appState.currentScreen].id;
            const isOpening = !modal.classList.contains('active');
            
            const defaultMessage = "ŸÑÿß ÿ™ÿ™ŸàŸÅÿ± ÿ•ÿ±ÿ¥ÿßÿØÿßÿ™ ÿÆÿßÿµÿ© ŸÑŸáÿ∞Ÿá ÿßŸÑÿ¥ÿßÿ¥ÿ©ÿå ŸäŸÖŸÉŸÜŸÉ ÿßŸÑÿ™ŸàÿßÿµŸÑ ŸÖÿπ ÿßŸÑŸÖÿπŸÑŸÖ ÿ•ÿ∞ÿß Ÿàÿßÿ¨Ÿáÿ™ ŸÖÿ¥ŸÉŸÑÿ©.";
            
            if (helpMessages[currentScreenId]) {
                msgText.textContent = helpMessages[currentScreenId];
                msgText.classList.remove('text-gray-500');
                msgText.classList.add('text-gray-600');
            } else {
                msgText.textContent = defaultMessage;
                msgText.classList.remove('text-gray-600');
                msgText.classList.add('text-gray-500');
            }
            
            if (isOpening) {
                // Store the element that triggered the modal
                lastFocusedElement = document.activeElement;
                
                modal.classList.add('active');
                
                // Set up focus trap
                if (activeFocusTrap) {
                    activeFocusTrap(); // Clean up any existing trap
                }
                activeFocusTrap = trapFocus(modal);
            } else {
                modal.classList.remove('active');
                
                // Clean up focus trap
                if (activeFocusTrap) {
                    activeFocusTrap();
                    activeFocusTrap = null;
                }
                
                // Restore focus to the element that opened the modal
                if (lastFocusedElement && typeof lastFocusedElement.focus === 'function') {
                    setTimeout(() => {
                        lastFocusedElement.focus();
                    }, 100);
                }
                lastFocusedElement = null;
            }
        }

        // --- Guide Rendering Logic ---
        function renderGuide() {
            const container = document.getElementById('guideContent');
            const groupKey = userSelections.combinedKey;
            
            if (!groupKey || !guideData[groupKey]) {
                container.innerHTML = `<div class="text-center text-white">ÿÆÿ∑ÿ£: ŸÑÿß ŸäŸÖŸÉŸÜ ÿ™ÿ≠ŸÖŸäŸÑ ÿØŸÑŸäŸÑ ÿßŸÑŸÖÿ¨ŸÖŸàÿπÿ©.</div>`;
                return;
            }

            const data = guideData[groupKey];

            container.innerHTML = `
                <div class="space-y-12">
                     <!-- Page Header -->
                    <div class="text-center">
                        <ion-icon name="compass" class="text-8xl gradient-text icon-float mb-6"></ion-icon>
                        
                        <!-- Enhanced Title with Shape -->
                        <div class="relative inline-block mb-8">
                            <div class="absolute inset-0 bg-gradient-to-r from-purple-600 via-pink-500 to-orange-500 rounded-3xl blur-xl opacity-50 animate-pulse"></div>
                            <div class="relative bg-gradient-to-r from-purple-600 via-pink-600 to-orange-500 text-white px-10 py-6 rounded-3xl shadow-2xl border-4 border-white">
                                <div class="flex items-center justify-center gap-4">
                                    <ion-icon name="rocket" class="text-5xl"></ion-icon>
                                    <h1 class="text-3xl md:text-4xl font-black">${data.title}</h1>
                                    <ion-icon name="star" class="text-5xl"></ion-icon>
                                </div>
                            </div>
                        </div>
                        
                        <div class="bg-gradient-to-br from-amber-50 to-orange-50 border-2 border-amber-300 rounded-2xl p-6 max-w-3xl mx-auto shadow-2xl">
                            <div class="flex items-center justify-center gap-3 mb-3">
                                <ion-icon name="alert-circle" class="text-3xl text-amber-600"></ion-icon>
                                <span class="text-2xl font-bold text-amber-800">ÿßŸÑŸÇÿßÿπÿØÿ© ÿßŸÑÿ∞Ÿáÿ®Ÿäÿ©</span>
                                <ion-icon name="alert-circle" class="text-3xl text-amber-600"></ion-icon>
                            </div>
                            <p class="text-xl text-gray-800 font-bold leading-relaxed">${data.goldenRule}</p>
                        </div>
                    </div>

                    <!-- Next Step & Countdown Card -->
                    <div id="nextStepCard" class="bg-white border-4 border-red-400 p-8 rounded-2xl shadow-2xl" style="display: none;">
                        <div class="flex items-center justify-center gap-3 mb-4">
                            <ion-icon name="time" class="text-5xl text-red-600 animate-pulse"></ion-icon>
                            <h2 class="text-3xl font-bold text-gray-900">‚è∞ ÿÆÿ∑Ÿàÿ™ŸÉ ÿßŸÑÿ™ÿßŸÑŸäÿ©</h2>
                        </div>
                        <div class="text-center">
                            <p class="text-xl text-gray-800 font-semibold mb-2">ŸÖŸáŸÖÿ™ŸÉ ÿßŸÑÿ≠ÿßŸÑŸäÿ© ŸáŸä:</p>
                            <p class="text-2xl font-bold gradient-text mb-4">ŸÅŸáŸÖ ÿßŸÑŸÖÿπÿßŸäŸäÿ± ÿßŸÑÿ£ÿ±ÿ®ÿπÿ©</p>
                            <div class="bg-gradient-to-r from-red-500 to-orange-500 rounded-xl p-4 shadow-lg">
                                <p class="text-white text-sm font-semibold mb-2">‚è≥ ÿßŸÑŸàŸÇÿ™ ÿßŸÑŸÖÿ™ÿ®ŸÇŸä:</p>
                                <div id="countdown" class="text-5xl font-bold text-white">
                                    <!-- Countdown will be inserted here -->
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="grid grid-cols-1 lg:grid-cols-3 gap-8">
                        <!-- Main Content Column -->
                        <div class="lg:col-span-2 space-y-12">
                            <!-- Timeline Section -->
                            <div class="bg-white rounded-2xl p-6 shadow-lg">
                                <div class="flex items-center justify-center gap-3 mb-8">
                                    <ion-icon name="calendar" class="text-4xl text-indigo-600"></ion-icon>
                                    <h2 class="text-3xl font-bold text-gray-900">ÿßŸÑÿ¨ÿØŸàŸÑ ÿßŸÑÿ≤ŸÖŸÜŸä ŸÑŸÑŸÖÿ¥ÿ±Ÿàÿπ</h2>
                                </div>
                                <div class="bg-gradient-to-r from-indigo-500 to-purple-600 text-white text-center py-3 rounded-lg mb-6">
                                    <p class="text-2xl font-bold">${data.timeline.duration} ŸäŸàŸÖÿßŸã</p>
                                </div>
                                <div class="relative">
                                    <div class="absolute left-1/2 h-full w-2 bg-gradient-to-b from-purple-400 via-indigo-400 to-blue-400 rounded-full -translate-x-1/2"></div>
                                    ${data.timeline.points.map((p, index) => `
                                        <div class="flex items-center mb-8 ${index % 2 === 0 ? 'flex-row-reverse' : ''}">
                                            <div class="w-1/2 px-4">
                                                <div class="bg-gradient-to-br from-${index % 2 === 0 ? 'purple' : 'blue'}-50 to-${index % 2 === 0 ? 'indigo' : 'cyan'}-50 border-2 border-${index % 2 === 0 ? 'purple' : 'blue'}-300 p-4 rounded-xl shadow-md hover:shadow-xl transition-all ${index % 2 === 0 ? 'text-right' : 'text-left'}">
                                                    <p class="font-bold text-xl text-gray-900 mb-1">${p.label}</p>
                                                    ${p.description ? `<p class="text-gray-700 font-medium text-base">${p.description}</p>` : ''}
                                                </div>
                                            </div>
                                            <div class="w-16 h-16 rounded-full bg-gradient-to-br from-purple-500 to-indigo-600 flex items-center justify-center text-white text-3xl z-10 mx-4 flex-shrink-0 shadow-lg border-4 border-white">
                                                <ion-icon name="${p.icon}"></ion-icon>
                                            </div>
                                            <div class="w-1/2 px-4">
                                                <div class="bg-gradient-to-br from-amber-100 to-yellow-100 border-2 border-amber-400 px-4 py-2 rounded-xl ${index % 2 !== 0 ? 'text-right' : 'text-left'}">
                                                    <p class="text-gray-900 font-bold text-lg">üìÖ ÿßŸÑŸäŸàŸÖ ${p.day}</p>
                                                </div>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                            
                            <!-- Golden Tips Carousel -->
                            <div class="bg-white rounded-2xl p-6 shadow-lg">
                                <div class="flex items-center justify-center gap-3 mb-8">
                                    <ion-icon name="bulb" class="text-4xl text-yellow-500"></ion-icon>
                                    <h2 class="text-3xl font-bold text-gray-900">üí° ÿ•ÿ±ÿ¥ÿßÿØÿßÿ™ ŸÑÿ≠ŸÑ ÿßŸÑŸÖŸáŸÖÿ©</h2>
                                    <ion-icon name="bulb" class="text-4xl text-yellow-500"></ion-icon>
                                </div>
                                <div class="bg-gradient-to-br from-yellow-50 to-amber-50 border-2 border-yellow-300 rounded-2xl p-8 shadow-inner">
                                    <div id="tipsCarousel" class="relative overflow-hidden rounded-xl">
                                        <div class="tips-slider flex transition-transform duration-500 ease-in-out" style="transform: translateX(0%)">
                                            ${data.goldenTips.map((tip, index) => `
                                                <div class="min-w-full px-4 carousel-slide">
                                                    <div class="bg-white border-2 border-amber-300 rounded-xl p-8 text-center shadow-md">
                                                        <div class="bg-gradient-to-br from-yellow-400 to-amber-500 w-20 h-20 rounded-full flex items-center justify-center mx-auto mb-4 shadow-lg">
                                                            <ion-icon name="${tip.icon}" class="text-5xl text-white"></ion-icon>
                                                        </div>
                                                        <p class="text-2xl font-bold text-gray-900 leading-relaxed">${tip.tip}</p>
                                                    </div>
                                                </div>
                                            `).join('')}
                                        </div>
                                        <div class="flex justify-center gap-3 mt-6">
                                            ${data.goldenTips.map((_, index) => `
                                                <button onclick="showTip(${index})" aria-label="ÿßŸÜÿ™ŸÇŸÑ ŸÑŸÑŸÜÿµŸäÿ≠ÿ© ${index + 1}" class="tip-indicator w-4 h-4 rounded-full ${index === 0 ? 'bg-yellow-500 scale-125' : 'bg-gray-400'} transition-all hover:scale-110 shadow-md"></button>
                                            `).join('')}
                                        </div>
                                        <button onclick="previousTip()" aria-label="ÿßŸÑŸÜÿµŸäÿ≠ÿ© ÿßŸÑÿ≥ÿßÿ®ŸÇÿ©" class="absolute left-2 top-1/2 -translate-y-1/2 w-14 h-14 rounded-full bg-white border-2 border-purple-400 text-purple-600 hover:bg-purple-600 hover:text-white hover:scale-110 transition-all shadow-lg flex items-center justify-center">
                                            <ion-icon name="chevron-forward" class="text-3xl"></ion-icon>
                                        </button>
                                        <button onclick="nextTip()" aria-label="ÿßŸÑŸÜÿµŸäÿ≠ÿ© ÿßŸÑÿ™ÿßŸÑŸäÿ©" class="absolute right-2 top-1/2 -translate-y-1/2 w-14 h-14 rounded-full bg-white border-2 border-purple-400 text-purple-600 hover:bg-purple-600 hover:text-white hover:scale-110 transition-all shadow-lg flex items-center justify-center">
                                            <ion-icon name="chevron-back" class="text-3xl"></ion-icon>
                                        </button>
                                    </div>
                                </div>
                            </div>
                            
                            <!-- Tasks Section -->
                            <div class="bg-white rounded-2xl p-6 shadow-lg">
                                <div class="flex items-center justify-center gap-3 mb-8">
                                    <ion-icon name="list" class="text-4xl text-blue-600"></ion-icon>
                                    <h2 class="text-3xl font-bold text-gray-900">üìã ŸáŸäŸÉŸÑ ÿßŸÑŸÖÿ¥ÿ±Ÿàÿπ ŸàÿßŸÑŸÖŸáÿßŸÖ</h2>
                                </div>
                                <div class="task-diagram-container">
                                     <div class="task-diagram">
                                        ${data.tasks.filter(t => t.details).map((t, index) => `
                                            <div class="task-node" id="task-${index}">
                                                <div class="task-icon">
                                                    <ion-icon name="${t.icon}-outline"></ion-icon>
                                                    <div class="task-points">${t.points}</div>
                                                </div>
                                                <div class="task-header" onclick="toggleTaskDetails(${index})">
                                                    <div class="task-title">
                                                       <h3>${t.name}</h3>
                                                       <p>ÿßŸÜŸÇÿ± ŸÑÿπÿ±ÿ∂ ÿßŸÑÿ™ŸÅÿßÿµŸäŸÑ</p>
                                                    </div>
                                                    <ion-icon name="chevron-down-outline" class="expand-icon"></ion-icon>
                                                </div>
                                                <div class="task-details">
                                                    <div class="prose max-w-none">
                                                         <div class="bg-white rounded-lg p-4 mb-4 border-2 border-blue-200 shadow-sm">
                                                             <h4 class="font-bold text-xl mb-3 text-blue-700 flex items-center gap-2">
                                                                 <ion-icon name="information-circle" class="text-2xl"></ion-icon>
                                                                 ŸàÿµŸÅ ÿßŸÑŸÖŸáŸÖÿ©:
                                                             </h4>
                                                             <p class="text-gray-900 font-medium text-base leading-relaxed">${t.details.description || ''}</p>
                                                         </div>
                                                         
                                                         ${t.details.requirements ? `
                                                             <div class="bg-white rounded-lg p-4 mb-4 border-2 border-green-200 shadow-sm">
                                                                 <h4 class="font-bold text-xl mb-3 text-green-700 flex items-center gap-2">
                                                                     <ion-icon name="checkmark-done-circle" class="text-2xl"></ion-icon>
                                                                     ÿßŸÑŸÖÿ∑ŸÑŸàÿ®:
                                                                 </h4>
                                                                 <ul class="list-disc space-y-2 pr-5 text-gray-900 font-medium">
                                                                     ${t.details.requirements.map(req => `<li class="text-base">${req}</li>`).join('')}
                                                                 </ul>
                                                             </div>
                                                         ` : ''}
        
                                                         ${t.details.evaluation ? `
                                                             <div class="bg-white rounded-lg p-4 mb-4 border-2 border-purple-200 shadow-sm">
                                                                 <h4 class="font-bold text-xl mb-3 text-purple-700 flex items-center gap-2">
                                                                     <ion-icon name="star" class="text-2xl"></ion-icon>
                                                                     ŸÖÿπÿßŸäŸäÿ± ÿßŸÑÿ™ŸÇŸäŸäŸÖ:
                                                                 </h4>
                                                                 <ul class="list-none space-y-2">
                                                                     ${t.details.evaluation.map(ev => `
                                                                         <li class="flex justify-between items-center bg-gradient-to-r from-purple-50 to-pink-50 p-3 rounded-lg border border-purple-200">
                                                                             <span class="text-gray-900 font-semibold">${ev.item}</span>
                                                                             <span class="font-bold bg-purple-600 text-white px-3 py-1 rounded-full text-sm shadow-md">${ev.points} ŸÜŸÇÿ∑ÿ©</span>
                                                                         </li>
                                                                     `).join('')}
                                                                 </ul>
                                                             </div>
                                                         ` : ''}
        
                                                         ${t.details.tips ? `
                                                             <div class="bg-gradient-to-br from-amber-100 to-yellow-100 border-2 border-amber-400 p-4 rounded-lg shadow-md">
                                                                 <h4 class="font-bold text-xl mb-3 text-amber-800 flex items-center gap-2">
                                                                     <ion-icon name="bulb" class="text-2xl"></ion-icon>
                                                                     üí° ÿ•ÿ±ÿ¥ÿßÿØÿßÿ™ ŸÑÿ≠ŸÑ ÿßŸÑŸÖŸáŸÖÿ©:
                                                                 </h4>
                                                                 <ul class="list-disc space-y-2 pr-5 text-amber-900 font-semibold">
                                                                     ${t.details.tips.map(tip => `<li class="text-base">${tip}</li>`).join('')}
                                                                 </ul>
                                                             </div>
                                                         ` : ''}
                                                    </div>
                                                </div>
                                            </div>
                                        `).join('')}
                                     </div>
                                 </div>
                            </div>
                        </div>

                        <!-- Side Column -->
                        <div class="space-y-8">
                             <!-- Evaluation Section -->
                            <div class="bg-white rounded-2xl p-6 shadow-lg border-2 border-indigo-200">
                                <div class="flex items-center justify-center gap-2 mb-6">
                                    <ion-icon name="analytics" class="text-3xl text-indigo-600"></ion-icon>
                                    <h2 class="text-2xl font-bold text-gray-900">üìä ŸÖÿπÿßŸäŸäÿ± ÿßŸÑÿ™ŸÇŸäŸäŸÖ</h2>
                                </div>
                                <div class="bg-gradient-to-br from-indigo-50 to-purple-50 p-4 rounded-xl">
                                    <div class="relative w-full h-64 md:h-auto">
                                        <canvas id="evaluationChart"></canvas>
                                    </div>
                                </div>
                            </div>

                             <!-- Team Roles Diagram (Collaborative Groups Only) -->
                            ${groupKey === 'collaborative-open' || groupKey === 'collaborative-fixed' ? `
                            <div class="bg-white rounded-2xl p-6 shadow-lg border-2 border-teal-200">
                                <div class="flex items-center justify-center gap-2 mb-6">
                                    <ion-icon name="people" class="text-3xl text-teal-600"></ion-icon>
                                    <h2 class="text-2xl font-bold text-gray-900">üë• ÿ£ÿØŸàÿßÿ± ÿßŸÑŸÅÿ±ŸäŸÇ</h2>
                                </div>
                                <div class="bg-gradient-to-br from-teal-50 to-cyan-50 p-4 rounded-xl mb-4">
                                    <div class="relative w-full h-64 md:h-auto">
                                        <canvas id="teamRolesChart"></canvas>
                                    </div>
                                </div>
                                <div class="space-y-2" id="teamRolesLegend"></div>
                            </div>
                            ` : ''}

                            <!-- Delay Policy Diagram (Fixed Groups Only) -->
                            ${groupKey === 'competitive-fixed' || groupKey === 'collaborative-fixed' ? `
                            <div class="bg-white rounded-2xl p-6 shadow-lg border-2 border-red-200">
                                <div class="flex items-center justify-center gap-2 mb-6">
                                    <ion-icon name="warning" class="text-3xl text-red-600"></ion-icon>
                                    <h2 class="text-2xl font-bold text-gray-900">‚ö†Ô∏è ÿ≥Ÿäÿßÿ≥ÿ© ÿßŸÑÿ™ÿ£ÿÆŸäÿ±</h2>
                                </div>
                                <div class="bg-gradient-to-br from-red-50 to-orange-50 p-6 rounded-xl border-2 border-red-200">
                                    <div class="mb-6 text-center">
                                        <p class="text-gray-900 font-bold text-lg mb-4">ŸÖÿ´ÿßŸÑ: ŸÖŸáÿßŸÖ ÿ®ŸÇŸäŸÖÿ© 10 ŸÜŸÇÿßÿ∑</p>
                                        <div class="relative h-12 bg-white rounded-full overflow-hidden border-4 border-gray-200 shadow-inner">
                                            <div class="absolute inset-0 bg-gradient-to-r from-green-500 via-yellow-500 to-red-500"></div>
                                            <div class="absolute inset-0 flex items-center justify-center text-white font-bold text-xl drop-shadow-lg">
                                                <ion-icon name="star" class="text-2xl"></ion-icon>
                                                <span class="mx-1">10</span>
                                                <ion-icon name="star" class="text-2xl"></ion-icon>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="space-y-3">
                                        <div class="flex items-center justify-between p-4 bg-gradient-to-r from-green-100 to-green-50 rounded-xl border-2 border-green-400 shadow-md">
                                            <div class="flex items-center gap-2">
                                                <ion-icon name="checkmark-circle" class="text-2xl text-green-600"></ion-icon>
                                                <span class="text-gray-900 font-bold">‚úÖ ŸÅŸä ÿßŸÑŸÖŸàÿπÿØ</span>
                                            </div>
                                            <span class="text-green-700 font-bold text-lg bg-green-200 px-3 py-1 rounded-full">10 ŸÜŸÇÿßÿ∑</span>
                                        </div>
                                        <div class="flex items-center justify-between p-4 bg-gradient-to-r from-yellow-100 to-yellow-50 rounded-xl border-2 border-yellow-400 shadow-md">
                                            <div class="flex items-center gap-2">
                                                <ion-icon name="time" class="text-2xl text-yellow-600"></ion-icon>
                                                <span class="text-gray-900 font-bold">‚è±Ô∏è ÿ™ÿ£ÿÆŸäÿ± 6-24 ÿ≥ÿßÿπÿ©</span>
                                            </div>
                                            <span class="text-yellow-700 font-bold text-lg bg-yellow-200 px-3 py-1 rounded-full">-10% (9)</span>
                                        </div>
                                        <div class="flex items-center justify-between p-4 bg-gradient-to-r from-orange-100 to-orange-50 rounded-xl border-2 border-orange-400 shadow-md">
                                            <div class="flex items-center gap-2">
                                                <ion-icon name="alert" class="text-2xl text-orange-600"></ion-icon>
                                                <span class="text-gray-900 font-bold">‚ö†Ô∏è ÿ™ÿ£ÿÆŸäÿ± 1-3 ÿ£ŸäÿßŸÖ</span>
                                            </div>
                                            <span class="text-orange-700 font-bold text-lg bg-orange-200 px-3 py-1 rounded-full">-30% (7)</span>
                                        </div>
                                        <div class="flex items-center justify-between p-4 bg-gradient-to-r from-red-100 to-red-50 rounded-xl border-2 border-red-400 shadow-md">
                                            <div class="flex items-center gap-2">
                                                <ion-icon name="close-circle" class="text-2xl text-red-600"></ion-icon>
                                                <span class="text-gray-900 font-bold">‚ùå ÿ£ŸÉÿ´ÿ± ŸÖŸÜ 3 ÿ£ŸäÿßŸÖ</span>
                                            </div>
                                            <span class="text-red-700 font-bold text-lg bg-red-200 px-3 py-1 rounded-full">-50% (5)</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            ` : ''}

                             <!-- Rewards Section -->
                            <div class="bg-white rounded-2xl p-6 shadow-lg border-2 border-yellow-200">
                                <div class="flex items-center justify-center gap-2 mb-6">
                                    <ion-icon name="trophy" class="text-3xl text-yellow-500"></ion-icon>
                                    <h2 class="text-2xl font-bold text-gray-900">üèÜ ÿßŸÑŸÖŸÉÿßŸÅÿ¢ÿ™ ŸàÿßŸÑÿ™ŸÖŸäÿ≤</h2>
                                </div>
                                <div class="grid grid-cols-2 gap-4 text-center">
                                    <div class="bg-gradient-to-br from-yellow-50 to-amber-100 border-2 border-yellow-400 p-5 rounded-xl shadow-md hover:scale-105 transition-all">
                                        <div class="bg-gradient-to-br from-yellow-400 to-amber-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg">
                                            <ion-icon name="ribbon" class="text-4xl text-white"></ion-icon>
                                        </div>
                                        <p class="font-bold text-gray-900 text-lg">ü•á ÿßŸÑÿ£Ÿàÿßÿ¶ŸÑ</p>
                                        <p class="text-sm text-amber-700 font-bold bg-amber-200 py-1 px-3 rounded-full mt-2 inline-block">+25 ŸÜŸÇÿ∑ÿ©</p>
                                    </div>
                                    <div class="bg-gradient-to-br from-blue-50 to-cyan-100 border-2 border-blue-400 p-5 rounded-xl shadow-md hover:scale-105 transition-all">
                                        <div class="bg-gradient-to-br from-blue-400 to-cyan-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg">
                                            <ion-icon name="flash" class="text-4xl text-white"></ion-icon>
                                        </div>
                                        <p class="font-bold text-gray-900 text-lg">‚ö° ÿßŸÑÿ£ÿ≥ÿ±ÿπ</p>
                                        <p class="text-sm text-blue-700 font-bold bg-blue-200 py-1 px-3 rounded-full mt-2 inline-block">+10 ŸÜŸÇÿßÿ∑</p>
                                    </div>
                                     <div class="bg-gradient-to-br from-purple-50 to-pink-100 border-2 border-purple-400 p-5 rounded-xl shadow-md hover:scale-105 transition-all">
                                        <div class="bg-gradient-to-br from-purple-400 to-pink-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg">
                                            <ion-icon name="sparkles" class="text-4xl text-white"></ion-icon>
                                        </div>
                                        <p class="font-bold text-gray-900 text-lg">‚ú® ÿßŸÑÿ™ÿπÿßŸàŸÜ</p>
                                        <p class="text-sm text-purple-700 font-bold bg-purple-200 py-1 px-3 rounded-full mt-2 inline-block">+10 ŸÜŸÇÿßÿ∑</p>
                                    </div>
                                     <div class="bg-gradient-to-br from-pink-50 to-rose-100 border-2 border-pink-400 p-5 rounded-xl shadow-md hover:scale-105 transition-all">
                                        <div class="bg-gradient-to-br from-pink-400 to-rose-500 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3 shadow-lg">
                                            <ion-icon name="color-palette" class="text-4xl text-white"></ion-icon>
                                        </div>
                                        <p class="font-bold text-gray-900 text-lg">üé® ÿßŸÑÿ•ÿ®ÿØÿßÿπ</p>
                                        <p class="text-sm text-pink-700 font-bold bg-pink-200 py-1 px-3 rounded-full mt-2 inline-block">+10 ŸÜŸÇÿßÿ∑</p>
                                    </div>
                                </div>
                            </div>
                             <!-- Support Section -->
                            <div class="bg-white rounded-2xl p-6 shadow-lg border-2 border-green-200">
                                <div class="flex items-center justify-center gap-2 mb-6">
                                    <ion-icon name="help-buoy" class="text-3xl text-green-600"></ion-icon>
                                    <h2 class="text-2xl font-bold text-gray-900">üìû ÿßŸÑÿØÿπŸÖ ŸàÿßŸÑŸÖÿ≥ÿßÿπÿØÿ©</h2>
                                </div>
                                <div class="space-y-3">
                                    ${data.support.map(s => `
                                        <div class="bg-gradient-to-r from-green-50 to-teal-50 border-2 border-green-300 p-4 rounded-xl shadow-md flex items-center gap-4 transition-all hover:shadow-xl hover:scale-105 hover:border-green-500">
                                             <div class="w-14 h-14 rounded-full bg-gradient-to-br from-green-400 to-teal-600 flex items-center justify-center text-white text-2xl flex-shrink-0 shadow-lg">
                                                <ion-icon name="${s.icon}"></ion-icon>
                                            </div>
                                            <div>
                                                <h4 class="text-lg font-bold text-gray-900">${s.channel}</h4>
                                                <p class="text-gray-700 font-medium text-sm">${s.details}</p>
                                            </div>
                                        </div>
                                    `).join('')}
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            `;
            
            renderEvaluationChart(data.evaluation);
            startCountdown(groupKey, data.timeline.points);
            
            // Render team roles chart for collaborative groups
            if (groupKey === 'collaborative-open' || groupKey === 'collaborative-fixed') {
                renderTeamRolesChart();
            }
        }

        let countdownInterval;
        function startCountdown(groupKey, timelinePoints) {
            const countdownContainer = document.getElementById('countdown');
            const nextStepCard = document.getElementById('nextStepCard');
            
            if (countdownInterval) {
                clearInterval(countdownInterval);
            }

            if (groupKey !== 'competitive-fixed' && groupKey !== 'collaborative-fixed') {
                nextStepCard.style.display = 'none';
                return;
            }
            
            nextStepCard.style.display = 'block';
            
            // Use the project start date from configuration
            // Fallback to current date if config not loaded yet
            let projectStartDate;
            if (!projectConfig || !projectConfig.projectStartDate) {
                console.warn('Project config not loaded, using current date as fallback');
                projectStartDate = new Date();
            } else {
                projectStartDate = new Date(projectConfig.projectStartDate);
            } 
            
            const upcomingDeadline = timelinePoints.find(point => {
                const deadlineDate = new Date(projectStartDate);
                deadlineDate.setDate(projectStartDate.getDate() + parseInt(point.day));
                deadlineDate.setHours(23, 59, 59, 999); // End of the day
                return deadlineDate > new Date();
            });

            if (!upcomingDeadline) {
                countdownContainer.innerHTML = "ÿßŸÜÿ™Ÿáÿ™ ÿ¨ŸÖŸäÿπ ÿßŸÑŸÖŸàÿßÿπŸäÿØ!";
                return;
            }
            
            const targetDate = new Date(projectStartDate);
            targetDate.setDate(projectStartDate.getDate() + parseInt(upcomingDeadline.day));
            targetDate.setHours(23, 59, 59, 999);

            countdownInterval = setInterval(() => {
                const now = new Date().getTime();
                const distance = targetDate - now;

                if (distance < 0) {
                    clearInterval(countdownInterval);
                    countdownContainer.innerHTML = "ÿßŸÜÿ™ŸáŸâ ÿßŸÑŸàŸÇÿ™!";
                    // Maybe find the *next* deadline after this one expires
                    return;
                }

                const days = Math.floor(distance / (1000 * 60 * 60 * 24));
                const hours = Math.floor((distance % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
                const minutes = Math.floor((distance % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((distance % (1000 * 60)) / 1000);

                countdownContainer.innerHTML = `${days}Ÿä ${hours}ÿ≥ ${minutes}ÿØ ${seconds}ÿ´`;

            }, 1000);
        }

        function renderEvaluationChart(evaluationData) {
            const ctx = document.getElementById('evaluationChart').getContext('2d');
            
            const labels = evaluationData.map(e => e.criteria);
            const data = evaluationData.map(e => e.percentage);
            
            // Define a color palette
            const backgroundColors = [
                'rgba(139, 92, 246, 0.7)',  // purple-500
                'rgba(99, 102, 241, 0.7)',  // indigo-500
                'rgba(59, 130, 246, 0.7)',  // blue-500
                'rgba(236, 72, 153, 0.7)', // pink-500
                'rgba(245, 158, 11, 0.7)'   // amber-500
            ];
             const borderColors = [
                'rgba(139, 92, 246, 1)',
                'rgba(99, 102, 241, 1)',
                'rgba(59, 130, 246, 1)',
                'rgba(236, 72, 153, 1)',
                'rgba(245, 158, 11, 1)'
            ];


            new Chart(ctx, {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'ŸÖÿπÿßŸäŸäÿ± ÿßŸÑÿ™ŸÇŸäŸäŸÖ',
                        data: data,
                        backgroundColor: backgroundColors,
                        borderColor: borderColors,
                        borderWidth: 2,
                        hoverOffset: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                             labels: {
                                font: {
                                    family: 'Tajawal, sans-serif',
                                    size: 14,
                                },
                                color: '#374151' // gray-700
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    let label = context.label || '';
                                    if (label) {
                                        label += ': ';
                                    }
                                    if (context.parsed !== null) {
                                        label += context.parsed + '%';
                                    }
                                    return label;
                                }
                            },
                             bodyFont: {
                                family: 'Tajawal, sans-serif',
                                size: 14,
                            },
                            titleFont: {
                                family: 'Tajawal, sans-serif',
                                size: 16,
                            }
                        }
                    },
                    cutout: '60%'
                }
            });
        }

        function renderTeamRolesChart() {
            const ctx = document.getElementById('teamRolesChart');
            if (!ctx) return;
            
            const ctx2d = ctx.getContext('2d');
            const legendContainer = document.getElementById('teamRolesLegend');
            
            const teamRoles = [
                { role: 'ÿßŸÑŸÖŸÜÿ≥ŸÇ', description: 'ÿ™ŸÜÿ≥ŸäŸÇ ÿßŸÑÿßÿ¨ÿ™ŸÖÿßÿπÿßÿ™ Ÿàÿ™Ÿàÿ≤Ÿäÿπ ÿßŸÑŸÖŸáÿßŸÖ', color: 'rgb(139, 92, 246)' },
                { role: 'ÿßŸÑÿ®ÿßÿ≠ÿ´', description: 'ÿ¨ŸÖÿπ ÿßŸÑÿ£ŸÖÿ´ŸÑÿ© ŸàÿßŸÑŸÖÿµÿßÿØÿ± ÿßŸÑŸÖŸàÿ´ŸàŸÇÿ©', color: 'rgb(59, 130, 246)' },
                { role: 'ÿßŸÑŸÖÿ≠ŸÑŸÑ', description: 'ÿ•ÿ¨ÿ±ÿßÿ° ÿßŸÑÿ™ÿ≠ŸÑŸäŸÑÿßÿ™ ÿßŸÑÿ£ÿÆŸÑÿßŸÇŸäÿ©', color: 'rgb(236, 72, 153)' },
                { role: 'ÿßŸÑŸÖÿµŸÖŸÖ', description: 'ÿ™ÿµŸÖŸäŸÖ ÿßŸÑÿπÿ±Ÿàÿ∂ ÿßŸÑÿ™ŸÇÿØŸäŸÖŸäÿ©', color: 'rgb(245, 158, 11)' }
            ];
            
            const labels = teamRoles.map(r => r.role);
            const data = [25, 25, 25, 25]; // Equal distribution for demo
            
            new Chart(ctx2d, {
                type: 'doughnut',
                data: {
                    labels: labels,
                    datasets: [{
                        label: 'ÿ£ÿØŸàÿßÿ± ÿßŸÑŸÅÿ±ŸäŸÇ',
                        data: data,
                        backgroundColor: teamRoles.map(r => r.color.replace('rgb', 'rgba').replace(')', ', 0.8)')),
                        borderColor: teamRoles.map(r => r.color),
                        borderWidth: 2,
                        hoverOffset: 10
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            display: false
                        },
                        tooltip: {
                            callbacks: {
                                afterLabel: function(context) {
                                    const index = context.dataIndex;
                                    return teamRoles[index].description;
                                }
                            },
                            bodyFont: {
                                family: 'Tajawal, sans-serif',
                                size: 12,
                            },
                            titleFont: {
                                family: 'Tajawal, sans-serif',
                                size: 14,
                                weight: 'bold'
                            }
                        }
                    },
                    cutout: '60%'
                }
            });
            
            // Custom legend with descriptions
            if (legendContainer) {
                legendContainer.innerHTML = teamRoles.map(r => `
                    <div class="flex items-center gap-3 p-3 bg-white rounded-lg shadow-sm hover:shadow-md transition-all">
                        <div class="w-4 h-4 rounded-full" style="background-color: ${r.color}"></div>
                        <div class="flex-1">
                            <p class="font-bold text-gray-800">${r.role}</p>
                            <p class="text-sm text-gray-600">${r.description}</p>
                        </div>
                    </div>
                `).join('');
            }
        }

        let currentTipIndex = 0;
        function showTip(index) {
            currentTipIndex = index;
            const slider = document.querySelector('.tips-slider');
            const indicators = document.querySelectorAll('.tip-indicator');
            
            if (slider) {
                slider.style.transform = `translateX(-${index * 100}%)`;
            }
            
            indicators.forEach((indicator, i) => {
                if (i === index) {
                    indicator.classList.add('bg-yellow-500');
                    indicator.classList.remove('bg-gray-300');
                } else {
                    indicator.classList.remove('bg-yellow-500');
                    indicator.classList.add('bg-gray-300');
                }
            });
        }
        
        function nextTip() {
            const data = guideData[userSelections.combinedKey];
            if (!data) return;
            
            currentTipIndex = (currentTipIndex + 1) % data.goldenTips.length;
            showTip(currentTipIndex);
        }
        
        function previousTip() {
            const data = guideData[userSelections.combinedKey];
            if (!data) return;
            
            currentTipIndex = (currentTipIndex - 1 + data.goldenTips.length) % data.goldenTips.length;
            showTip(currentTipIndex);
        }

        function toggleTaskDetails(index) {
            const taskNode = document.getElementById(`task-${index}`);
            if (taskNode) {
                const isExpanded = taskNode.classList.contains('expanded');
                
                // Close all other tasks
                document.querySelectorAll('.task-node.expanded').forEach(node => {
                    node.classList.remove('expanded');
                });

                // Toggle the clicked task
                if (!isExpanded) {
                    taskNode.classList.add('expanded');
                }
            }
        }

        // --- Initialization ---
        document.addEventListener('DOMContentLoaded', function() {
            fetchStudentData(); // Load student data on startup
            fetchLessonData(); // Load lesson data on startup
            fetchProjectConfig(); // Load project configuration on startup

            const loginForm = document.getElementById('loginForm');
            if(loginForm) {
                loginForm.addEventListener('submit', handleLogin);
            }
            
            // Close test modal on overlay click
            document.getElementById('testModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    closeTestModal();
                }
            });

            createNavIndicators();
            showScreen(0);
            
            // Close modal on overlay click
            document.getElementById('helpModal').addEventListener('click', function(e) {
                if (e.target === this) {
                    toggleHelpModal();
                }
            });

            // Keyboard navigation
            document.addEventListener('keydown', function(e) {
                if (e.target.tagName.toLowerCase() === 'textarea' || e.target.tagName.toLowerCase() === 'input') return;
                
                const modal = document.getElementById('helpModal');
                if (modal.classList.contains('active') && e.key === 'Escape') {
                    toggleHelpModal();
                    return;
                }
                
                const testModal = document.getElementById('testModal');
                 if (testModal.classList.contains('active') && e.key === 'Escape') {
                    closeTestModal();
                    return;
                }
                
                if (!modal.classList.contains('active')) {
                    if (e.key === 'ArrowLeft') {
                        if (document.dir === 'rtl') navigateNext();
                        else navigatePrevious();
                    }
                    if (e.key === 'ArrowRight') {
                        if (document.dir === 'rtl') navigatePrevious();
                        else navigateNext();
                    }
                }
            });
        });
        
        // ===== Lesson Data and Rendering =====
        
        // Global variable to hold lesson data after fetching
        let lessonData = null;
        
        // Global variable to hold project configuration
        let projectConfig = null;
        
        // Async function to fetch project configuration
        async function fetchProjectConfig() {
            try {
                const response = await fetch('data-start.json');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                projectConfig = await response.json();
                console.log('Project configuration loaded successfully');
            } catch (error) {
                console.error('Error loading project configuration:', error);
                // Fallback to current date if config fails to load
                projectConfig = {
                    projectStartDate: new Date().toISOString()
                };
                console.warn('Using current date as fallback project start date');
            }
        }
        
        // Async function to fetch lesson data from JSON file
        async function fetchLessonData() {
            try {
                const response = await fetch('lessons.json');
                if (!response.ok) {
                    throw new Error(`HTTP error! status: ${response.status}`);
                }
                lessonData = await response.json();
                console.log('Lesson data loaded successfully');
                
                // Auto-render if lesson screen is currently active
                if (typeof currentScreenIndex !== 'undefined' && 
                    typeof screens !== 'undefined' && 
                    screens[currentScreenIndex] && 
                    screens[currentScreenIndex].id === 'lessonScreen') {
                    renderLessonContent();
                }
            } catch (error) {
                console.error('Error loading lesson data:', error);
                // Show user-friendly error message
                const container = document.getElementById('lessonContent');
                if (container) {
                    container.innerHTML = `
                        <div class="text-center p-8">
                            <div class="text-red-600 text-xl mb-4">‚ö†Ô∏è ÿÆÿ∑ÿ£ ŸÅŸä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑÿ®ŸäÿßŸÜÿßÿ™</div>
                            <p class="text-gray-700">ÿ≠ÿØÿ´ ÿÆÿ∑ÿ£ ÿ£ÿ´ŸÜÿßÿ° ÿ™ÿ≠ŸÖŸäŸÑ ŸÖÿ≠ÿ™ŸàŸâ ÿßŸÑÿØÿ±ÿ≥. Ÿäÿ±ÿ¨Ÿâ ÿ™ÿ≠ÿØŸäÿ´ ÿßŸÑÿµŸÅÿ≠ÿ©.</p>
                        </div>
                    `;
                }
            }
        }
        
        // Icons mapping for different sections
        const iconMap = {
            'definitions': 'üìñ',
            'fields': 'üè•',
            'issues': '‚ö†Ô∏è',
            'elements': '‚úÖ',
            'standards': '‚≠ê'
        };
        
        // Function to render the lesson content
        function renderLessonContent() {
            const container = document.getElementById('lessonContent');
            if (!container) return;
            
            // Check if lesson data is loaded
            if (!lessonData) {
                container.innerHTML = `
                    <div class="text-center p-8">
                        <div class="inline-block animate-spin rounded-full h-16 w-16 border-t-4 border-b-4 border-blue-600 mb-4"></div>
                        <div class="text-xl text-gray-700">ÿ¨ÿßÿ±Ÿä ÿ™ÿ≠ŸÖŸäŸÑ ÿßŸÑŸÖÿ≠ÿ™ŸàŸâ...</div>
                    </div>
                `;
                return;
            }
            
            let html = '';
            
            // Title Banner
            html += `
                <div class="lesson-title-banner text-white text-center">
                    <div style="position: relative; z-index: 1;">
                        <div class="flex items-center justify-center gap-4 mb-4">
                            <ion-icon name="bulb" class="text-6xl"></ion-icon>
                        </div>
                        <h1 class="text-4xl md:text-5xl font-bold mb-3">${lessonData.lesson_title}</h1>
                        <div class="w-32 h-1 bg-white/50 mx-auto rounded-full"></div>
                    </div>
                </div>
            `;
            
            // Introduction Card
            html += `
                <div class="intro-card">
                    <div style="position: relative; z-index: 1;">
                        <div class="flex items-center gap-3 mb-4">
                            <ion-icon name="information-circle" class="text-4xl text-blue-600"></ion-icon>
                            <h2 id="section-intro" class="text-2xl font-bold text-gray-800">ŸÖŸÇÿØŸÖÿ©</h2>
                        </div>
                        <p class="text-lg text-gray-700 leading-relaxed">${lessonData.introduction}</p>
                    </div>
                </div>
            `;
            
            // Render Sections
            lessonData.sections.forEach((section, index) => {
                html += `<div class="section-card">`;
                
                // Section Header
                const sectionId = `section-${index + 1}`;
                html += `
                    <div class="section-header">
                        <div class="section-number">${index + 1}</div>
                        <h2 id="${sectionId}" class="text-2xl md:text-3xl font-bold text-gray-800 flex-1">${section.section_title}</h2>
                    </div>
                `;
                
                // Section Introduction (if exists)
                if (section.introduction) {
                    html += `
                        <div class="info-box mb-4">
                            <p class="text-lg leading-relaxed">${section.introduction}</p>
                        </div>
                    `;
                }
                
                // Relation to Philosophy (if exists)
                if (section.relation_to_philosophy) {
                    html += `
                        <div class="highlight-box">
                            <h3 class="text-xl font-bold text-gray-800 mb-2">ÿßŸÑÿπŸÑÿßŸÇÿ© ÿ®ÿßŸÑŸÅŸÑÿ≥ŸÅÿ©</h3>
                            <p class="text-gray-700 leading-relaxed">${section.relation_to_philosophy}</p>
                        </div>
                    `;
                }
                
                // Definitions
                if (section.definitions) {
                    section.definitions.forEach(def => {
                        html += `
                            <div class="definition-card">
                                <div style="position: relative; z-index: 1;">
                                    <span class="term-label">${def.term}</span>
                                    <p class="text-gray-800 text-lg leading-relaxed">${def.definition.replace(/\n/g, '<br>')}</p>
                                </div>
                            </div>
                        `;
                    });
                }
                
                // Fields (Bioethics Areas)
                if (section.fields) {
                    html += `
                        <div class="diagram-container">
                            <div class="diagram-title">üè• ÿßŸÑŸÖÿ¨ÿßŸÑÿßÿ™ ÿßŸÑÿ´ŸÑÿßÿ´ÿ© ŸÑŸÑÿ£ÿÆŸÑÿßŸÇ ÿßŸÑÿ®ŸäŸàÿ∑ÿ®Ÿäÿ©</div>
                            <div class="connection-diagram">
                    `;
                    
                    section.fields.forEach((field, idx) => {
                        const icons = ['üè•', 'üî¨', '‚öñÔ∏è'];
                        html += `
                            <div class="connection-node">
                                <div>
                                    <div class="text-3xl mb-2">${icons[idx]}</div>
                                    <div class="font-bold">${field.field_name}</div>
                                </div>
                            </div>
                        `;
                    });
                    
                    html += `
                            </div>
                        </div>
                    `;
                    
                    // Field Details
                    section.fields.forEach((field, idx) => {
                        const colors = [
                            'linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%)',
                            'linear-gradient(135deg, #81ecec 0%, #00b894 100%)',
                            'linear-gradient(135deg, #fdcb6e 0%, #e17055 100%)'
                        ];
                        const icons = ['üè•', 'üî¨', '‚öñÔ∏è'];
                        
                        html += `
                            <div class="field-card" style="background: ${colors[idx]};">
                                <div style="position: relative; z-index: 1;">
                                    <div class="field-icon">${icons[idx]}</div>
                                    <h3 class="text-2xl font-bold mb-3">${field.field_name}</h3>
                                    <p class="text-lg leading-relaxed opacity-95">${field.description.replace(/\n/g, '<br>')}</p>
                                </div>
                            </div>
                        `;
                    });
                }
                
                // Issues (Organ Transplant Cases)
                if (section.issues) {
                    section.issues.forEach((issue, idx) => {
                        const colors = [
                            'linear-gradient(135deg, #fd79a8 0%, #e84393 100%)',
                            'linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%)',
                            'linear-gradient(135deg, #fab1a0 0%, #e17055 100%)',
                            'linear-gradient(135deg, #55efc4 0%, #00b894 100%)'
                        ];
                        
                        html += `
                            <div class="issue-card" style="background: ${colors[idx % colors.length]};">
                                <div style="position: relative; z-index: 1;">
                                    <h3 class="text-2xl font-bold mb-3">‚ö†Ô∏è ${issue.issue_title}</h3>
                                    <p class="text-lg leading-relaxed opacity-95">${issue.content.replace(/\n/g, '<br>')}</p>
                                </div>
                            </div>
                        `;
                    });
                }
                
                // Elements (Informed Consent)
                if (section.elements) {
                    html += `
                        <div class="mb-4">
                            <h3 class="text-2xl font-bold text-center text-gray-800 mb-4">${section.elements_title}</h3>
                        </div>
                        <div class="elements-grid">
                    `;
                    
                    const elementIcons = ['üì¢', 'üß†', 'üë§', 'ü§ù', '‚úçÔ∏è'];
                    
                    section.elements.forEach((element, idx) => {
                        html += `
                            <div class="element-card">
                                <div class="element-icon">${elementIcons[idx]}</div>
                                <div class="element-name">${element.name}</div>
                                <p class="text-gray-600 leading-relaxed">${element.description.replace(/\n/g, '<br>')}</p>
                            </div>
                        `;
                    });
                    
                    html += `</div>`;
                    
                    // Flowchart for Informed Consent
                    html += `
                        <div class="diagram-container mt-6">
                            <div class="diagram-title">üìã ÿπŸÖŸÑŸäÿ© ÿßŸÑŸÖŸàÿßŸÅŸÇÿ© ÿßŸÑŸÖÿ≥ÿ™ŸÜŸäÿ±ÿ©</div>
                            <div class="flowchart">
                                <div class="flowchart-item">üì¢ ÿßŸÑÿ•ŸÅÿµÿßÿ≠</div>
                                <div class="flowchart-arrow">‚¨áÔ∏è</div>
                                <div class="flowchart-item">üß† ÿßŸÑŸÅŸáŸÖ</div>
                                <div class="flowchart-arrow">‚¨áÔ∏è</div>
                                <div class="flowchart-item">üë§ ÿßŸÑÿ£ŸáŸÑŸäÿ©</div>
                                <div class="flowchart-arrow">‚¨áÔ∏è</div>
                                <div class="flowchart-item">ü§ù ÿßŸÑÿ∑ŸàÿßÿπŸäÿ©</div>
                                <div class="flowchart-arrow">‚¨áÔ∏è</div>
                                <div class="flowchart-item" style="background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white;">‚úçÔ∏è ÿßŸÑŸÖŸàÿßŸÅŸÇÿ© ÿßŸÑŸÜŸáÿßÿ¶Ÿäÿ©</div>
                            </div>
                        </div>
                    `;
                }
                
                // Standards (Medical Ethics Standards)
                if (section.standards) {
                    section.standards.forEach((standard, idx) => {
                        const colors = [
                            'linear-gradient(135deg, #55efc4 0%, #00b894 100%)',
                            'linear-gradient(135deg, #74b9ff 0%, #0984e3 100%)',
                            'linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%)',
                            'linear-gradient(135deg, #fdcb6e 0%, #e17055 100%)'
                        ];
                        
                        html += `
                            <div class="standard-card" style="background: ${colors[idx]};">
                                <div style="position: relative; z-index: 1;">
                                    <span class="standard-number">${standard.name}</span>
                                    <p class="text-lg leading-relaxed mb-3 opacity-95">${standard.description}</p>
                        `;
                        
                        if (standard.example) {
                            html += `
                                    <div class="bg-white/20 rounded-lg p-3 mt-3">
                                        <p class="text-base leading-relaxed">üí° <strong>ŸÖÿ´ÿßŸÑ:</strong> ${standard.example}</p>
                                    </div>
                            `;
                        }
                        
                        html += `
                                </div>
                            </div>
                        `;
                    });
                    
                    // Diagram for Standards
                    html += `
                        <div class="diagram-container">
                            <div class="diagram-title">‚öñÔ∏è ÿ£ÿ±ŸÉÿßŸÜ ÿßŸÑÿ£ÿÆŸÑÿßŸÇŸäÿßÿ™ ÿßŸÑÿ∑ÿ®Ÿäÿ© ÿßŸÑÿ≠ÿØŸäÿ´ÿ©</div>
                            <div class="connection-diagram">
                                <div class="connection-node" style="background: linear-gradient(135deg, #55efc4 0%, #00b894 100%);">
                                    <div>
                                        <div class="text-3xl mb-2">‚ú®</div>
                                        <div>ÿßŸÑŸÖŸÜŸÅÿπÿ©</div>
                                    </div>
                                </div>
                                <div class="connection-node" style="background: linear-gradient(135deg, #74b9ff 0%, #0984e3 100%);">
                                    <div>
                                        <div class="text-3xl mb-2">üõ°Ô∏è</div>
                                        <div>ÿπÿØŸÖ ÿ•ŸÑÿ≠ÿßŸÇ ÿßŸÑÿ£ÿ∞Ÿâ</div>
                                    </div>
                                </div>
                                <div class="connection-node" style="background: linear-gradient(135deg, #a29bfe 0%, #6c5ce7 100%);">
                                    <div>
                                        <div class="text-3xl mb-2">üóΩ</div>
                                        <div>ÿßÿ≠ÿ™ÿ±ÿßŸÖ ÿßŸÑÿßÿ≥ÿ™ŸÇŸÑÿßŸÑŸäÿ©</div>
                                    </div>
                                </div>
                                <div class="connection-node" style="background: linear-gradient(135deg, #fdcb6e 0%, #e17055 100%);">
                                    <div>
                                        <div class="text-3xl mb-2">‚öñÔ∏è</div>
                                        <div>ÿßŸÑŸÖÿ≥ÿßŸàÿßÿ© ŸàÿßŸÑÿπÿØŸÑ</div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    `;
                }
                
                html += `</div>`; // Close section-card
            });
            
            // Back Button
            html += `
                <div class="text-center mt-8">
                    <button onclick="showScreenById('contentScreen')" class="btn-primary inline-flex items-center gap-3 group">
                        <ion-icon name="arrow-forward" class="text-2xl group-hover:translate-x-2 transition-transform"></ion-icon>
                        <span>ÿßŸÑÿπŸàÿØÿ© ŸÑŸÑŸÖÿ≠ÿ™ŸàŸâ</span>
                    </button>
                </div>
            `;
            
            container.innerHTML = html;
            
            // Generate Table of Contents after content is rendered
            setTimeout(() => {
                generateToC();
            }, 100);
        }
        
        /**
         * Generates and renders the Table of Contents for lesson content
         */
        function generateToC() {
            const container = document.getElementById('lessonContent');
            if (!container) return;
            
            // Find all h2 elements in the lesson content
            const headings = container.querySelectorAll('h2');
            if (headings.length === 0) return;
            
            // Create ToC data structure
            const tocItems = [];
            headings.forEach((heading, index) => {
                // Ensure heading has an ID
                if (!heading.id) {
                    heading.id = heading.textContent.trim().replace(/\s+/g, '-').toLowerCase() || `section-${index}`;
                }
                
                tocItems.push({
                    id: heading.id,
                    text: heading.textContent.trim(),
                    element: heading
                });
            });
            
            if (tocItems.length === 0) return;
            
            // Generate ToC HTML
            const tocHTML = `
                <!-- Mobile ToC Toggle Button -->
                <button id="tocMobileToggle" 
                        class="md:hidden fixed top-20 left-4 z-50 bg-gradient-to-r from-purple-600 to-indigo-600 text-white px-4 py-2 rounded-full shadow-lg hover:shadow-xl transition-all flex items-center gap-2"
                        onclick="toggleMobileToC()"
                        aria-label="ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑŸÖÿ≠ÿ™ŸàŸäÿßÿ™">
                    <ion-icon name="list" class="text-xl"></ion-icon>
                    <span>ÿßŸÑŸÇÿßÿ¶ŸÖÿ©</span>
                </button>
                
                <!-- Mobile ToC Panel -->
                <div id="tocMobilePanel" 
                     class="md:hidden fixed top-32 left-4 right-4 bg-white rounded-2xl shadow-2xl p-6 z-40 max-h-[70vh] overflow-y-auto transform translate-x-[-120%] transition-transform duration-300">
                    <div class="flex items-center justify-between mb-4">
                        <h3 class="text-xl font-bold text-gray-800">ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑŸÖÿ≠ÿ™ŸàŸäÿßÿ™</h3>
                        <button onclick="toggleMobileToC()" class="text-gray-500 hover:text-gray-700">
                            <ion-icon name="close" class="text-2xl"></ion-icon>
                        </button>
                    </div>
                    <nav class="space-y-2">
                        ${tocItems.map(item => `
                            <a href="#${item.id}" 
                               onclick="toggleMobileToC(); return true;"
                               class="toc-link block px-4 py-2 rounded-lg hover:bg-purple-50 transition-colors text-gray-700 hover:text-purple-600"
                               data-target="${item.id}">
                                ${item.text}
                            </a>
                        `).join('')}
                    </nav>
                </div>
                
                <!-- Desktop Sticky ToC Sidebar -->
                <aside id="tocDesktop" 
                       class="hidden md:block fixed top-20 right-4 w-64 max-h-[calc(100vh-6rem)] overflow-y-auto z-30">
                    <div class="bg-white rounded-2xl shadow-xl p-6 border-2 border-purple-100">
                        <h3 class="text-lg font-bold text-gray-800 mb-4 flex items-center gap-2">
                            <ion-icon name="list" class="text-purple-600"></ion-icon>
                            ŸÇÿßÿ¶ŸÖÿ© ÿßŸÑŸÖÿ≠ÿ™ŸàŸäÿßÿ™
                        </h3>
                        <nav class="space-y-1">
                            ${tocItems.map(item => `
                                <a href="#${item.id}" 
                                   class="toc-link block px-3 py-2 rounded-lg text-sm text-gray-700 hover:bg-purple-50 hover:text-purple-600 transition-all border-r-2 border-transparent hover:border-purple-500"
                                   data-target="${item.id}">
                                    ${item.text}
                                </a>
                            `).join('')}
                        </nav>
                    </div>
                </aside>
            `;
            
            // Insert ToC at the beginning of lesson content
            container.insertAdjacentHTML('afterbegin', tocHTML);
            
            // Initialize IntersectionObserver for active state
            initToCObserver(tocItems);
        }
        
        /**
         * Toggles mobile ToC panel visibility
         */
        function toggleMobileToC() {
            const panel = document.getElementById('tocMobilePanel');
            if (panel) {
                panel.classList.toggle('translate-x-[-120%]');
            }
        }
        
        /**
         * Initializes IntersectionObserver to highlight active ToC links
         */
        function initToCObserver(tocItems) {
            if (!window.IntersectionObserver) {
                console.warn('IntersectionObserver not supported');
                return;
            }
            
            const observerOptions = {
                root: null,
                rootMargin: '-20% 0px -70% 0px',
                threshold: 0
            };
            
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    const targetId = entry.target.id;
                    const tocLinks = document.querySelectorAll(`.toc-link[data-target="${targetId}"]`);
                    
                    tocLinks.forEach(link => {
                        if (entry.isIntersecting) {
                            link.classList.add('active', 'bg-purple-100', 'text-purple-700', 'border-purple-500', 'font-semibold');
                            link.classList.remove('text-gray-700', 'hover:text-purple-600');
                        } else {
                            link.classList.remove('active', 'bg-purple-100', 'text-purple-700', 'border-purple-500', 'font-semibold');
                            link.classList.add('text-gray-700');
                        }
                    });
                });
            }, observerOptions);
            
            // Observe all heading elements
            tocItems.forEach(item => {
                if (item.element) {
                    observer.observe(item.element);
                }
            });
        }
    </script>
</body>
</html>
